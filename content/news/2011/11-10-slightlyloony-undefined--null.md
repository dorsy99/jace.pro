---
title: "undefined null    and   Oh My"
date: 2011-11-10T04:50:21.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=2f4da229dbd0dbc01dcaf3231f9619a6"
---
<p><span class="asset-asset_lightbox-Small asset-align-right"><a href="/files/SlightlyLoony/confused-baby2.jpg" rel="lightbox"><img rel="lightbox" src="http://community.service-now.com/files/imagecache/Small/SlightlyLoony/confused-baby2.jpg" alt="" title="" class="imagecache imagecache-Small" /></a></span>This past Monday I was at the inaugural meeting of our Federal Systems User Group (FSUG), where I had interesting conversations with several customers. In one of those conversations, we got to talking about developing on ServiceNow. An administrator (portrait at right) mentioned that while she had never used JavaScript before working with ServiceNow, she found the language generally easy to learn and use — except for one little area. "What," she asked "is the <i>real</i> difference between <span style="font-family=Courier;color:FireBrick;">null</span> and <span style="font-family=Courier;color:FireBrick;">undefined</span>? And what the #%*(*(@%$% is up with the <span style="font-family=Courier;color:FireBrick;">==</span> and <span style="font-family=Courier;color:FireBrick;">===</span>, anyway?"<br /><br />Well, my FSUG friend, this post's for you...<br /><!--break--><br />The notion of <span style="font-family=Courier;color:FireBrick;">null</span> is found in many programming languages, and usually by that name. Generally it indicates a reference to an object that happens to <i>not</i> refer to any object at the moment. The null is the <i>absence</i> of a reference in a reference. If you're of a certain age, you might naturally think of this as pointer containing a zero — a pointer that points to nothing. JavaScript's use of <span style="font-family=Courier;color:FireBrick;">null</span> is generally consistent with this, with one exception that I know of — if you execute a script like this:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />var x = null;<br />var y = typeof x;<br />gs.log(y);<br /></pre><br />The result (which seems quite odd to me) is <span style="font-family=Courier;color:FireBrick;">object</span>. I don't know the real reason that JavaScript designers chose this result, but my guess is that they want developers to think of the <span style="font-family=Courier;color:FireBrick;">null</span> as an object that just happens to have no value.<br /><br />Unlike many other popular programming languages, JavaScript lets you add properties to objects at runtime. That means that when any code gets an object value, it doesn't necessarily know what properties (including methods) it has. Consider this little snippet:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />var x = {};<br />x.name = 'Hazel';<br />x.ssn = '123-45-6789';<br /><br />var y = {};<br />y.name = 'Jeremy';<br />y.id = 'AX89 56E9 3HIE';<br /><br />var z = {};<br />z.name = 'Horace';<br />z.ssn = null;<br /><br />prettyPrint(x);<br />prettyPrint(y);<br />prettyPrint(z);<br /><br />function prettyPrint(person) {<br />    gs.log(person.name);<br />    gs.log(person.ssn);<br />}<br /></pre><br />When <span style="font-family=Courier;color:FireBrick;">prettyPrint()</span> prints Hazel, we get both her name and SSN, because Hazel is a U.S. citizen. But when we go to print Jeremy (who is a citizen of Elbonia), he has no SSN — so what should print? That SSN property was never set in Jeremy's object — in JavaScript-speak, it was never <i>defined</i>. So if something was never defined, then it must be <i>undefined</i> — and hence that JavaScript concept. In fact, if you run the code above, <i>undefined</i> is exactly what's logged. The <span style="font-family=Courier;color:FireBrick;">undefined</span> value is actually implemented in JavaScript by a special <span style="font-family=Courier;color:FireBrick;">Undefined</span> object, which only has one instance (it's a <i>singleton</i>). Horace has an SSN property, because he's a U.S. citizen, but he forgot what it was — so we assigned a <span style="font-family=Courier;color:FireBrick;">null</span> for him (Horace is a null kinda guy, actually).<br /><br />Note that difference between <span style="font-family=Courier;color:FireBrick;">null</span> and <span style="font-family=Courier;color:FireBrick;">undefined</span>: the former indicates that the property is there, but it doesn't refer to any value at the moment; the latter says the property isn't even <i>there</i>.<br /><br />As a practical matter, most of the time we don't care whether something is <span style="font-family=Courier;color:FireBrick;">null</span> or <span style="font-family=Courier;color:FireBrick;">undefined</span> — we're going to behave the same way whichever it happens to be. Consider this small modification of the code above:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />function prettyPrint(person) {<br />    gs.log(person.name);<br />    if (person.ssn != null)<br />        gs.log(person.ssn);<br />}<br /></pre><br />If you run this code, you'll see that we skip printing either <span style="font-family=Courier;color:FireBrick;">null</span> or <span style="font-family=Courier;color:FireBrick;">undefined</span>, simply by testing it. If <span style="font-family=Courier;color:FireBrick;">person.ssn</span> is <i>either</i> <span style="font-family=Courier;color:FireBrick;">null</span> or <span style="font-family=Courier;color:FireBrick;">undefined</span>, the line won't print. Why? Because both of those values, when compared to <span style="font-family=Courier;color:FireBrick;">null</span> with <span style="font-family=Courier;color:FireBrick;">!=</span>, will return <span style="font-family=Courier;color:FireBrick;">false</span>. The <span style="font-family=Courier;color:FireBrick;">==</span> and <span style="font-family=Courier;color:FireBrick;">!=</span> operators both treat <span style="font-family=Courier;color:FireBrick;">null</span> and <span style="font-family=Courier;color:FireBrick;">undefined</span> as if they were equivalent values. <br /><br />But what if your code needs to behave differently based on whether a value was really <span style="font-family=Courier;color:FireBrick;">undefined</span>? That's where the <span style="font-family=Courier;color:FireBrick;">===</span> and <span style="font-family=Courier;color:FireBrick;">!==</span> operators come into play. Consider this:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />function prettyPrint(person) {<br />    gs.log(person.name);<br />    if (person.ssn === undefined)<br />        gs.log('No SSN, probably not a U.S. citizen');<br />    else if (person.ssn === null)<br />        gs.log('No SSN supplied');<br />    else<br />        gs.log(person.ssn);<br />}<br /></pre><br />The <span style="font-family=Courier;color:FireBrick;">===</span> (also called the <i>identity</i> operator) only returns <span style="font-family=Courier;color:FireBrick;">true</span> only if the two operands are <i>exactly</i> the same thing. Not the same <i>value</i>, but exactly the same <i>object</i>. The operator <span style="font-family=Courier;color:FireBrick;">!==</span> is exactly the inverse of this.<br /><br />There's one peculiarity about the JavaScript implementation of <span style="font-family=Courier;color:FireBrick;">undefined</span> that's worth watching out for. It happens because <span style="font-family=Courier;color:FireBrick;">undefined</span> is actually an object. Check out this code:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />var x = {};<br />x.y = undefined;<br />gs.log(x.y);<br />gs.log(x.z);<br /></pre><br />Both <span style="font-family=Courier;color:FireBrick;">x.y</span> and <span style="font-family=Courier;color:FireBrick;">x.z</span> log as <span style="font-family=Courier;color:FireBrick;">undefined</span> — but the <span style="font-family=Courier;color:FireBrick;">x.y</span> actually <i>is</i> defined. This ambiguity can happen because <span style="font-family=Courier;color:FireBrick;">undefined</span> is actually an object, and like any other object can be assigned to a property. If the property involved happens to be one that you created (and not an intrinsic property of the object), you can still tell them apart like this:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />var x = {};<br />x.y = undefined;<br />gs.log(x.y);<br />gs.log(x.z);<br />gs.log(x.hasOwnProperty('y'));<br />gs.log(x.hasOwnProperty('z'));<br /></pre><br />The seldom-used <span style="font-family=Courier;color:FireBrick;">hasOwnProperty()</span> method is a built-in method of the <span style="font-family=Courier;color:FireBrick;">Object</span> class, so you can safely call it on any JavaScript object. <br /><br />I'm pretty sure this is much more than my FSUG friend actually wanted to know...</p>