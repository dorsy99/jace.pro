---
title: "Scripting A JavaScript Class to be Extended"
date: 2011-04-13T17:54:09.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=0a3daae5dbd0dbc01dcaf3231f9619b4"
---
<p><img __jive_id="5009" alt="" class="jive-image" src="Screen%20shot%202011-06-22%20at%206.54.09%20PM.png" style="width: auto; height: 132px;" />In today's post, I'm going to show you a JavaScript class (in a script include, of course) whose main purpose is to serve as something we'll extend in following posts. There are (at least!) four different ways that you can extend a JavaScript class on the Service-now platform. Each of the different ways is useful in different situations. If you understand how the four techniques work, you'll understand a great deal about JavaScript classes work.<br /><br />So what are these ways? We'll take 'em one at a time, starting tomorrow. For today, we'll just make a class that we <i>can</i> extend later. The class I've chosen is a utility class designed to make it easier and simpler for scripts to work with GlideRecords. I'm going to call it "GRUtil", and here's what it will do for starters:<br /><!--break--><br />The first method I'm implementing is named <i>getTables()</i>, and it returns an array with the tables that comprise the given table. For instance, if we execute the following code:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />var gru = new GRUtil();<br />gs.log(gru.getTables('cmdb_ci_win_server'));</pre><br />We'll get these results:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />cmdb_ci_win_server,cmdb_ci_server,cmdb_ci_computer,cmdb_ci_hardware,cmdb_ci</pre><br />And those are, in fact, all the tables that are part of the <i>cmdb_ci_win_server</i> table.<br /><br />The code for this starting version of the <i>GRUtil</i> object is below. The code in the <i>getTables()</i> method does two things that may be unfamiliar to you. First, it calls into the Java object named <i>DBObjectManager</i> to return the list of component tables. This is one of the Java objects that we expose (make available) to JavaScript, and you can see it used in various places in the scripts that we supply. Here we're basically wrapping it in a friendly JavaScript method to make it easier to use from script. The second thing that's likely new to you is the use of the <i>j2js()</i> function. This is a global function that's defined in it's own eponymously named script include. It does something very simple, but quite useful: it turns most Java values into JavaScript values. In this case, it's turning the Java ArrayList returned by DBObjectManager.getTables0() into a JavaScript array. The JavaScript array is much more convenient for your JavaScript to use.<br /><br />That's it for today! Tomorrow we'll extend this thing...for the first of four times...<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />var GRUtil = Class.create();<br /><br />GRUtil.prototype = {<br />   initialize : function() {<br />   },<br /><br />   /*<br />    * Returns an array containing the component tables for the given table.  For instance, given<br />    * 'cmdb_ci_win_server', returns an array with 'cmdb_ci_win_server', 'cmdb_ci_server',<br />    * 'cmdb_ci_computer', 'cmdb_ci_hardware', and 'cmdb_ci'.<br />    */<br />   getTables: function(table) {<br />      var om = Packages.com.glide.db.DBObjectManager.get();<br />      var tables = om.getTables0(table);<br />      return j2js(tables);<br />   }<br />}</pre></p>