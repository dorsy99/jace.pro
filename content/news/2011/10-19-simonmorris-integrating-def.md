---
title: "Integrating Defect Management into SCRUM"
date: 2011-10-18T21:03:46.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=1b3e62addbd0dbc01dcaf3231f96194b"
---
<p>In a change of subject from ITSM... now for something completely different.<br /><br />I've been doing some research into integrating Defect Management (as in Software bugs) into SCRUM. I thought I'd offer up what I've found so far in the hope that some commentary and improvements would follow.<br /><br /><h2>Table of Contents</h2><br /><ul><li><a title="I" href="#intro">Introduction to SCRUM</a></li><li><a title="S" href="#terms">SCRUM Terminology</a></li><li><a title="R" href="#roles">Roles in SCRUM</a></li><li><a title=">" href="#defect">When is a Defect not a Defect</a></li><li><a title="te" href="#anticipate">Anticipating Defects in Sprint planning</a></li><li><a title="y" href="#bugs">Types of SCRUM bugs</a></li><li><a title="" href="#priority">Prioritizing Defects</a></li><li><a title="" href="#handling">Handling the Defect</a></li><li><a title="g" href="#measuring">Measuring the effectiveness of Defect Management</a></li><li><a title="al" href="#additional">Additional Reading</a></li><li style="list-style: none"><br /><br /><h2><a id="intro" name="intro">Introduction to the subject</a></h2><br /><br />SCRUM is an Agile development process that aims to produce software that is rich in functionality and low in defects. The methodology is based around prioritising features, and favouring the development of those features over long term building of specifications and requirements gathering.<br /><br />Importantly it reduces the software development lifecycle by testing earlier.<br /><br />It does this by removing the long testing phases associated with traditional software development methodologies. Instead creating teams of cross-functional engineers who can iteratively code, design and test.<br /><br />Defect Management is the process of detecting, logging, categorizing, prioritizing and resolving defects in software.<br /><br /><h2><a id="terms" name="terms">SCRUM terminology</a></h2><br /><br /><ul><li><b><a title=".wikipedia.org/wiki/User_story" href="http://en.wikipedia.org/wiki/User_story">User Stories</a></b>: Small, discrete descriptions of user functionality. Stories will be scored using a points system depending on the complexity of the implementation.</li><li><b><a title=".wikipedia.org/wiki/Scrum_(development)#Sprint" href="http://en.wikipedia.org/wiki/Scrum_(development)#Sprint">Sprint</a></b>: The smallest unit of time in SCRUM planning. A timeboxed period in which to complete a pre-determined number of Stories.</li><li><b><a title=".wikipedia.org/wiki/Scrum_(development)#Sprint_backlog" href="http://en.wikipedia.org/wiki/Scrum_(development)#Sprint_backlog">Sprint Backlog</a></b>: The list of outstanding work to be completed during the current sprint</li><li><b><a title=".wikipedia.org/wiki/Scrum_(development)#Product_backlog" href="http://en.wikipedia.org/wiki/Scrum_(development)#Product_backlog">Product Backlog</a></b>: The overall list of outstanding work relating to the project/product. The Product Backlog is maintained by the Product Owner</li></ul><br /><br />The <a title=".wikipedia.org/wiki/Scrum_(development)" href="http://en.wikipedia.org/wiki/Scrum_(development)">Wikipedia page on SCRUM</a> has a nice visualization of the Product Backlog, Sprint Backlog and Sprints<br /><br /><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Scrum_process.svg/800px-Scrum_process.svg.png" /><br /><br /><h2><a id="roles" name="roles">Roles in SCRUM</a></h2><br /><br />SCRUM defines the <a title=".wikipedia.org/wiki/Scrum_(development)#Core_Scrum_roles" href="http://en.wikipedia.org/wiki/Scrum_(development)#Core_Scrum_roles">following roles:</a><br /><ul><li>Product Owner: Represents the voice of the business, and the users of the system. Is able to prioritise features (represented as Stories)</li><li>Team: Responsible for the implementation of the project/product and the creation of the code to support User Stories. The teams "success" is measured on their velocity, how many story points they are able to implement during a given sprint</li><li>ScrumMaster: Responsible for leading the team, and removing any impediments to progress</li></ul><br /><br /><h2><a id="defect" name="defect">When is a Defect not a Defect</a></h2><br /><br />Because of the tight integration between development and testing a number of defects should be identified and resolved during the sprint.<br /><br />Testing should be written before development starts. The developer implementing the story will test it during coding, and Quality Assurance is either a peer developer, or perhaps a dedicated tester working as part of the same SCRUM.<br /><br />If a test fails at this point it's important to classify this defect differently to one found after the code is release (for example by a user).<br /><br />Strictly speaking the code hasn't been declared as "done" at this stage - the team hasn't said it is ready for use. However, if metrics need to be taken (for example the <a title="g" href="#measuring">Defect Detection Percentage</a> you may need to record these test failures as a type of defect<br /><br />Although there is a defect in the code, it's important to differentiate this from a defect that "escapes" the sprint.<br /><br />Ultimately, in an environment where (a) tests are written before the code and (b) tests are good enough to find defects, by the time the code is accepted by the Product Owner we will have already been through some aggressive testing.<br /><br />It is the responsibility of the Product Owner not to accept code if tests are outstanding and it isn't "done".<br /><br /><h2><a id="anticipate" name="anticipate">Anticipating Defects in Sprint planning</a></h2><br /><br />The nature of SCRUM is towards writing the functionality and features that matter, and on delivering a useable product. It's assumed by teams that the majority of time will be spent on developing new features rather than fixing defects introduced at an earlier stage.<br /><br />For new products it's certainly true that nearly 100% of the time will be spent on developing new features. However, over time as escaped defects arise and come back to the team the sprint planning must consider the amount of time spent on resolving defects.<br /><br />This image from <a title="w.agileevidence.com/2010/01/tips-from-scrum-master-anticipate.html" href="http://www.agileevidence.com/2010/01/tips-from-scrum-master-anticipate.html">agileevidence.com</a> shows the introduction of escaped defects into the sprint planning, and that amount of effort increasing over time as more escaped defects are found<br /><br /><img  alt="" class="jive-image" src="9ee0910adbdc97041dcaf3231f96194f.iix" /><br /><br /><h2><a id="bugs" name="bugs">Types of SCRUM bugs</a></h2><br /><br />When deciding on how to manage defects as part of the SCRUM process it is important to identify the type of Defect, and to follow the appropriate action.<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><table><tr><th>Type</th><th>Description</th><th>Action</th></tr><tr><td>Simple</td><td>The implementation is wrong, but the story was complete and correct</td><td>Doesn't count towards team velocity</td></tr><tr><td>Incomplete Story</td><td>The implementation is right, but the story was missing a critical detail.</td><td>The team velocity shouldn't be adversely impacted</td></tr><tr><td>Wrong Story</td><td>The implementation was right, but the story was a bad idea.</td><td>The team velocity shouldn't be adversely impacted</td></tr><tr><td>Changed Story</td><td>The implementation was right, and the story was right, however the requirements changed over time</td><td>The team velocity shouldn't be adversely impacted</td></tr><tr><td>Legacy Bug</td><td>No story exists for this feature as it was coded before SCRUM was adopted</td><td>Should count towards velocity and be treated differently to "In SCRUM" defects</td></tr></table><br /><br /><h2><a id="priority" name="priority">Prioritizing Defects</a></h2><br /><br />As escaped defects are found and logged it's important to prioritize them correctly in order to guage when and how they should be resolved.<br /><br />Firstly a priority scheme should be used to identify Critical defects that must be addressed and resolved immediately. This may involve using resources already scheduled on a sprint, therefore reducing the number of features we aim to deliver<br /><br />Therefore this should only be done for the highest priority of Defect, and having a repeatable way of assigning priority will help here.<br /><br />In the same way that User Stories should be rated (to determine priority and importance of new functionality) a similar scheme should be used for defects.<br /><br />This is especially important as bugs (with any other severity than Critical) will be considered alongside User Stories for inclusion into a particular sprint.<br /><br />With a finite amount of engineering resource (For example a team of 4 engineers sprinting for a month will have 640 hours available (40 hours * 4 weeks * 4 resources)) it is important to assign that resource to the highest priority feature or defect.<br /><br />Ultimately this is the decision of the Product Owner who will choose User Stories (both functional and defect related) to put into the Sprint Backlog.<br /><br />Using <a title="chaellant.com/2010/05/25/a-simple-agile-defect-management-process/" href="http://michaellant.com/2010/05/25/a-simple-agile-defect-management-process/">Michael Lants example</a><br /><br />To prioritize a Defect the Scope and Severity should be considered<br /><br /><b>Scope - How many users, customers or how much of the system is affected</b><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><table><tr><th>Value</th><th>Guideline</th></tr><tr><td>5</td><td>Affects most or all users and/or a very larger range of system functionality</td></tr><tr><td>4</td><td>Affects a large set of users and/or large range of system functionality</td></tr><tr><td>3</td><td>Affects a moderate set of users and/or moderate range of system functionality</td></tr><tr><td>2</td><td>Affects a small set of users and/or a small range of system functionality</td></tr><tr><td>1</td><td>Affects a minimal set of users and/or a very small range of system functionality</td></tr></table><br /><br /><hr /><br /><br /><b>Severity - How critical is the issue</b><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><table><tr><th>Value</th><th>Guideline</th></tr><tr><td>5</td><td>Data loss, data corruption or system unavailable</td></tr><tr><td>4</td><td>Important functionality is unavailable with no workaround</td></tr><tr><td>3</td><td>Important functionality is unavailable but has a reasonable workaround</td></tr><tr><td>2</td><td>Secondary functionality is unavailable but has a reasonable workaround</td></tr><tr><td>1</td><td>Cosmetic issues or some functionality unavailable but has a simple workaround</td></tr></table><br /><br />With this information we can evaluate the priority of the defect.<br /><br /><img  alt="" class="jive-image" src="e4214cc6db141344e9737a9e0f961901.iix" /><br /><br />and determine the correct action...<br /><br /><img  alt="" class="jive-image" src="fb370dcedb10d304b322f4621f9619c2.iix" /><br /><br />Whereas the priority of a User Story is calculated differently (Urgency and Business Impact) it is important to use the same ranking method so that the Product Owner is able to evaluate what should be added to a particular Sprint.<br /><br /><br /><h2><a id="handling" name="handling">Handling the Defect</a></h2><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><table><tr><th>Handling Critical Defects</th><td style="border-bottom: 1px solid #CCC;"><br />If a critical defect is found, by definition a very serious condition exists that affects multiple people. All effort must be made to fix the issue straight away at the expense of progress on the current sprint</td></tr><tr><th>Handling Simple defects</th><td style="border-bottom: 1px solid #CCC;"><br />Simple Defects are characterized as having been introduced to the system during a sprint. The defect remained undetected during the developer, peer and QA testing and the defect is said to have "escaped" the sprint.<br /><br />In this case the effort involved in resolving the defect is not recognized as team velocity, as the team is repaying a debt incurred in an earlier sprint.<br /><br />The defect should be associated with a User Story and placed into the Product Backlog. The User Story should be assigned zero points.<br /><br />During the sprint planning the team should pick the Story relating to the defect according to the priority set by the Product Owner.<br /><br />Naturally with the inclusion of zero point stories the teams velocity for that sprint will be reduced.<br /><br />As part of the resolution of the defect the team should also improve the unit testing for that code so that future tests will pick up these problems.<br /></td></tr><tr><th>Handling Incomplete or Wrong Story bugs</th><td style="border-bottom: 1px solid #CCC;"><br />Some defects will be introduced to the system due to an incomplete, wrong or changed user story. An example of a "Incomplete Story bug" would be a story that is missing key technical details so that the implementation follows the intent of the story but the outcome is wrong.<br /><br />An example of a "Wrong Story Bug" is a concept that is described well in the story, implemented correctly but the entire concept was flawed and should be removed.<br /><br />Lastly an example of a "Changed Story Bug" would be a correct implementation of a story that then generates new, changed or unforeseen use cases which don't work correctly<br /><br />In these cases the team velocity for future sprints shouldn't be impacted negatively. A User Story should be associated with the Defect and placed into the Product Backlog<br /><br />The Story should be scored accordingly and the Product Owner can prioritize and associate the story to a sprint alongside stories that describe functionality enhancements.<br /></td></tr><tr><th>Handling Legacy Defects</th><td style="border-bottom: 1px solid #CCC;"><br />Legacy Defects are characterized as having been introduced to the system during a non-SCRUM development cycle. Because of this there won't be a supporting User Story that describes the functionality that the code was supposed to provide, although it may be possible to use Version Control Systems to identify where the bug was introduced.<br /><br />To provide the balance between clearing legacy bugs, and providing new functionality the team shouldn't be "penalized" by discounting the work required to resolve the bug from the velocity of the sprint.<br /><br />A new User Story should be created for the Defect and placed into the Product Backlog. The Story should be assigned points according to the estimated effort involved in resolving the defect.<br /><br />The Product Owner can then prioritize and assign the Story into a Sprint.<br /><br />The work involved in fixing the defect counts towards the teams velocity.<br /></td></tr></table><br /><br /><h2><a id="measuring" name="measuring">Measuring the effectiveness of Defect Management</a></h2><br /><br />This subject is probably expansive enough for another blog post, but lets go into detail into one KPI, and summarize the others.<br /><br /><b>Defect Detection Percentage (DDP)</b><br /><br />DDP defines the ratio of defects discovered prior to release (by the SCRUM team) and after (by customers)<br /><br />To be able to calculate DDP the following metrics must be taken:<br /><br /><ul><li>Affected version of software in which the defect was found</li><li>The release date for each version</li><li>Number of defects detected at the point of release</li><li>Number of escaped defects</li></ul><br /><br />The DDP is calculated using the following formula<br /><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br />DDP = Number of defects at date of release / Number of defects at date of release + Number of escaped defects</pre><br /><br />So, if testing prior to release detected 100 defects, and a further 20 were detected once the code was released as "finished" the DDP would be calculated as<br /><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br />DDP = 100 / 100 + 20 = 0.83 (83%)</pre><br /><br />As the DDP will change over time (as more escaped defects are found) the metric is best displayed in the following method<br /><br /><embed width="800" height="600" src="https://docs.google.com/spreadsheet/pub?hl=en_US&amp;hl=en_US&amp;key=0Ak-Aw6lf-v7YdDdFWjNWWFZ6U3NpUjhyU2o2bVVGeVE&amp;output=html" frameborder="0" allowfullscreen=""></embed><br /><br /><a title="ocs.google.com/spreadsheet/pub?hl=en_US&hl=en_US&key=0Ak-Aw6lf-v7YdDdFWjNWWFZ6U3NpUjhyU2o2bVVGeVE&output=html" href="https://docs.google.com/spreadsheet/pub?hl=en_US&amp;hl=en_US&amp;key=0Ak-Aw6lf-v7YdDdFWjNWWFZ6U3NpUjhyU2o2bVVGeVE&amp;output=html">See the Google Spreadsheet</a><br /><br /><b>Other Defect Management KPIs include</b><br /><br /><ul><li>Defect Removal Efficiency</li><li>Defect Find Rate</li><li>Escaped Defects Found</li><li>Mean age of unresolved defects</li></ul><br /><br /><br /><h2><a id="additional" name="additional">Additional Reading</a></h2><br /><br />Thanks to the authors of the following articles:<br /><br /><ul><li><a title="w.agileevidence.com/2010/01/tips-from-scrum-master-anticipate.html" href="http://www.agileevidence.com/2010/01/tips-from-scrum-master-anticipate.html">Tips from a Scrum Master: Anticipate Defects</a></li><li><a title="w.infoq.com/news/2009/07/coping-with-bugs" href="http://www.infoq.com/news/2009/07/coping-with-bugs">Coping with Bugs on an Agile/Scrum Project</a></li><li><a title="w.scrumalliance.org/articles/136" href="http://www.scrumalliance.org/articles/136">Global Delivery Model - Agile Practices in Defect Fix Phase</a></li><li><a title="ileworld.blogspot.com/2007/04/applying-agilescrum-practices-in.html" href="http://agileworld.blogspot.com/2007/04/applying-agilescrum-practices-in.html">Applying Agile/Scrum practices in Maintenance projects</a></li><li><a title="ackoverflow.com/questions/2814634/in-scrum-should-a-team-remove-points-from-defect-stories-that-dont-result-in" href="http://stackoverflow.com/questions/2814634/in-scrum-should-a-team-remove-points-from-defect-stories-that-dont-result-in">In Scrum, should a team remove points from (defect) stories that don't result in a code change?</a></li><li><a title="chaellant.com/2010/05/25/a-simple-agile-defect-management-process/" href="http://michaellant.com/2010/05/25/a-simple-agile-defect-management-process/">A Simple Agile Defect Management Process</a></li><li><a title="ackoverflow.com/questions/5572577/is-it-wise-to-generate-stories-for-defects-when-using-scrum-and-there-is-no-stor" href="http://stackoverflow.com/questions/5572577/is-it-wise-to-generate-stories-for-defects-when-using-scrum-and-there-is-no-stor">Is it wise to generate stories for defects when using Scrum and there is no story already created?</a></li><li><a title="w.devx.com/architect/Article/46310/1954" href="http://www.devx.com/architect/Article/46310/1954">How to handle defects in Agile projects</a></li><li><a title="w.sdlcmetrics.org/metrics/defect-detection-percentage" href="http://www.sdlcmetrics.org/metrics/defect-detection-percentage">Defect Detection Percentage</a></li></ul><br /><br />As I dive deeper into Scrum and Defect Management I'll post again. Thanks for reading this far!</li></ul></p>