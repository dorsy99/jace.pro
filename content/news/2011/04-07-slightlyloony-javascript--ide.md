---
title: "JavaScript Identity vs Equality"
date: 2011-04-06T17:21:40.000Z
authors: ["SlightlyLoony"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=52dde6e9dbd0dbc01dcaf3231f96197e"
---
<p><img __jive_id="5004" alt="" class="jive-image" src="forumSuggestion.jpg" style="width: auto; height: 225px;" />In real life there's often a simple, obvious distinction between identity and equality. For instance, if you hand me two oranges I might think of them as <i>equal</i>, but I certainly wouldn't think of them as <i>identical</i>. They're equal in the sense that they have equal value to me, they taste the same, etc. They're not precisely the same, however — one might have a blotch over there, while perhaps the other has a bump over here. On the other hand, if you gave me a couple of freshly-minted dimes, right off the same stamping press — I'd think of them as not only <i>equal</i>, but <i>identical</i> in every respect.<br /><br />JavaScript can make the same sort of distinction in it's values. Consider this code:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />var x = 5;<br />var y = '5';<br />if (x == y)<br />    gs.log("They're the same!");</pre><br /><br />Here 'x' and 'y' are equal (and the comparison proves that), but they are not <i>identical</i>. How can you tell the difference in JavaScript?<br /><!--break--><br />The "identity operator" ('===') is the key. If we extend our code slightly, we can tell the difference easily:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />var x = 5;<br />var y = '5';<br />if (x == y)<br />    gs.log("They're the same!");<br />if (x === y)<br />    gs.log("They're identical!");</pre><br /><br />Run this, and it will log that 'x' and 'y' are the same, but not that they're identical. If you substitute a numeric 5 for the string '5' that's initializing 'y', it will log that they are both equal <i>and</i> identical. What exactly is going on here?<br /><br />The equality operator ('==') tests whether the value on the left is equal to the value on the right, without regard to the <i>type</i> of the value. In the example above, the numeric value in 'x' is <i>equal</i> to the string value in 'y' because the numeric value is coerced to a string value before the comparison is made. Their <i>value</i>, in JavaScript terms, is the same — so, to JavaScript, they are <i>equal</i>.<br /><br />The identity operator ('===') tests whether <i>both</i> the value and the type on the left are equal to those on the right. A numeric 5 is not <i>identical</i> to a string 5 in JavaScript — while the values are the same (after implicit coercion), the <i>types</i> are not (number vs. string). To JavaScript, these values are <i>equal</i> but not <i>identical</i>.<br /><br />Probably the most common use for the identity operator is to distinguish between a null value and an undefined value. Run this code:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />var x = undefined;<br />if (x == null)<br />    gs.log("X is equal to null");<br />if (x === null)<br />    gs.log("X is identical to null");</pre><br /><br />If your code needs to treat an undefined value differently than a null value, this is the easiest way to determine the difference.<br /><br />I've found the identity operator to be quite handy a few times when it actually mattered what type a value was. Consider this function:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />function log(x) {<br />    if (x)<br />        gs.log('Got here');<br />    else if (!x)<br />        gs.log('Was here');<br />    else<br />        gs.log(x);<br />}<br /><br />log(true);<br />log(false);<br />log('true');<br />log('false');</pre><br /><br />It doesn't give the result I wanted. But this does:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />function log(x) {<br />    if (x === true)<br />        gs.log('Got here');<br />    else if (x === false)<br />        gs.log('Was here');<br />    else<br />        gs.log(x);<br />}<br /><br />log(true);<br />log(false);<br />log('true');<br />log('false');</pre><br /><br />Add the identity operator to your geekly toolbox!</p>