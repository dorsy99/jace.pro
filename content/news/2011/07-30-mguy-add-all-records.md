---
title: "Add ALL records from a table that a glidelist record references"
date: 2011-07-29T20:42:07.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=5d1eae2ddbd0dbc01dcaf3231f9619e6"
---
<p>Today, I have a very interesting requirement from a customer, when logging a change in their current tool, in the 'Affected Environments' field, instead of selecting every environment like, PROD, UAT, DR they had an option to SELECT ALL.<br /><br />We don't really have that option in a glide_list field in SNC but they wanted to keep that easy, select all functionality and they wanted to be able to report on environments affected, so just using ALL in the glide_list was not an option.<br /><br />so here is what we done.<br /><br />On the table that the glide_list referenced (which in this case was a table called ENVIRONMENTS we created a dummy record called ALL.<br />Then we created an OnChange client script that if 'ALL' was added to the glide_list field, we would grab every record from that table and populate the glide_list field with all environments like UAT, PROD, etc, thus saving them the time of typing every affected environment into the lookup field.<br /><br />Here's the client script, it uses the callback feature so as not to tie up the client screen too:<br />We could have used ('name', '!=', 'ALL') in the query but I thought the sys_id of the dummy would be safer and it's easier to grab in the client.<br /><br />function onChange(control, oldValue, newValue, isLoading, isTemplate) {<br /> if (isLoading || newValue == '') {<br /> return;<br /> }<br />if (newValue.indexOf('28fcbadb1c4894005000f6c7e888e2d7') &gt;= 0) <br />//see if they have added the all record to the list the long string is the sys_id for the dummy record named ALL<br />{<br />var gr = new GlideRecord('u_environments'); //go look on the environments table<br />gr.addQuery('sys_id', '!=','28fcbadb1c4894005000f6c7e888e2d7'); //query for every record except the dummy ALL record<br />gr.query(myCallbackFunctionforenvironments); //Execute the query with a callback function so as not to lock the client<br />}<br />}<br />function myCallbackFunctionforenvironments(gr){<br />var list = new Array();<br /> while (gr.next()) {<br /> list.push(gr.sys_id);<br />}<br />g_form.setValue('u_affected_environments',list); //add all records except ALL into the glide_list field<br />gel('change_request.u_affected_environments_lock').onclick(); //lock the field so it reduces in size on the form<br />}</p>