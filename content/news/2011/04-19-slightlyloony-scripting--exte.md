---
title: "Scripting Extending a Class Part III"
date: 2011-04-18T15:43:00.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=08bc2a25dbd0dbc01dcaf3231f961925"
---
<p><img  alt="" class="jive-image" src="8fb70986db1413043eb27a9e0f9619fb.iix" style="width: auto; height: 187px;" />On Friday, I promised (threatened?) to show you yet another way to extend a JavaScript class on the Service-now platform. This new way would let you extend a class provided by Service-now <i>without</i> interfering with future updates to that class, and the same mechanism would also let you make specialized versions of a class.<br /><br />Our geek at right is beside himself with anticipation. Here's the answer:<br /><!--break--><br /><div style="clear:right;float:right;border:1px solid FireBrick;"><p style="margin:10px;font-size:80%;line-height:120%"><br />Posts in this series:<br /><a title="lightlyLoony/blog/2011/4/13/2067" href="/community?id=community_blog&sys_id=0a3daae5dbd0dbc01dcaf3231f9619b4">A JavaScript Class to be Extended</a><br /><a title="lightlyLoony/blog/2011/4/14/2068" href="/community?id=community_blog&sys_id=7e7ce2e1dbd0dbc01dcaf3231f961916">Extending a Class, Part I...</a><br /><a title="lightlyLoony/blog/2011/4/15/2069" href="/community?id=community_blog&sys_id=fedc2a65dbd0dbc01dcaf3231f9619ad">Extending a Class, Part II...</a><br /></p></div>Instead of modifying the <i>GRUtil</i> class itself (as I showed you on Friday), we're going to <i>extend</i> it by creating a child class of <i>GRUtil</i> named <i>SpecialGRUtil</i>. It could, of course, be named anything at all. Here's what the code looks like (in its very own script include):<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />var SpecialGRUtil = Class.create();<br /><br />SpecialGRUtil.prototype = Object.extendsObject(GRUtil, {<br /><br />   /*<br />    * Returns an array containing any tables that extend the given table.  For example, given<br />    * 'cmdb_ci_netgear', returns an array with 'cmdb_ci_ip_switch' and 'cmdb_ci_ip_router'.<br />    */<br />   getChildTables: function(table) {<br />      var om = Packages.com.glide.db.DBObjectManager.get();<br />      var tables = om.getTableExtensions(table);<br />      return j2js(tables);<br />   },<br /><br />   type: 'SpecialGRUtil'<br />});</pre><br /><br />Note the special syntax <i>Object.extendsObject(GRUtil</i>. For now, you can think of this as a magic incantation that lets you extend an existing object (<i>GRUtil</i> in this case). If you're really curious how it works (and it's not really very hard), check out the script include <i>PrototypeServer</i> â€” this is where that magic incantation is actually run.<br /><br />Also I've introduced one other little trick in this code, right at the end where I've put <i>type: 'SpecialGRUtil'</i>. This doesn't actually do anything useful in the code. Technically, it's defining a property named <i>type</i> containing the string <i>'SpecialGRUtil'</i>. But by placing this as the very last thing defined, all the other properties being defined need a comma following them. We find it easier to remember that way. You'll see this little trick a lot in the code supplied by Service-now.<br /><br />Now this code will let you use the new method:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />var gru = new SpecialGRUtil();<br />gs.log(gru.getChildTables('cmdb_ci_server'));</pre><br /><br />It's exactly like last week, except that now you create an instance of your new class.<br /><br />Now there's only one more way to extend a class to show you. This last method is useful in a special case: where you want to <i>temporarily</i> modify a class, so that new instantiations of it will be modified (which the first method failed to do), the class isn't permanently modified (as the second method did), and so that we don't have to create a new class as we did today. I'll show you this way tomorrow...</p>