---
title: "Convert Date to Date Time"
date: 2011-12-21T03:07:38.000Z
authors: ["Chuck Tomasi"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=a29d6e69dbd0dbc01dcaf3231f961954"
---
<p><img  alt="" class="jive-image" src="166b0802db9017041dcaf3231f96193a.iix" align="right" />I don't know about you, but one of the most troublesome issues I have with JavaScript is manipulating time related variables. It seems that time zones are either applied when I don't want them, or not applied when I want them. Recently a customer came up with a request to have a date variable on a record producer saved in a date_time field on a form. "But Chuck, why wouldn't you just put a date_time variable on the record producer and let it map to the record field?" Don't ask - long story. Suffice it to say - sometimes you just have to give the customer what they ask for. Once again I found myself thumbing through examples in the forums. After trying three different approaches, I found a solution.<br /><!--break--><br /><br />FYI - the record producer was creating a Change Request (change_request) record. The change request has a date_time field "Requested End Date" (u_requested_end_date) and the record producer has a date variable called "Requested Date" (requested_date.)<br /><br />The first thing I foolishly tried was:<br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />current.u_requested_end_date = producer.requested_date;<br /></pre><br /><br />It worked about as well as a screen door on a submarine!<br /><br />Next I tried converting them to GlideDate and GlideDateTime, but ran in to the timezone offset. I would enter "2011-12-21" in the variable and get back "2011-12-20 18:00:00". Frustrating.<br /><br />I even tried using the <a title="ki.service-now.com/index.php?title=GlideSystem_Date_and_Time_Functions#dateGenerate.28String.2C_String.29" href="http://wiki.service-now.com/index.php?title=GlideSystem_Date_and_Time_Functions#dateGenerate.28String.2C_String.29">gs.dateGenerate()</a> function, but it too had a timezone offset issue. See - I told you this was fun!<br /><br />Finally I came up with a solution that set a GlideDateTime variable, then took the numeric value and placed that in the resulting GlideDateTime field.<br /><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />var myDate = producer.requested_date;<br />var gdt = new GlideDateTime();<br />gdt.setDisplayValue(myDate);<br />current.u_requested_end_date.setDateNumericValue(gdt.getNumericValue());<br /></pre><br /><br />Since we had other record producer to create and do the same conversion, I created an <a title="lightlyLoony/blog/2010/8/23/2034" href="/community?id=community_blog&sys_id=b5bcea25dbd0dbc01dcaf3231f9619b2">on demand function</a> to house the guts of this.<br /><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />function u_date_to_datetime(dateStr) {<br />  if (dateStr == '')<br />    return;<br />  var gdt = new GlideDateTime();<br />  gdt.setDisplayValue(dateStr);<br />  return gdt.getNumericValue();<br />}<br /></pre><br /><br />then use it like this:<br /><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />current.u_requested_end_date.setDateNumericValue(u_date_to_datetime(producer.requested_date));<br /></pre><br /><br />Now when I enter "2011-12-21" the resulting change record has "2011-12-21 00:00:00", just what I want!<br /><br />I know, this is a bit of an odd example. The more I use this stuff, the more I start to understand the classes, methods available, and potential solutions. Have a good TIME!</p>