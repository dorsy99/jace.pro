---
title: "The Wrong Parent"
date: 2011-04-05T18:09:44.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=b89daa69dbd0dbc01dcaf3231f96195a"
---
<p><img  alt="" class="jive-image" src="8082ac0edb10dfc068c1fb651f96197f.iix" style="width: auto; height: 200px;" />If you're a parent, have you ever wished you could hand your kid(s) off to someone else? Or...when you were a kid, did you ever wish you had a different set of (cooler) parents? The kid at right just found out he's getting some really cool parents, and is quite happy about that!<br /><br />But I can't help you with those problems. I can, however, help you with a somewhat similar problem: a table in Service-now that has the wrong parent (i.e., extends the wrong table). There are lots of ways this can happen. For example, perhaps you created a table for your company's Internet-aware soda machines, and only after you built the table did you realize that it really should extend Configuration Item (cmdb_ci) — after all, a soda machine is just as much a part of your CMDB as that Oracle server. They probably contribute more to corporate productivity! Or perhaps you created a new table for those soda machines, and extended Configuration Item (cmdb_ci) — but later decided that you really should have extended Hardware (cmdb_ci_hardware). After all, those soda machines are just as much a piece of hardware as that Dell 4U server. In either case, how do you get yourself out of this pickle?<br /><br />Why, with <b>TableParentChange</b>, of course!<br /><!--break--><br />Let's take one of the preceding examples. Suppose we have a table cmdb_ci_soda_machine which currently extends cmdb_ci. I'll write that as <i>cmdb_ci â†’ cmdb_ci_soda_machine</i>. Now we want to change it to extend cmdb_ci_hardware, so we'd end up with <i>cmdb_ci â†’ cmdb_ci_hardware â†’ cmdb_ci_soda_machine</i>. Here's the code that will do the trick:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />// some setup...<br />var table = 'cmdb_ci_soda_machine';   // the table whose parent we want to change...<br />var old_parent = 'cmdb_ci';           // the current parent of cmdb_ci_soda_machine...<br />var new_parent = 'cmdb_ci_hardware';  // the parent we WANT cmdb_ci_soda_machine to have...<br /><br />// now we actually do the work of changing parents...<br />var changer = new Packages.com.glide.db.table.TableParentChange(table);<br />changer.change(old_parent, new_parent);  // this actually does the work...</pre><br /><br />You can run this script from System Definition â†’ Scripts - Background (if you're an admin), or you can include it in a UI Action, Business Rule, etc. This does all the work of migrating existing entries in the table. On a table with a great many entries, this can take a while — but eventually it will be finished.<br /><br />One word of caution: this operation does <i>not</i> take into account possible duplicate fields you might have. You need to resolve any such issues <i>before</i> you run TableParentChange. For example, suppose that cmdb_ci_hardware had a field named 'button_count', and cmdb_ci_soda_machine also had a 'button_count' field before you run TableParentChange. You'll need to move the data in cmdb_ci_soda_machine from 'button_count' to some new field with a different name, then delete the 'button_count' field from cmdb_ci_soda_machine <i>before</i> running TableParentChange.<br /><br />Now … go get the right parent!</p>