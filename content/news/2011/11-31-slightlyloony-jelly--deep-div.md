---
title: "Jelly Deep Dive Series"
date: 2011-11-30T21:34:26.000Z
authors: ["SlightlyLoony"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=168da669dbd0dbc01dcaf3231f96198a"
---
<p>A few weeks ago, a friend and colleague asked me to do a series of posts on <a title=".wikipedia.org/wiki/Apache_Jelly" href="http://en.wikipedia.org/wiki/Apache_Jelly">Jelly</a>, because he knew that many people found it quite mystifying — not only how to use it, but even simply what it <em>was</em>.<br/><br/>The first time I ran into Jelly, I didn't have a camera around — but I think my face must have looked something like the fellow at right. I'll let you fill in the internal dialog :-)<br/><br/>But, in fact, Jelly really isn't that hard to understand. It's definitely <em>different</em>, but truly it's not terribly difficult.<br/><br/>So this is the first post in a series on Jelly, and I'll start from a high-level view and work down into the teensy little details...<br/><br/>What <em>is</em> Jelly, anyway? It's an open source technology (from <a title="w.apache.org/" href="http://www.apache.org/">the Apache Foundation</a>) that the ServiceNow instance uses to render (i.e., produce HTML) web pages. ServiceNow has enhanced standard Jelly to add even more capabilities.<br/><br/>Ok, but what does Jelly actually <em>do</em>? The end product of Jelly is HTML (i.e., the contents of a web page), plain and simple. That's the easy part! Jelly produces HTML by interpreting a <em>Jelly template</em>, which is itself an XML document. Jelly templates have their own very specific set of XML tags and syntax, but they also directly incorporate the HTML tags that will be produced as output. The special Jelly tags do all sorts of handy things, including some things that look a lot like a more conventional programming language, the ability to use data from the ServiceNow instance, ways to execute JavaScript (on either the web browser or the ServiceNow instance), and much more. <br/><br/><span class="asset-asset_lightbox-Small asset-align-right"><a _jive_internal="true" href="/files/SlightlyLoony/JellyHighLevel.png" rel="lightbox"><img alt="" class="imagecache imagecache-Small" src="http://community.service-now.com/files/imagecache/Small/SlightlyLoony/JellyHighLevel.png" title=""/></a></span>This is shown graphically at right (click to enlarge the diagram). The process works like this, conceptually (don't worry about the details at the moment):</p><ol><li><strong>Request</strong>: A web browser sends a request to the ServiceNow instance. The URL is for a web page that will be rendered with Jelly (not all ServiceNow URLs result in using Jelly, though most do).</li><li><strong>Jelly template selection</strong>: The ServiceNow instance uses the particulars in the URL for the request to select the right Jelly template to use for rendering the particular page.</li><li><strong>Jelly interpretation</strong>: The Jelly engine is invoked with the selected template, and the template is processed to produce the output HTML. There are <em>many</em> details about this process that we'll cover in later posts. For now, just note that the Jelly engine can access data from the ServiceNow instance, and use that data either as content in the output, or to make decisions about what to output.</li><li><strong>Response</strong>: The output HTML is transmitted back to the requesting web browser.</li></ol><p></p><p></p><p>There, that wasn't so bad, was it?</p><p></p><p>I'll end today's post with a very simple sample of a Jelly template. You can paste this into a new test UI page (System UI â†’ UI Pages) yourself and try it:</p><pre style="margin-left: 20px; line-height: 1; color: firebrick;"><br/>&lt;?xml version="1.0" encoding="utf-8"?&gt;<br/>&lt;j:jelly&gt;<br/>       &lt;j:set/&gt;<br/>       &lt;j:while&gt;<br/>             <br/>Test<br/>               &lt;j:set/&gt;<br/>       &lt;/j:while&gt;<br/>&lt;/j:jelly&gt;</pre><p><br/>I'm not going to cover the details of this sample in this post; this is just a sample to introduce you to Jelly's appearance.</p><p></p><p>If you actually render this Jelly (by testing it in a UI page), you'll get this HTML:</p><pre style="margin-left: 20px; line-height: 1; color: firebrick;"><br/><br/>Test<br/><br/>Test<br/><br/>Test</pre><p><br/>All those special Jelly tags are <em>not</em> themselves included in the output. But...the HTML tags <em>are</em> included — in fact, they're repeated three times. Can you see why?</p>