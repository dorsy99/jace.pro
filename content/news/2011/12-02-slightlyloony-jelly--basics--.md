---
title: "Jelly Basics on the Way to Jelly Ninjahood"
date: 2011-12-01T21:11:48.000Z
authors: ["SlightlyLoony"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=289ceae1dbd0dbc01dcaf3231f96192e"
---
<p><span class="asset-asset_lightbox-Small asset-align-right"><a href="/files/SlightlyLoony/ninja1.jpg" rel="lightbox"><img rel="lightbox" src="http://community.service-now.com/files/imagecache/Small/SlightlyLoony/ninja1.jpg" alt="" title="" class="imagecache imagecache-Small" /></a></span>Now that you have some idea what Jelly actually <i>is</i>, it's time for us to stick a toe into the Jelly jar. Yesterday I showed you this simple little Jelly template:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />&lt;?xml version="1.0" encoding="utf-8"?&gt;<br />&lt;j:jelly&gt;<br />    &lt;j:set/&gt;<br />    &lt;j:while&gt;<br />       <br />Test<br />        &lt;j:set/&gt;<br />    &lt;/j:while&gt;<br />&lt;/j:jelly&gt;<br /></pre><br />Today I'm going to tell you what all that stuff actually means. This is Jelly 101, folks.<br /><!--break--><br />The first line of that template is just a standard XML document header, not specific to Jelly at all.<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />&lt;?xml version="1.0" encoding="utf-8"?&gt;<br /></pre><br />The next line (and it's closing tag) identify this as a Jelly template. Every Jelly template <i>must</i> include this tag as the outermost tag, and all of the attributes (strictly speaking, <i>pseudo-attributes</i>) starting with <i>xmlns:</i> must be in it. There are other attributes possible for this tag, but for now they don't matter. This line defines a few <a title=".wikipedia.org/wiki/XML_namespace" href="http://en.wikipedia.org/wiki/XML_namespace">XML namespace</a> prefixes used within Jelly documents. In our case, there is the commonly used "j" prefix for standard Jelly tags, plus three prefixes ("g", "j2", and "g2") for tags that ServiceNow has added. The <i>jelly</i> tag (which is a standard Jelly tag) itself uses the namespace prefix "j"; that's why it appears as <i>j:jelly</i>:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />&lt;j:jelly&gt;<br />&lt;/j:jelly&gt;<br /></pre><br />It isn't actually important to understand all those details — you can get away with thinking of this as a magic incantation that's required to create a Jelly template.<br /><br />Now we're down to the meat — the part of our Jelly template that actually <i>does</i> something!<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />    &lt;j:set/&gt;<br />    &lt;j:while&gt;<br />       <br />Test<br />        &lt;j:set/&gt;<br />    &lt;/j:while&gt;<br /></pre><br />To help you see what's going in that mess, here's a JavaScript program that is line-for-line the equivalent of that Jelly — but easier to read, as it's not in an XML document:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />    var jvar_loopCount = 0;<br />    while (jvar_loopCount &lt; 3) {<br />        output('<br />Test');<br />        jvar_loopCount = jvar_loopCount + 1;<br />    }<br /></pre><br />Those five lines of Jelly are just making a little <i>while()</i> loop, and outputting our boring HTML <p><i>Test</i></p>three times. The reason it doesn't necessarily <i>look</i> like a programming language is all the stuff they had to do to make it possible to express this "program" in an XML document. <br /><br />Take the first line, for example. In JavaScript, <i>var jvar_loopCount = 0;</i> works very well — but for XML, not so much. The Jelly designers translated that into a <i>set</i> tag (to indicate that we're setting a variable to some value) with a <i>var</i> attribute to name the variable we're setting, and a <i>value</i> attribute to indicate what value we're setting it to.<br /><br />The other lines are similarly more familiar programming language constructs translated into a form that can be expressed in XML. Understanding this is crucial to understanding how Jelly works — it's worth some practice, which will make it much easier for you to look at (and make sense of!) Jelly templates. Also, just like other programming languages, the use of whitespace (especially for indentation) helps make Jelly templates understandable. I could have written the Jelly and JavaScript like this:<br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />    &lt;j:set/&gt; &lt;j:while&gt;<br />Test<br />    &lt;j:set/&gt;&lt;/j:while&gt;<br /></pre><br /><pre style="margin-left:20px;line-height:1;color:FireBrick;"><br />    var jvar_loopCount = 0; while (jvar_loopCount &lt; 3) {output('<br />Test');<br />    jvar_loopCount = jvar_loopCount + 1;}<br /></pre><br /><br />But I sure find it easier to read and understand it the way I first wrote it!<br /><br />Enough basics for now. If you'd like to investigate further, here is the online documentation for the standard Jelly tags we used: <a href="http://commons.apache.org/jelly/tags.html#core:jelly"><i>jelly</i></a>, <a href="http://commons.apache.org/jelly/tags.html#core:set"><i>set</i></a>, and <a href="http://commons.apache.org/jelly/tags.html#core:while"><i>while</i></a>.<br /><br />Tomorrow: one step closer to Jelly ninja-hood!</p>