---
title: "Living with Windows Output TCP Connection Limits"
date: 2009-05-21T19:26:29.000Z
authors: ["SlightlyLoony"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=2e9caee1dbd0dbc01dcaf3231f961945"
---
<p><img  alt="" class="jive-image" src="7fa61942db90d7041dcaf3231f961948.iix" style="width: auto; height: 120px;" />A Discovery user recently bumped into a Windows "feature" that had the unhappy effect of forcing the normally zippy Shazzam probe to slow itself <i>way</i> down — by a factor of over 100. Yikes! What has Microsoft foisted upon us this time?<br /><br />It's called "concurrent, incomplete outbound TCP connection attempt limiting". <!--break-->This feature is on by default in Windows XP SP2 and up, and off by default on Windows Vista. We haven't found documentation on other Windows versions — if you've got experience with this feature on them, please let us know. To quote <a title="w.microsoft.com/technet/support/ee/transform.aspx?prodname=windows%20operating%20system&prodver=5.2&evtid=4226&evtsrc=tcpip&lcid=1033" href="http://www.microsoft.com/technet/support/ee/transform.aspx?prodname=windows%20operating%20system&amp;prodver=5.2&amp;evtid=4226&amp;evtsrc=tcpip&amp;lcid=1033">Microsoft's TechNet</a> (more <a title="a" href="">here</a>):<br /><br /><div style="margin-left:50px;margin-right:50px;"><i>Establishing connection—rate limitations helps to limit the speed at which malicious programs, such as viruses and worms, spread to uninfected computers. Malicious programs often attempt to reach uninfected computers by opening simultaneous connections to random IP addresses. Most of these random addresses result in failed connections, so a burst of such activity on a computer is a signal that it may have been infected by a malicious program.<br /><br />Connection-rate limitations may cause certain security tools, such as port scanners, to run more slowly.<br /></i></div><br /> <br />So … basically, if you have this feature enabled then Windows thinks Shazzam (and other port scanners like it) is evil, and slows things way down (while simultaneously polluting the event log with error events). The solution, fortunately, isn't very hard: don't run a MID server on Windows XP, and don't enable this feature on any server version of Windows (we're guessing that it's available on Windows 2003 as well) if you want to run a MID server on it.<br /><br />Thanks a bunch, Bill...</p>