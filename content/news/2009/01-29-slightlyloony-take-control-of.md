---
title: "Take Control of Your MID Servers Memory"
date: 2009-01-28T20:53:08.000Z
authors: ["SlightlyLoony"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=737c26e1dbd0dbc01dcaf3231f961933"
---
<p><img  alt="" class="jive-image" src="4db7014adb541b04ed6af3231f9619c0.iix" style="width: auto; height: 113px;" />This Great White Shark is looking very happy about the resources in his vicinity. Aren't you glad that you're not the resource?<br /><br />When you first install a MID server to enable Discovery in your environment, it is configured with "reasonable" values for its resource consumption. Of course, what's reasonable for most organizations might not be reasonable for yours; one size doesn't necessarily fit all when it comes to MID servers. You may have a need for your MID server to work harder, and you'd like to allocate more resources to it. Or you may have the opposite situation — perhaps you need to run a MID server in a small branch office with very few devices, and you'd like it to sip resources very meagerly while it runs on your combination print server/file server/mail server/web proxy/who-knows-what server.<br /><br />Memory consumption is one of the key resources to control, whether you want to "overclock"your MID server or to make it play nice with the other processes on the host server. Here's how you can control the memory used by your MID Server:<!--break--><br /><br /><img  alt="" class="jive-image" src="3ba34ccadbd85fc068c1fb651f961922.iix" style="width: auto; height: 113px;" />The MID Server is a Java process, running under the control of the <a title="apper.tanukisoftware.org/doc/english/introduction.html" href="http://wrapper.tanukisoftware.org/doc/english/introduction.html">Java Service Wrapper</a> (JSW). Many applications make use of the JSW to allow their programs to run as either a Windows Service or a UNIX/Linux daemon, so you may already be familiar with it.<br /><br />JSW's <a title="apper.tanukisoftware.org/doc/english/properties.html" href="http://wrapper.tanukisoftware.org/doc/english/properties.html">configuration file</a> controls how the MID server starts up, including setting parameters for how much memory it will use. This configuration file is named <tt><b>wrapper.conf</b></tt>, and you can find it in the <tt><b>conf</b></tt> folder under the folder you installed the MID server into. <br /><br />The part of the configuration file we're interested in is listed below, with the key line colored red. By default, we set the maximum memory consumption for the MID server to 512 megabytes. You can tweak that up or down as you'd like; just change the value there and restart your MID server. That's all there is to it! <br /><br />You'll note there are many other parameters that you can also tweak — but please be careful; many of the other parameters in the configuration file really need to be exactly what they're set to...<br /><br /><tt>#********************************************************************<br /># Java Application<br />wrapper.working.dir=../<br />wrapper.java.command=jre/bin/java<br /><br /># Java Main class. This class must implement the WrapperListener interface<br /># or guarantee that the WrapperManager class is initialized. Helper<br /># classes are provided to do this for you. See the Integration section<br /># of the documentation for details.<br />#wrapper.java.mainclass=com.service_now.mid.Main<br />wrapper.java.mainclass=org.tanukisoftware.wrapper.WrapperStartStopApp<br /><br /># Java Classpath (include wrapper.jar) Add class path elements as<br /># needed starting from 1<br />wrapper.java.classpath.1=lib/*.jar<br /><br /># Java Library Path (location of Wrapper.DLL or libwrapper.so)<br />wrapper.java.library.path.1=lib<br />wrapper.java.library.path.2=jre/lib/i386<br /><br /># Java Additional Parameters<br />wrapper.java.additional.1=-Djava.util.logging.config.file=properties/glide.properties<br /><br /># Initial Java Heap Size (in MB)<br />wrapper.java.initmemory=10<br /><br /># Maximum Java Heap Size (in MB)<br /><span style="color:red;">wrapper.java.maxmemory=512</span><br /><br /># Application parameters. Add parameters as needed starting from 1<br />#wrapper.app.parameter.1=com.service_now.mid.Main<br /><br /># The first application parameter is the name of the class whose main<br /># method is to be called when the application is launched. The class<br /># name is followed by the number of parameters to be passed to its main<br /># method. Then comes the actual parameters.<br />wrapper.app.parameter.1=com.service_now.mid.Main<br />wrapper.app.parameter.2=1<br />wrapper.app.parameter.3=start<br /><br /># The start parameters are followed by the name of the class whose main<br /># method is to be called to stop the application. The stop class name<br /># is followed by a flag which controls whether or not the Wrapper should<br /># wait for all non daemon threads to complete before exiting the JVM.<br /># The flag is followed by the number of parameters to be passed to the<br /># stop class's main method. Finally comes the actual parameters.<br />wrapper.app.parameter.4=com.service_now.mid.Main<br />wrapper.app.parameter.5=true<br />wrapper.app.parameter.6=1<br />wrapper.app.parameter.7=stop<br /></tt></p>