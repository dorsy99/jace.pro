---
title: "How Does Discovery Find CI Names"
date: 2009-01-21T20:43:06.000Z
authors: ["SlightlyLoony"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=af4ea6addbd0dbc01dcaf3231f9619b8"
---
<p><img  alt="" class="jive-image" src="4b612bb1db5c9f04e9737a9e0f961976.iix" style="width: auto; height: 159px;" />Plus a question for y'all, at the end of this post...<br /><br />A few days ago I posted about <a title="lightlyLoony/blog/2009/1/19/1956" href="/community?id=community_blog&sys_id=479d6e69dbd0dbc01dcaf3231f9619d7">controlling host names</a>, and this led to another question: How <i>exactly</i> is Discovery finding the names of configuration items (CIs) in the CMDB? Here's the nitty-gritty (and my question!):<!--break--><br /><br />The <i>Resolver</i> probe and sensor are responsible for resolving an IP address into a host name. <br /><br />The first thing the Resolver probe does is query a DNS server configured on the MID server to get the host name. If your MID server has more than one DNS server configured, <i>which</i> DNS server is used depends on the operating system and (perhaps) configuration. Generally speaking, the first DNS server configured is used unless it fails to respond, in which case a secondary server will be used. However, some operating systems allow for load balancing across all configured DNS servers, so your mileage may vary. The DNS query itself is a <a title=".wikipedia.org/wiki/Reverse_DNS_lookup" href="http://en.wikipedia.org/wiki/Reverse_DNS_lookup">standard reverse-lookup</a> DNS query, wherein an IP address (like "10.2.54.233") is transformed into an in-addr.arpa name lookup (like "233.54.2.10.in-addr.arpa") and the query asks for a PTR record for that name.<br /><br />The second thing the Resolver probe does is to query the <a title=".wikipedia.org/wiki/NetBIOS_Name_Service#Name_service" href="http://en.wikipedia.org/wiki/NetBIOS_Name_Service#Name_service">NetBIOS Name Service</a> (on UDP port 137) <i>on the target computer</i> to see if it will provide a WINS name. Discovery does not need to query a WINS server. Generally only Windows systems will provide the <a title=".wikipedia.org/wiki/NetBIOS_over_TCP/IP#Name_service" href="http://en.wikipedia.org/wiki/NetBIOS_over_TCP/IP#Name_service">NetBIOS Name Service</a>, though if you have some UNIX or Linux systems running <a title="3.samba.org/samba/" href="http://us3.samba.org/samba/">SAMBA</a>, then they may also be configured to provide it as well.<br /><br />The Resolver probe returns the results of both of these queries to your Service-now instance, where the Resolver sensor figures out what to do with them (according to <a title="lightlyLoony/blog/2009/1/19/1956" href="/community?id=community_blog&sys_id=479d6e69dbd0dbc01dcaf3231f9619d7">the rules described here</a>).<br /><br />Now here's my question for you: does your organization (or any part of it) <i>not</i> have DNS (or at least not a reliable or complete DNS), instead depending on something <i>other than DNS</i> for name resolution? If so, I would really like to know what it is that you use, and why you chose to use it rather than DNS...</p>