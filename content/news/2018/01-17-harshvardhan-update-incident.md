---
title: "Update Incident Number and other incident information on Survey Page"
date: 2018-01-16T15:00:53.000Z
authors: ["Harshvardhan"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=861d22e5dbd0dbc01dcaf3231f96196f"
---
<p>You can update incident number as well as other incident information on your survey page.</p><p><strong>Note:</strong> This is not only related to incident, you can even update your custom table information over the survey page.</p><p></p><p>Few things you need to change</p><ul><li>You need to write jelly code in "assessment_take2" UI Page.</li><li>Add UI page client script variable in your survey introduction field.</li></ul><p></p><p>Here you go..</p><p></p><p><strong>UI Page:   </strong></p><p></p><p>System UI &gt;&gt; UI Page &gt;&gt; search for "assessment_take2"</p><p></p><p><img   alt="UI Page.png" class="image-1 jive-image" src="8f463c42dbdcd704ed6af3231f9619fe.iix" style="width: 620px; height: 320px;"/></p><p></p><ul><li>Add Jelly script in html section.</li></ul><p>Kindly add the script before the starting of &lt;g2:evaluate&gt; tag. refer the screenshot below.</p><p></p><p><img   alt="ui page code.png" class="image-2 jive-image" height="395" src="2cb5d006db189fc068c1fb651f9619d9.iix" style="width: 700px; height: 395.161px;" width="700"/></p><p></p><p></p><p>&lt;!-- update incident Number on survey page --&gt;</p><p></p><p>&lt;g:evaluate var="jvar_task_record_sys_id"&gt;</p><p>var gr = new GlideRecord("asmt_assessment_instance");</p><p>gr.get(instance);</p><p>var task_record = "";</p><p>var task_table = "";</p><p>if(gr.trigger_table){</p><p>var tr = new GlideRecord(gr.trigger_table);</p><p>if(tr.get(gr.trigger_id)){</p><p>task_table = tr.getClassDisplayValue();</p><p>task_record = tr.getDisplayValue();</p><p>}</p><p>}</p><p>task_record;</p><p>&lt;/g:evaluate&gt;</p><p></p><p>&lt;!-- update incident category on survey page --&gt;</p><p></p><p>&lt;g:evaluate var="jvar_task_record_sys_id1"&gt;</p><p>var gr = new GlideRecord("asmt_assessment_instance");</p><p>gr.get(instance);</p><p>var inc_cat = "";</p><p>if(gr.trigger_table){</p><p>var tr = new GlideRecord(gr.trigger_table);</p><p>if(tr.get(gr.trigger_id)){</p><p>inc_cat = tr.category.getDisplayValue();</p><p>}</p><p>}</p><p>inc_cat;</p><p>&lt;/g:evaluate&gt;</p><p></p><ul><li>Adding html hidden field to save the &lt;g:evaluate&gt; variable value. here we need to add the html field in &lt;g:ui_form&gt; tag</li></ul><p><strong>Note:</strong>   The &lt;g:evaluate&gt; tag is used to evaluate an expression written in Rhino JavaScript and sometimes to set a variable to the value of the expression.The last statement in the expression is the value the variable will contain.</p><p></p><p>                                 &lt;!-- added one hidden html field --&gt;</p><p><span style="white-space: pre;"> </span>&lt;input type="hidden" id="task_record_sys_id" name="task_record_sys_id" value="${jvar_task_record_sys_id}" /&gt;</p><p><span style="white-space: pre;"> </span>&lt;input type="hidden" id="task_record_sys_id1" name="task_record_sys_id1" value="${jvar_task_record_sys_id1}" /&gt;</p><p></p><p><img   alt="html field.png" class="image-3 jive-image" src="5cc3fb3ddb1c9b048c8ef4621f96190f.iix" style="width: 620px; height: 253px;"/></p><p></p><ul><li>In UI Page there is one section called client script ,there you need to mention the client script. the value we had saved in html field need to get into client script then we will use that variable in survey page.</li></ul><p></p><p>gel('task_record_sys_id123').innerHTML += gel('task_record_sys_id').value;</p><p>gel('task_record_sys_id1234').innerHTML += gel('task_record_sys_id1').value;</p><p></p><p><img   alt="client script.png" class="image-4 jive-image" src="d2479982db98d344e9737a9e0f961905.iix" style="width: 620px; height: 390px;"/></p><p></p><ul><li>Open your survey that you have build. just for the testing i am going to make the changes in OOTB survey "Change Request Satisfaction Survey". there is one field called Introduction, here we will save the variable that had mentioned in your ui page client script.</li></ul><p>Note: The introduction field is html type of field so kindly click on "source code" (icon will be "<strong>&lt;&gt;</strong>")   button. and paste the code below there.</p><p></p><p>&lt;p&gt; &lt;/p&gt;</p><p>&lt;table&gt;</p><p>&lt;tbody&gt;</p><p>&lt;tr&gt;</p><p>&lt;td&gt;Number :&lt;/td&gt;</p><p>&lt;td id="task_record_sys_id123" style="color: red;"&gt; &lt;/td&gt;</p><p>&lt;/tr&gt;</p><p>&lt;tr&gt;</p><p>&lt;td&gt;Category :&lt;/td&gt;</p><p>&lt;td id="task_record_sys_id1234" style="color: green;"&gt; &lt;/td&gt;</p><p>&lt;/tr&gt;</p><p>&lt;/tbody&gt;</p><p>&lt;/table&gt;</p><p>&lt;p&gt;&lt;/p&gt;</p><p>&lt;p&gt; &lt;/p&gt;</p><p></p><p></p><p></p><p><img   alt="survey page field.png" class="image-5 jive-image" height="260" src="1797988adbd817049c9ffb651f96198c.iix" style="width: 716px; height: 259.839px;" width="716"/></p><p></p><p><img   alt="html code.png" class="image-6 jive-image" height="209" src="2e05ff35db9cdfc0b322f4621f961993.iix" style="width: 713px; height: 209.3px;" width="713"/></p><p></p><p>Final result:</p><p></p><p><img   alt="Final result.png" class="image-7 jive-image" height="411" src="00575546db58130468c1fb651f96198b.iix" style="width: 792px; height: 411.329px;" width="792"/></p><p></p><p>Please let me know if anyone need some help related to survey. <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="4419.375_407.734375_16_16" src="/8.0.4.21bdc7e/images/emoticons/happy.png"></span></p>