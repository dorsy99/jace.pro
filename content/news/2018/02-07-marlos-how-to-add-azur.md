---
title: "How to add Azure public images"
date: 2018-02-06T12:21:34.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=ebace625dbd0dbc01dcaf3231f961962"
---
<p><span class="s1">Cloud Management in Jakarta and above can <a title="ocs.servicenow.com/bundle/kingston-it-operations-management/page/product/cloud-management-v2/task/run-disco-on-cloud-account-ldc.html" href="https://docs.servicenow.com/bundle/kingston-it-operations-management/page/product/cloud-management-v2/task/run-disco-on-cloud-account-ldc.html">discover Azure</a> private images. There are some business cases, however, where you may want to have the public images available in Cloud Management. This blog explains <a title="ocs.servicenow.com/bundle/kingston-it-operations-management/page/product/cloud-management-v2/task/add-AWS-public-images.html" href="https://docs.servicenow.com/bundle/kingston-it-operations-management/page/product/cloud-management-v2/task/add-AWS-public-images.html">how to add Azure public images</a> </span>to the OS template table so you can use them in resource profiles.</p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="64_8_1111_44"><p>Note: You will need the <strong>cloud_admin</strong> role for this procedure.</p></pre><p></p><h1>How to add Azure images to the OS template table</h1><p></p><h2>Collect field information from Azure</h2><p>1. Fetch required fields from Azure. Here's an example fetching it from the Azure CLI.</p><p style="text-align: left;">2. The fields of importance are the <strong>Offer</strong>, <strong>Publisher</strong>, <strong>Version</strong>, and <strong>Sku</strong>. On the command line, you can search by Offer, Publisher, or both as shown in this example.<span class="Apple-converted-space"> </span>Each line item in this screenshot is a different image â€” all CentOS of varying versions, from OpenLogic.</p><p style="text-align: center;"><br/><img   alt="azure_image_list.png" class="image-1 jive-image" src="6eb0a08adbdc9fc068c1fb651f96195a.iix" style="width: 620px; height: 160px;"/></p><p></p><h2>Create a new OS template table</h2><p><span style="font-family: 'Calibri',sans-serif;">3. In the left nav filter, enter <strong>cmdb_ci_os_template.list</strong>. Click <strong>Enter</strong> to go to the table.</span></p><p>4. Click <strong>New</strong>.</p><p>5. Configure form layout to show <strong>Offer</strong>,<strong> Serial number</strong>,<strong> Version</strong>,<strong> </strong>and <strong>Vendor</strong>.</p><p>6. Enter the following information to create a new image:</p><p></p><table border="1" class="jiveBorder" height="203" style="border: 1px solid #c6c6c6; width: 349px; height: 182px;"><tbody><tr><td style="padding: 6px;">Object ID</td><td style="padding: 6px;">Enter a unique name</td></tr><tr><td style="padding: 6px;">Name</td><td style="padding: 6px;">CentOS 6.5</td></tr><tr><td style="padding: 6px;">GuestOS</td><td style="padding: 6px;">Linux</td></tr><tr><td style="padding: 6px;">Offer</td><td style="padding: 6px;">CentOS</td></tr><tr><td style="padding: 6px;">Serial Number</td><td style="padding: 6px;">6.5</td></tr><tr><td style="padding: 6px;">Version</td><td style="padding: 6px;">6.5.201501</td></tr></tbody></table><ul><li><span style="font-family: 'Calibri',sans-serif;">For <strong>Vendor</strong>, click the magnifying glass and then click <strong>New</strong>.</span></li><li><span style="font-family: 'Calibri',sans-serif;">For <strong>Name</strong>, enter <strong>OpenLogic</strong>.</span></li><li><span style="font-family: 'Calibri',sans-serif;">Click <strong>Submit</strong>.</span></li></ul><p style="text-align: center;"><img   alt="new azure image.png" class="image-2 jive-image" height="440" src="40cef3f1db54db048c8ef4621f96191a.iix" style="width: 500px; height: 440.323px;" width="500"/></p><p></p><p><span style="font-family: 'Calibri',sans-serif;">7. From the <strong>Credentials</strong> field, click the magnifying glass.</span></p><p><span style="font-family: 'Calibri',sans-serif;">8. Click <strong>New</strong>. </span></p><p><span style="font-family: 'Calibri',sans-serif;">9. Click <strong>Basic Auth Credentials</strong>.</span></p><p></p><p><img   alt="auth.png" class="image-3 jive-image" height="380" src="26e1ed8adb10d7049c9ffb651f961924.iix" style="display: block; margin-left: auto; margin-right: auto; width: 544px; height: 379.923px;" width="544"/></p><p></p><p>10. Give it a username and password that will become the admin user/password of the provisioned VM.</p><p>11. Click <strong>Submit</strong>.</p><p>12.<strong> Save</strong> the new image record.</p><p></p><h2>Add related items</h2><p><span style="font-family: 'Calibri',sans-serif;">13. Navigate<strong> </strong>to the Related Items and click the </span><span style="font-size: 16.0pt; font-family: 'Calibri',sans-serif;"><strong>+ </strong></span><span style="font-family: 'Calibri',sans-serif;">Symbol</span></p><p><img   alt="related items.png" class="image-4 jive-image" src="b5510142dbd097049c9ffb651f961980.iix" style="width: 620px; height: 42px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p>14. <span style="font-family: 'Calibri',sans-serif;">On the Relationship Edit Form, navigate to the <strong>Suggested relationship types</strong> window and select <strong>Hosted On (Parent)..</strong>.</span></p><p><span style="font-family: 'Calibri',sans-serif;"><img   alt="hosted on parent.png" class="image-5 jive-image" src="778d108adb585344e9737a9e0f961956.iix" style="width: 620px; height: 172px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p><span style="font-family: 'Calibri',sans-serif;">15. Modify the Filter condition to the following: </span><span style="font-family: 'Calibri',sans-serif;"><strong>Class | is | Azure Datacenter</strong></span></p><p style="text-align: center;"><img   alt="class is azure datacenter.png" class="image-6 jive-image" src="5debbbb1db94d3049c9ffb651f961919.iix" style="width: 620px; height: 114px;"/></p><p></p><p><span style="font-family: 'Calibri',sans-serif;">16. Click <strong>Run filter</strong>.</span></p><p><span style="font-family: 'Calibri',sans-serif;">17. Search the <strong>Configuration Items</strong> and select the valid datacenter(s) that the image is for.</span></p><p></p><p style="text-align: center;"><img   alt="relashionship editor.png" class="image-7 jive-image" src="930fd106db9c1b04ed6af3231f9619dc.iix" style="width: 620px; height: 432px;"/></p><p></p><p><span style="font-family: 'Calibri',sans-serif;">18. From the bottom of the form, under <strong>Relationships</strong>, click the </span><span style="font-size: 16.0pt; font-family: 'Calibri',sans-serif;"><strong>+ </strong></span><span style="font-family: 'Calibri',sans-serif;">symbol.</span></p><p style="text-align: center;"><img   alt="related items.png" class="image-9 jive-image" src="e0ceb735db18d3041dcaf3231f961933.iix" style="width: 620px; height: 42px;"/></p><p><span style="font-family: 'Calibri',sans-serif;">19. The green shading is a visual indication that you have successfully associated the AMI with the desired Data centers. </span></p><p style="text-align: center;"><img   alt="green shading.png" class="image-8 jive-image" src="e43bb84edb9cdfc068c1fb651f9619a7.iix" style="width: 620px; height: 161px;"/></p><p><span style="font-family: 'Calibri',sans-serif;">20. Click <strong>Save and Exit</strong>. </span></p><p><span style="font-family: 'Calibri',sans-serif;">21. Click <strong>OK</strong>.</span></p><p><span style="font-family: 'Calibri',sans-serif;">22. From <strong>Related Items</strong>, observe the image is associated to the desired data center.</span></p><p style="text-align: center;"><img   alt="related items pubic.png" class="image-10 jive-image" src="9fe1ed8adb10d7049c9ffb651f9619a9.iix" style="width: 620px; height: 486px;"/></p><p></p><p><span style="font-family: 'Calibri',sans-serif;">23. Click <strong>Update.</strong></span></p><p></p><h2>Conclusion</h2><p>Once these steps are completed, the added Azure public image is now available for selection when creating a new OS Profile in <a title="ocs.servicenow.com/bundle/kingston-it-operations-management/page/product/cloud-management-v2/task/create-resource-profile.html" href="https://docs.servicenow.com/bundle/kingston-it-operations-management/page/product/cloud-management-v2/task/create-resource-profile.html">Resource Profile</a>.</p><p style="text-align: center;"><img   alt="OS_profile.png" class="image-11 jive-image" src="2e514986db1897041dcaf3231f961938.iix" style="width: 620px; height: 334px;"/></p><p></p><p>Other useful resources:</p><ul><li><a title="ocs.servicenow.com/bundle/kingston-it-operations-management/page/product/cloud-management-v2/task/add-AWS-public-images.html" href="https://docs.servicenow.com/bundle/kingston-it-operations-management/page/product/cloud-management-v2/task/add-AWS-public-images.html">Add AWS Public Images</a></li><li><a title="ocs.servicenow.com/bundle/kingston-it-operations-management/page/product/cloud-management-v2/concept/cloud-management-creds.html" href="https://docs.servicenow.com/bundle/kingston-it-operations-management/page/product/cloud-management-v2/concept/cloud-management-creds.html">Azure credentials for Cloud Management</a></li><li><a title="ocs.servicenow.com/bundle/kingston-it-operations-management/page/product/discovery/concept/cloud-resource-discovery.html" href="https://docs.servicenow.com/bundle/kingston-it-operations-management/page/product/discovery/concept/cloud-resource-discovery.html">AWS and Azure cloud discovery</a></li></ul>