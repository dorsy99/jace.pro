---
title: "Encryption How not to get ed Part   Understanding Variables"
date: 2018-01-03T00:47:12.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=861d22e5dbd0dbc01dcaf3231f961974"
---
<h1 style="font-family: arial, sans-serif; color: #666666;"><strong>PAST ARTICLES</strong></h1><p style="font-family: arial, sans-serif; color: #666666;"><a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=35cd62e9dbd0dbc01dcaf3231f96190e">Part 1</a> - The encryption feature checklist</p><p style="font-family: arial, sans-serif; color: #666666;"><a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=b9cd62e9dbd0dbc01dcaf3231f961912">Part 2</a> - Maximizing engagement time</p><p style="font-family: arial, sans-serif; color: #666666;">Part 3 - No longer needed.</p><p style="font-family: arial, sans-serif; color: #666666;"></p><p style="font-family: arial, sans-serif; color: #666666;">Understanding how variables work is going to save you a TON of pain on encryption initiatives for the Now Platform.   This is true whether you're using the old OOB "<a title="ocs.servicenow.com/bundle/jakarta-servicenow-platform/page/administer/encryption/concept/c_EncryptionSupport.html" href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/administer/encryption/concept/c_EncryptionSupport.html">encrypted fields</a>" feature, use ServiceNow's premium <a title="ocs.servicenow.com/bundle/jakarta-servicenow-platform/page/administer/edge-encryption/reference/edge-encryption.html" href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/administer/edge-encryption/reference/edge-encryption.html">Edge Encryption</a> product, or a 3rd party tool like <a title="iphercloud.com/" href="https://ciphercloud.com/">Ciphercloud</a>.</p><p style="font-family: arial, sans-serif; color: #666666;"></p><h1 style="font-family: arial, sans-serif; color: #666666;"><img   class="image-1 jive-image" src="af4eb371db185fc068c1fb651f96190d.iix" style="max-width: 1200px; max-height: 900px;"/><strong>WHY SHOULD I CARE?</strong></h1><p style="font-family: arial, sans-serif; color: #666666;">So glad you asked!   Listen, you care enough to *pay* for encryption either way.   Whether its an on-site admin who uses the OOB field encrypter, or the 5-6 figure contracts for Edge Encryption or a 3rd party.   So what if I told you that you paid that money and I can pull un-encrypted plain text data out of your instance? </p><p style="font-family: arial, sans-serif; color: #666666;"></p><h1 style="font-family: arial, sans-serif; color: #666666;"><strong>THE TWO WAYS RECORDS ARE CREATED IN SERVICENOW </strong></h1><p style="font-family: arial, sans-serif; color: #666666;">Via Catalog / Service Portal:   Consumer fills out "a form" and that creates records in the correct table.</p><p style="font-family: arial, sans-serif; color: #666666;">Via "the form":   A worker fills out the appropriate table's base form on behalf of another user.</p><p style="font-family: arial, sans-serif; color: #666666;"></p><p style="font-family: arial, sans-serif; color: #666666;">In the first case, the data is being stored in two places:</p><p style="font-family: arial, sans-serif; color: #666666;">1)   The destination table.</p><p style="font-family: arial, sans-serif; color: #666666;">2)   The repository of variables and their answers.</p><p style="font-family: arial, sans-serif; color: #666666;"></p><h2 style="font-family: arial, sans-serif; color: #666666;"><strong>THE WHAT-NOW?</strong></h2><p style="font-family: arial, sans-serif; color: #666666;">Your catalog will have anywhere from dozens to thousands of items ready for consumption.   The same reason you don't want to add a bajillion columns to each task table is the same reason variables (questions) and their answers are stored in a seperate table.</p><p style="font-family: arial, sans-serif; color: #666666;">- Record Producers store answers to their questions in the question_answer table.</p><p style="font-family: arial, sans-serif; color: #666666;">- Catalog Items store answers in the sc_item_option</p><p style="font-family: arial, sans-serif; color: #666666;"></p><p style="font-family: arial, sans-serif; color: #666666;">Now... even though your record producers and catalog items are instructed to dump data into fields that are encrypted....</p><p style="font-family: arial, sans-serif; color: #666666;"><img  class="image-2 jive-image" src="7925a9cedb1cd304b322f4621f961999.iix" style="max-width: 1200px; max-height: 900px;"/></p><p style="font-family: arial, sans-serif; color: #666666;">In the few encryption implementations I've audited, the front-end Catalog/Portal aspect of data intake has been overlooked.   Its essential that you consider if your intake is via catalog, to ensure your data is *TRULY* protected.</p><p style="font-family: arial, sans-serif; color: #666666;"></p><h1 style="font-family: arial, sans-serif; color: #666666;"><strong>MITIGATING RISK</strong></h1><p style="font-family: arial, sans-serif; color: #666666;">In the case of Record Producers, make sure any data pumping to an encrypted field *also* blanks itself out.   Something like this...</p><pre __default_attr="javascript" __jive_macro_name="code" class="_jivemacro_uid_15149187834309176 jive_macro_code jive_text_macro" data-renderedposition="1100.8521728515625_7.997159004211426_1192_31" jivemacro_uid="_15149187834309176"><p style="font-family: arial, sans-serif; color: #666666;">current.secret_field = producer.secret_field;</p><p style="font-family: arial, sans-serif; color: #666666;">producer.secret_field = '';</p></pre><p></p><p>Catalog Items will require something a little stronger... a business rule on the sc_item_option table that scans for precise questions and redacts their answers.</p>