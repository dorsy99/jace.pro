---
title: "Exploring the Multirow Variable Set"
date: 2018-08-17T01:43:37.000Z
authors: ["Brad Tilton"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=7cc66514db882380e0e80b55ca961965"
---
<p>There are a lot of great features in ServiceNow&#39;s London release, but my favorite, by far, is the Multi-row variable set. As someone who has implemented Service Catalog through the native UI, CMS, and Service Portal over the years this is something that I&#39;ve always wanted to be in the platform. There have been some really good alternate solutions found on <a href="https://developer.servicenow.com/app.do#!/share" rel="nofollow">share</a>, but those are unsupported and can make upgrades a bit riskier. I&#39;m happy to report that the multi-row variable set functionality in the London release is very well done and we&#39;ll explore that here.</p>
<p>In this post we&#39;ll create a multi-row variable set, henceforth to be known as a MRVS, add variables, then show it in action. In a subsequent post we&#39;ll access its values from a background script (which could represent a business rule, scheduled job, workflow script, or flow designer script action). We&#39;re going to take a fairly common use case that I&#39;ve seen in the past where someone is requesting access to different applications, and the level of access may be different for each application. I&#39;ve seen this done via order guides, adding separate items to the cart manually, or some sort of custom variable solution, but it seems like a great use case here.</p>
<h3>Creating the MRVS</h3>
<p>We&#39;ll start with a new catalog item I&#39;ve created with one variable with requester information so far:<br /><img style="max-width: 100%; max-height: 480px;" src="2ccb1524db006780e0e80b55ca96197b.iix" /></p>
<p>We&#39;re now going to add the new MRVS by going into the Catalog Item record and clicking New in the variable set related list. Notice the new interceptor that&#39;s been added:<br /><img style="max-width: 100%; max-height: 480px;" src="6b6ddd60db406780e0e80b55ca9619e9.iix" /><br /><br /></p>
<p>Clicking on the MRVS we get a new variable set record to fill out:<br /><img style="max-width: 100%; max-height: 480px;" src="20dd5164db406780e0e80b55ca9619ea.iix" /></p>
<p>I&#39;m now going to create three variables in my update set:<br /><img style="max-width: 100%; max-height: 480px;" src="0a1fd96cdb406780e0e80b55ca96199e.iix" /></p>
<p>The users will be able to select applications along with an access level for each application. Also, we&#39;re going to want to require a business justification if they ask for &#34;Full access&#34; to an application, so we&#39;ll add a ui policy to make that field mandatory. Note: Because the variable is located in the MRVS and will show up as a table you cannot toggle the visibility with a ui policy.</p>
<h3>Testing the MRVS</h3>
<p>Now it&#39;s time to test it out! Clicking on the Try it button on the catalog item will bring up the item front end with the rendered variables. You can see that our Access list variable set has a table with no current entries in it.<br /><img style="max-width: 100%; max-height: 480px;" src="de5ea660dbc8e380fece0b55ca9619f2.iix" /></p>
<p>Hitting the add button will bring up a modal with the three variables we defined inside the variable set, so we&#39;ll fill those out and click add.<br /><img style="max-width: 100%; max-height: 480px;" src="4ddea2e0dbc8e380fece0b55ca9619da.iix" /></p>
<p>Now you can see that we&#39;ve got a row for that entry.<br /><img style="max-width: 100%; max-height: 480px;" src="5b1f6a24dbc8e380fece0b55ca961996.iix" /></p>
<p>Now we&#39;ll add another row, but this time change the access level to full access, which will trigger our ui policy to make the Business justification field mandatory.<br /><img style="max-width: 100%; max-height: 480px;" src="806fa664dbc8e380fece0b55ca961971.iix" /></p>
<p>And then we&#39;ll add another entry and end up with 3 different rows in our multi-row variable set.<br /><img style="max-width: 100%; max-height: 480px;" src="22af2ea4dbc8e380fece0b55ca9619e7.iix" /></p>
<p>We can also edit or remove rows by clicking the pencil and x icons under the actions header in the table. </p>
<p>From here we can order the catalog item and let the workflow take over. In the workflow, we may want to do things like send approvals to various people based on the different applications selected, automate the provisioning of this access, or create tasks dynamically for each of these applications and access.</p>
<p>See my next post: <a href="community?id&#61;community_blog&amp;sys_id&#61;865b5aeddbc023c0feb1a851ca9619f9" rel="nofollow">Scripting the Multi-row Variable Set</a></p>