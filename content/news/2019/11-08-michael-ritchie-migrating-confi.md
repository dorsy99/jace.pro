---
title: "Migrating Configurations via Add to Update Set Utility"
date: 2019-11-08T04:03:49.000Z
authors: ["Michael Ritchie"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=77518decdb8d4c586064eeb5ca961947"
---
<p>As we all learned in ServiceNow Fundamentals/System Administration training, <a href="https://docs.servicenow.com/bundle/newyork-application-development/page/build/system-update-sets/concept/system-update-sets.html" rel="nofollow">Update Sets</a> are the mechanism to move configurations from one instance to another.  You build your enhancements in a lower level development instance and promote the changes forward using update sets.  While powerful, update sets can be very challenging if you don&#39;t know what you are doing:</p>
<ul><li>Easy for additional items to get added to your update set by mistake that you don’t want</li><li>Error prone in the target instance and problem reason/description is cryptic to understand</li></ul>
<p>Another challenge is not all records within the ServiceNow platform are captured in update sets, only &#34;configuration&#34; type records are captured and &#34;data&#34; is not.  While this makes sense, there is certain &#34;data&#34; that may be developed in a lower level instance that your configurations reference or depend on such as knowledge, users, and groups.  For example, HR Services are automatically captured but they also have links to users, groups, and knowledge which won&#39;t be included in the update set if you develop a new HR Service in a development instance.</p>
<p><strong>So how do you solve this challenge?!!</strong></p>
<p>The concept of &#34;forcing&#34; or &#34;adding&#34; items to an update set via a UI Action has existed for many years; SN Guru explained how to do this back in 2011 on SNGuru.com.  This method allows you to selectively choose what items from your instance to &#34;force&#34; into your selected update set.  This approach allows you to create an update set on the fly.  While quite powerful, you still need to have an understanding of the data model of the items you are pushing to make sure you include all the related components.  Lets take a User as an example...  If you were to add the sys_user record to your update set via this mechanism and import that into your target instance, even tough that user could login, the user would not have the access and group membership that was assigned in the source instance.  This is because the role and group assignments are done via separate related records and without migrating those records the user won&#39;t have the proper access.</p>
<p>Fortunately Ben Hollifield, Co-Founder of Yansa Labs, has been maintaining the very popular <a href="https://developer.servicenow.com/app.do#!/share/contents/9824957_add_to_update_set_utility?t&#61;PRODUCT_DETAILS" rel="nofollow">Add to Update Set Utility</a> in ServiceNow Share that builds upon the solution that SN Guru documented years ago.  The Add to Update Set Utility is a set of scripts that methodically add related records to an update set &#34;automagically&#34;.  This Utility has been used for several years by 1000&#39;s of customers, partners, and employees.  Behind the scenes when you click the &#34;Add to Update Set&#34; Related Link on a record, it checks a list of pre-defined tables and will not only add the record you are currently viewing, but add other important related records too automatically.  I have been partnering with Ben to enhance this useful utility so it also works with HRSD configurations.  One of the major challenges with this is that HRSD is comprised of multiple scoped applications: HR Core, HR Lifecycle Event, Employee Service Center, etc.  But we were able to get past these challenges and are now offering this for everyone to download and utilize.</p>
<p> </p>
<p><strong>What does this all mean?</strong></p>
<p>Let me provide a few examples...</p>
<ul><li>User Record: With my previous example of a User record being added to an update set, the Add to Update Set Utility also adds the Roles, Group Membership, and Delegates along with the user.  With my partnership this has been enhanced to also include the HR Profile, Community Profile, and Skills.</li><li>HR Service: HR Services are comprised up of many records and without capturing them all into one update set the HR Service will not work in the target instance.  The Add to Update Set Utility has been enhanced to not only add the HR Service Configuration Record but also:</li><li>
<ul><li>Badge</li><li>Checklists</li><li>HR Criteria along with its related User Criteria</li><li>Template.  If the template has a PDF Template defined, the PDF template and its related components are also added</li><li>Record Producer and its related variables, UI Policies, etc</li><li>Topic Detail and Topic Category</li><li>Case Configuration</li><li>Fulfillment Types:</li><li>
<ul><li>Workflow - will include the workflow defined in the template</li><li>Flow - will include the Flow (NY release and later only)</li><li>Lifecycle Event - will include the Lifecycle Event Type, Activity Sets, Activities, etc</li></ul>
</li></ul>
</li></ul>
<p> </p>
<p> All of the components included are documented in <a href="https://developer.servicenow.com/app.do#!/share/contents/9824957_add_to_update_set_utility?t&#61;PRODUCT_DETAILS" rel="nofollow">ServiceNow Share</a>, but I did want to highlight specific HR features:</p>
<ul><li>As mentioned HR is comprised of multiple scoped applications.  If a configuration is added to an update set assigned to a different scope, the target instance will prevent that update set from being imported.  Add to Update set has been configured to deal with multiple scopes and as records are being added it checks the record&#39;s scope and will add it to an update set of that record&#39;s scope.  The platform <a href="https://docs.servicenow.com/bundle/newyork-application-development/page/build/system-update-sets/hier-update-sets/concept/us-hier-overview.html#us-hier-overview" rel="nofollow">Update Set Batching</a> feature is leveraged to solve this problem where Add to Update Set will create a new update set in the proper scope and link it to your update set.</li><li>Employee Service Center includes automated content features.  Campaigns, Bundles, Portal Content can also be added to update sets and their related components are automatically captured.</li><li>Community Forums can be added to an update set and its related components are also captured</li></ul>
<p> </p>
<p><strong>How do I add this solution to my instance?</strong></p>
<p>If you are not familiar with <a href="https://developer.servicenow.com/app.do#!/share" rel="nofollow">ServiceNow Share</a>, this is a site where ServiceNow employees, partners, and customers can share useful utilities, applications, widgets, etc that they developed with the ServiceNow Community free of charge.  This site has been around for many years and includes tons of content that you may also find useful.</p>
<p><img src="https://community.servicenow.com/cb47ec38db01c0941cd8a345ca96194c.iix" /></p>
<ol><li>Download update sets from Share.  Add to Update Set is comprised of multiple update sets for use with HR given the multi-Scope architecture.</li><li>
<ol><li>Navigate to the <a href="https://developer.servicenow.com/app.do#!/share/contents/9824957_add_to_update_set_utility?t&#61;PRODUCT_DETAILS" rel="nofollow">Add to Update Utility details page</a>, and click the <strong>Download</strong> button.  You will need to login in order to download the update set.  If you don&#39;t have a Developer Portal login, you can easily register for one.</li><li>In the Related Files section, click the <strong>Add to Update Set HR v*.xml</strong> link and download that additional update set.  Please note that the version number will increase over time so please check back or subscribe for updates.  Also additional Related Files may also be included for other ServiceNow applications.</li></ol>
</li><li>In your ServiceNow instance, navigate to System Update Sets \ Retrieved Update Sets and import the Add to Update Set Global v*.xml first.  Preview it and Commit it.  Please refer to <a href="https://docs.servicenow.com/bundle/newyork-application-development/page/build/system-update-sets/reference/update-set-transfers.html" rel="nofollow">Update Set Transfers</a> on ServiceNow Docs for further details.</li><li>Once the Global update set has been successfully committed, import the Add to Update Set HRv*.xml.</li><li>
<ul><li>Note: This is a Batch Update set comprised of multiple update sets in several scopes: Human Resources: Core, Human Resources: Lifecycle Events, Content Automation, Content Delivery, Communities (and possibly more to come).  Depending on your ServiceNow HR Licensing you may not be entitled to all of these applications.</li><li><img src="https://community.servicenow.com/83bdf470dbc504941cd8a345ca9619bb.iix" /></li><li>In order to <a href="https://docs.servicenow.com/bundle/newyork-application-development/page/build/system-update-sets/hier-update-sets/concept/us-hier-overview.html#us-hier-preview" rel="nofollow">Preview a Batch of Update sets</a>, you must navigate into the &#34;batch base&#34; in order to Preview and Commit it.  Please look for or Add the &#34;Remote Batch Base&#34; column in your Retrieved Update Set list, find <strong>Add to Update Set HR v*</strong>, and click into it.</li></ul>
</li></ol>
<p> </p>
<p><strong>How to use this solution?</strong></p>
<ul><li>A global &#34;Add to Update Set&#34; UI Action is included with this solution.  This will appear on any record that has &#34;Related Links&#34; towards the bottom of the form.  By default it is only available to users with the &#34;admin&#34; role assigned since the Admin role is required to manage update sets.</li><li>Create a new update set and make it your current set.</li><li>Navigate to the records you want to add to the update set and click <strong>Add to Update Set</strong> under Related Links.</li><li>Here is an example of adding an HR Service to an update set.</li></ul>
<p><img src="https://community.servicenow.com/3f0d57d6db41481cd58ea345ca961958.iix" /></p>
<p> </p>
<p><strong>What if I want to learn more?</strong></p>
<p>The Add to Update Set Utility is further documented in the Developer Community in a Blog Article called <a href="https://community.servicenow.com/community?id&#61;community_blog&amp;sys_id&#61;dd0d9079db858098d58ea345ca961925" rel="nofollow">Add to Update Set Utility Documentation and Custom Configurations</a>.</p>
<p> </p>
<p>Please post comments here or on Share if you have any questions or ideas for improvement!</p>