---
title: "AWS Gov Cloud and AWS Organization support for Cloud Management and Cloud Discovery"
date: 2019-09-07T12:21:50.000Z
authors: ["Utpal"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=ed8e2fe8dbbbb7c823f4a345ca961959"
---
<p>AWS Gov cloud is comprised of two geographical regions that are distinct from AWS public cloud region. AWS Gov cloud provides a smaller subset of functionality of the public cloud, albeit, syntactically and semantically identical. The primary difference between gov and public cloud is the <a href="https://docs.aws.amazon.com/govcloud-us/latest/UserGuide/using-govcloud-endpoints.html" rel="nofollow">access endpoints</a>. <br />ServiceNow Cloud Management and Cloud Discovery introduced support for AWS Gov Cloud in London release (focusing on IaaS resources), refer to the <a href="https://docs.servicenow.com/bundle/madrid-it-operations-management/page/product/discovery/task/create-service-account-disco.html" rel="nofollow">documentation</a> for details.</p>
<h2>AWS Organization support for AWS Gov Cloud</h2>
<p>In April 2019, AWS announced support for AWS Organization for the Gov Cloud. This article covers the details of setting up AWS Organizations for AWS Gov Cloud as AWS documentation in this area is a bit unclear. I am hoping this blog post would help ServiceNow community readers.</p>
<p>An AWS Gov Cloud account is always paired 1:1 with an AWS commercial account. One can request an AWS Gov Cloud account from a commercial account. Refer to <a href="https://docs.aws.amazon.com/govcloud-us/latest/UserGuide/getting-started-sign-up.html" rel="nofollow">AWS documentation </a>for details.</p>
<p>In order to create an AWS Organization for Gov cloud and bringing / adding new accounts under it, follow the steps below:</p>
<p>1. Establish an initial Gov Cloud account (lets call it GovDemo1) from an AWS Commercial account (CommAcct1). Make sure you have the right administrative IAM role to request a Gov Cloud acct. This can be done using AWS Console -&gt; My Account.<br />2. Additional Gov Cloud accounts can be created using AWS CLI. E.g:</p>
<p><span style="font-family: &#39;courier new&#39;, courier;">$ aws organizations create-gov-cloud-account --email govclouddemo2&#64;gmail.com --account-name &#34;GovDemo2&#34;</span></p>
<p>Make sure to use credentials for the initial commercial account (CommAcct1). The above operation will create one Gov cloud account (GovDemo2) and a corresponding Commercial cloud account (CommAcct2).<br />In order to check the status of the account creation, use the following CLI command. The request-id is the ID returned after the create-gov-cloud-account call. For example:</p>
<p><span style="font-family: &#39;courier new&#39;, courier;">$ aws organizations describe-create-account-status --create-account-request-id car-ad170010cebc11e883fd21a0c8417226</span></p>
<p><br /><span style="font-family: &#39;courier new&#39;, courier;">Response: {</span><br /><span style="font-family: &#39;courier new&#39;, courier;">     &#34;CreateAccountStatus&#34;: {</span><br /><span style="font-family: &#39;courier new&#39;, courier;">     “GovCloudAccountId&#34;: &#34;345438173776&#34;, </span><br /><span style="font-family: &#39;courier new&#39;, courier;">     &#34;AccountName&#34;: &#34;GovDemo2&#34;, </span><br /><span style="font-family: &#39;courier new&#39;, courier;">     &#34;State&#34;: &#34;SUCCEEDED&#34;, </span><br /><span style="font-family: &#39;courier new&#39;, courier;">     &#34;RequestedTimestamp&#34;: 1567564537.206, </span><br /><span style="font-family: &#39;courier new&#39;, courier;">     &#34;CompletedTimestamp&#34;: 1567564665.876, </span></p>
<p><span style="font-family: &#39;courier new&#39;, courier;">     &#34;Id&#34;: &#34;car-ad170010cebc11e883fd21a0c8417226&#34;, </span><br /><span style="font-family: &#39;courier new&#39;, courier;">      &#34;AccountId&#34;: &#34;087479796752&#34;</span><br /><span style="font-family: &#39;courier new&#39;, courier;">     }</span><br /><span style="font-family: &#39;courier new&#39;, courier;">}</span></p>
<p>In case you don’t get the GovCloudAccountId in the response, login to the commercial account (CommAcct2) using AWS Console, go to My Account and try requesting a new Gov Cloud account. Since the paired Gov cloud account already exists for that commercial account, the system will show you the account number.</p>
<p>The Gov Cloud (GovDemo2) will end up in the root organization where the CommAcct1 and CommAcct2 are.<br />ServiceNow integration with AWS Organization on AWS Gov Cloud</p>
<p>First things first – make sure Discovery plugin is active.</p>
<p>In order to fully support AWS Organization, you will need to first import the following Discovery pattern by following the steps below:</p>
<p>1. In the left-navigation, search for Discovery Patterns.<br />2. Click on the Name field title in the table and import the <a href="https://servicenow-my.sharepoint.com/:u:/p/ben_yukich/EauvCiGqOJ5GnRMJEVLscDEB6r_PdUJoqKzXy0OBi9nR_Q?e&#61;sbn1Vl" rel="nofollow">XML file</a> <br />3. This will import a new version of Amazon AWS Organizations.<br />4. Be sure and <strong>Publish</strong> this new Discovery Pattern.</p>
<p> </p>
<p><img style="max-width: 100%; max-height: 480px;" src="https://community.servicenow.com/df17697cdb37f3cc1cd8a345ca961906.iix" /></p>
<p>That’s it! We are ready to start discovering Gov Cloud accounts in AWS Organizations.</p>
<p>Integration with AWS Gov cloud is quite straightforward.<br />Follow the steps outlined in the ServiceNow documentation for setting up Credentials and Service Account for AWS Gov. Important to note the Datacenter URL field must contain URL pointing to EC2 service in AWS Gov cloud (as mentioned in the documentation).</p>
<p>When using AWS Organization with Gov Cloud, make sure you provide the master account creds, select “Master Account” (as described in the docs here) and invoke the UI action Refresh Member Accounts.</p>
<p><strong>Note</strong>: You can only obtain AWS GovCloud (US) accounts if you are an individual or entity that qualifies as a U.S. Citizen under applicable regulations. In addition to the AWS Customer Agreement or other agreement between you and AWS governing your use of the Service Offerings, you must agree to the AWS GovCloud (US) Terms and Conditions.</p>