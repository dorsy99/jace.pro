---
title: "How can I make my MVRS variables depend on other variables"
date: 2019-10-14T21:49:45.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=5d531c78dbe4049423f4a345ca96190e"
---
<p>FYI, this is a reposting of my post here: <a href="https://jace.pro/post/2019-09-06-mvrs-dependent-variables/" rel="nofollow">https://jace.pro/post/2019-09-06-mvrs-dependent-variables/</a></p>
<p>So It&#39;s been asked a few times, &#34;How can I make my MRVS variables depend on other variables?&#34;</p>
<p>The question has some caveats;<br /><br />1.  If the Variables are all in the same row, that&#39;s possible.<br />2.  If the Variables are not all in the MRVS, it&#39;s possible but you need to add stuff to the MRVS.<br /><br />Let&#39;s go over each of those.<br /><br />So I&#39;m going to deal with the 2nd one first.  It&#39;s a design choice that you cannot make the MRVS variables dependent on variables outside of the row.  The way around this is to add the variable to the MRVS and use that copy instead of the non-MRVS.  I don&#39;t see another way around this.  <br /><br />Now that is dealt with the only time this comes up is if you seem to want to use a Lookup Select variable that re-evaluates based on other variables.  I&#39;ve <a href="https://blog.jace.pro/post/2017-10-28-lookup-select-attributes/" rel="nofollow">written about this in the past here</a>.  If you&#39;re not familiar with it might be worth reading that.<br /><br />Now I&#39;m going to add reproduction steps cause I don&#39;t want to re-create things all over.  <br />So lets decide out test.  Let&#39;s load all .. notification devices for a user, based on a user variable.  <br /><br />1.  On your PDI import my <a href="https://atf.jace.pro/" rel="nofollow">&#34;ATF&#34; scoped app</a>.<br />2.  URL: &#96;https://github.com/jacebenson/atf.git&#96;<br />3.  Change scope to &#34;ATF&#34;<br />4.  Goto maintain items, and look for &#34;Test Item&#34;<br />5.  Open the variable set &#34;Multi Row Variable Set&#34;<br />    At this point you should see a &#34;question&#34; and &#34;answer&#34;<br />6.  Rename &#34;question&#34; to &#34;user&#34;<br />7.  Change it&#39;s type to &#34;reference&#34; to &#96;sys_user&#96;<br />8.  Rename &#34;answer&#34; to &#34;device&#34;<br />9.  Change it&#39;s type to &#34;lookup select box&#34;<br />10. Set it&#39;s table to &#96;cmn_notif_device&#96;<br />11. Add a variable attribute of &#96;ref_qual_elements&#61;user&#96;<br />12. Add a reference qualifer of \<br />    &#96;javascript: &#39;user&#61;&#39; &#43; current.variables.user&#96;<br /><br />Now when I try this is just works.<br /><br /><iframe id="video_tinymce" style="width: 100%; height: 480px;" src="https://www.youtube.com/embed/sGuw65B4Ne0"></iframe><br /><br />Now say you don&#39;t want the Reference in the MRVS.  Okay.  I have a Reference variable on this test item already, it has a silly name, &#34;Reference&#34;.  But it works.  Lets try that and change the variable attribute and reference qualifier.<br /><br /><br />1. Change variable attribute to &#96;ref_qual_elements&#61;Reference&#96;<br />2. Add a reference qualifier of <br />    &#96;javascript: &#39;user&#61;&#39; &#43; current.variables.Reference&#96;<br /><br />You&#39;ll notice this doesn&#39;t appear to work.  It seems this is as designed &#x1f62d;.<br /><br /></p>
<p><img style="max-width: 100%; max-height: 480px;" src="https://community.servicenow.com/12625c70dbe4049423f4a345ca961910.iix" /></p>
<p><br />Further Reading: <br /><br />- <a href="https://community.servicenow.com/community?id&#61;community_question&amp;sys_id&#61;9b19bc91dba7bfc0414eeeb5ca96199d" rel="nofollow">Community Post</a><br />- <a href="https://docs.servicenow.com/bundle/newyork-it-service-management/page/product/service-catalog-management/concept/c_ServiceCatalogVariableSets.html" rel="nofollow">MVRS Documentation</a><br />- <a href="https://docs.servicenow.com/bundle/newyork-it-service-management/page/product/service-catalog-management/reference/variable-attributes.html#d768259e337" rel="nofollow">ref_qual_elements Documentation</a></p>