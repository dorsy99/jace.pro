---
title: "Comparing Client Dates"
date: 2012-02-14T21:08:21.000Z
authors: ["john.roberts"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=11cdeea9dbd0dbc01dcaf3231f9619a3"
---
<p>I just came across a case where someone was comparing two date fields on the client to validate that the one was later than the other. To accomplish this they created a script include to compare dates on the server, then a client script was used to make an AJAX call to run the check in the script include.<br />The same check can be performed completely on the client saving the time it takes for a server round trip. Helper methods can be found in the calendar.js file on your client.<br /><!--break--><br />Here's a couple common uses:<br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />/*<br /> * onChange Client Script - change_request<br /> * should be set to run on change of start_date and end_date<br /> * Alert if planned end date is before planned start date<br /> */<br />function onChange(control, oldValue, newValue, isLoading, isTemplate) {<br />if (isLoading || newValue == '') {<br />return;<br />}<br /><br />var end = g_form.getValue("end_date");<br />var start = g_form.getValue("start_date");<br />// skip if start or end is blank<br />if (start == "" || end == "") {<br />return<br />}<br /><br />// get user's date time display format<br />var format = g_user_date_time_format;<br />var isEndBeforeStart = compareDates(start, format, end, format);<br /><br />// 1 (true) if start is greater than end<br />// 0 if end is greater than start of if they are the same<br />// -1 if either of the dates is in an invalid format<br /><br />if (isEndBeforeStart) {<br />alert("End must be after start");<br />}<br />}</pre><br /><br /><i>Caution with this next one since it may cause issues for users using a computer set to a different timezone than the user's ServiceNow account is using. The Date() object assumes the timezone of the browser.</i><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />/*<br /> * onChange Client Script - change_request start_date field<br /> * Alert if planned start date is before right now<br /> */<br />function onChange(control, oldValue, newValue, isLoading, isTemplate) {<br />if (isLoading || newValue == '') {<br />return;<br />}<br /><br />//get start date<br />var start = newValue;<br />//get Date object using user's display format<br />var dt = getDateFromFormat(start, g_user_date_time_format);<br />var rightNow = new Date();<br />if (dt &lt; rightNow) {<br />   alert("Start time is in the past, changing type to emergency.");<br />   g_form.setValue("type", "Emergency"); <br />}<br />}</pre></p>