---
title: "Do not call GlideRecord initialize and then update"
date: 2012-04-25T02:04:58.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=663eee6ddbd0dbc01dcaf3231f96194d"
---
<p>I ran into an issue today where a customer was querying for an incident GlideRecord and doing an update. This is pretty common and pretty normal. We do it all the time. Their behavior was not common and anything but normal. Instead of seeing the incident GlideRecord update, we saw all the active incidents update instead. <br /><br />We looked at the code for a bit and I recognized that the incident GlideRecord was getting initialize() called on it, some values were getting set, and then update() was getting called. Granted we had to traverse through a few methods as this incident GlideRecord was getting passed into other functions, so it wasn't really cut an dry, but I will lay out the issue simpler below.<br /><br />We are all familiar with initialize() before an insert (and this is fine):<br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />var gr = new GlideRecord('to_do');<br />gr.initialize();<br />gr.name = 'first to do item';<br />gr.description = 'learn about GlideRecord';<br />gr.insert();<br /></pre><br /><br /><b>This is not fine</b><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />var rec = new GlideRecord('incident');<br />rec.addQuery('active',true);<br />rec.query();<br />while (rec.next()) {<br />  rec.initialize();<br />  rec.active = false;<br />  rec.update();<br />}<br /></pre><br /><br />I am not really sure what the system is doing here, and I plan to look through the code a little later, but it produced very strange results where unexpected data was getting updated.<br /><br />I guess what I am offering as sound advice is don't call the initialize() for anything but an insert().</p>