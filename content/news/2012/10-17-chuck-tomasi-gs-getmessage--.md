---
title: "gsgetMessage  The Second Parameter"
date: 2012-10-16T08:19:09.000Z
authors: ["Chuck Tomasi"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=aa1e626ddbd0dbc01dcaf3231f961921"
---
<p><img   align="right" alt="" class="jive-image" height="109" src="4ab4d042dbd05344e9737a9e0f96197d.iix" width="115"/><br/>I was working on something today and discovered something interesting. You know me, if I find something cool, I want to share it. I was going through some of the standard script includes that come with each instance when I noticed a gs.getMessage() statement with some intriguing characters and a second parameter. When I figured out what it did, I thought "Oh, how I wish I had this a year ago! It would have been so much cleaner than what I did." Hopefully this article will save you the same frustration.</p><p></p><p><br/>Let's back up a bit and explain what gs.getMessage() is and why it is useful. gs.getMessage() is part of the <a title="ki.servicenow.com/index.php?title=GlideSystem" href="http://wiki.servicenow.com/index.php?title=GlideSystem">GlideSystem</a>, or gs for short. GlideSystem provides a number of useful methods (or functions) to get information about the system including the currently logged in user, dates and times, and output messages. It is the last part that we are interested in regarding gs.getMessage().</p><p></p><p>gs.getMessage() retrieves messages from the Messages (sys_ui_message) table based on the current user's language settings. In short, you can write language independent scripts provided the right messages are in the table. Consider the following script:</p><p></p><p></p><pre __default_attr="plain" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14750746352049082 jive_text_macro" data-renderedposition="323_8_1192_48" jivemacro_uid="_14750746352049082"><br/><br/>gs.addInfoMessage('Hello');</pre><p></p><p></p><p>No matter what, this will always print "Hello". Now, let's go to System UI&gt; Messages and enter the following record:</p><p></p><p></p><center><br/><img   alt="" class="jive-image" src="f323b7b9dbdc1fc03eb27a9e0f961984.iix"/></center><p></p><p></p><p>Let's modify that script slightly to use the message we just created.</p><p></p><p></p><pre __default_attr="plain" __jive_macro_name="code" class="_jivemacro_uid_14750746352024012 jive_macro_code jive_text_macro" data-renderedposition="806_8_1192_64" jivemacro_uid="_14750746352024012"><br/><br/>var msg = gs.getMessage('Hello');<br/>gs.addInfoMessage(msg);</pre><p></p><p></p><p>The system retrieves the entry from the Messages table with the key 'Hello' and saves the 'Message' field value in our variable 'msg'. On the surface it appears to do the same thing, so why go through the extra trouble of creating a message and the extra line of code? (which could be consolidated to one, but let's not get carried away.)</p><p></p><p>There are two reasons for using gs.getMessage(). The first is for automatic translations of your output messages. When your boss says "We've just acquired a company in France and we want you to have a French version of ServiceNow" it is a simple matter to export a few tables, have them translated, re-import them and your work is done. No changes to the code!</p><p></p><p>The second reason is for centralized administration. This makes it easy to change the current messages without modifying code. Your boss says "We need to change all the places it says 'New' and make it say 'Create New'." You only need to update the entries in the Messages table and you're done. No searching, no replacing, nothing.</p><p></p><p>Now that you're familiar with the use and benefits of gs.getMessage(), what do you do when you run in to a situation where you need to translate a message with dynamic content such as the following?</p><p></p><p></p><pre><br/>Message sent to Chuck Tomasi regarding INC0010056</pre><p></p><p></p><p>The "Chuck Tomasi" and incident number are going to change every time, but the "Message sent to" and "regarding" parts will be the same.</p><p></p><p>You COULD do what I did at first and break it in to two messages. For example:</p><p></p><p></p><pre><br/>key = 'im_notification_msg_1'<br/>message = 'Message sent to'<br/><br/>key = 'im_notification_msg_2'<br/>msg = 'regarding'</pre><p></p><p></p><p>and string it together with code like this:</p><p></p><p></p><pre __default_attr="plain" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14750746351997021 jive_text_macro" data-renderedposition="1661_8_1192_112" jivemacro_uid="_14750746351997021"><br/><br/>var msg = gs.getMessage('im_notification_msg_1') + ' ' +<br/>                   current.caller_id.getDisplayValue() + ' ' +<br/>                   gs.getMessage('im_notification_msg_2') + ' ' +<br/>                   current.number;<br/>gs.addInfoMessage(msg);</pre><p></p><p></p><p>While that works, it makes two calls to gs.getMessage() - I hate duplicate/repetitive code. The main problem with this solution is that the syntax between languages isn't exactly these same as English and you could end up writing very bad grammar in Japanese, Russian, or another language. Of course, there's a better way. Otherwise, why would I be writing this?</p><p></p><p>If you've ever read the <a title="ki.servicenow.com/index.php?title=GlideSystem" href="http://wiki.servicenow.com/index.php?title=GlideSystem">GlideSystem wiki page</a> and noticed the syntax for the getMessage() method, there's a second parameter "object", but not much information on what it is or how to use it (at least not when I'm writing this.) What goes there? What is it and how is it used? Simple, we'll use an array for the above example. First, define your message this way:</p><p></p><p></p><pre><br/>key = 'im_notification_msg'<br/>message = 'Message sent to {0} regarding {1}';</pre><p></p><p></p><p>I'll explain the {0} and {1} in a bit. We'll make use of that special message with one call to gs.getMessage() using that second parameter like this:</p><p></p><p></p><pre __default_attr="plain" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14750746351943856" data-renderedposition="2158_8_1192_176" jivemacro_uid="_14750746351943856"><br/><br/>var msgArray = [];<br/><br/>// Put the dynamic parts of the message in an array<br/>msgArray.push(current.caller_id.getDisplayValue());<br/>msgArray.push(current.number);<br/><br/>var msg = gs.getMessage('im_notification_msg', msgArray);<br/><br/>gs.addInfoMessage(msg);</pre><p></p><p></p><p>The variable msgArray has two elements. Element '0' (the first one) is going to be the caller's name. Element '1' (the second one) is going to be the incident number. gs.getMessage() is smart enough to recognize the {0} and {1} in the message string and substitute the right elements of the array in to the message string to return the proper result.</p><p></p><p>Now you just need to translate one message and if the user name and/or incident number go in different places in the message, your translation will take care of that too!</p><p></p><p>Very flexible and easy to use.</p>