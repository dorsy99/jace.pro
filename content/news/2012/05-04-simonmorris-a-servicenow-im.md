---
title: "A ServiceNow implementation of the Known Error Database"
date: 2012-05-03T17:48:21.000Z
authors: ["SimonMorris"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=945d2629dbd0dbc01dcaf3231f961924"
---
<p>A few weeks ago I blogged over at The ITSM Review on <a title="w.theitsmreview.com/2012/04/7-benefits-of-using-a-kedb/" href="http://www.theitsmreview.com/2012/04/7-benefits-of-using-a-kedb/">7 Benefits of Using a Known Error Database (KEDB)</a>. <br /><br /><blockquote><br />I was wondering â€” do you have a Known Error Database? And are you getting the maximum value out of it?<br /><br />The concept of a KEDB is interesting to me because it is easy to see how it benefits end users. Also because it is dynamic and constantly updated.<br />Most of all because it makes the job of the Servicedesk easier.<br /><br />It is true to say that an effective KEDB can both increase the quality and decrease the time for Incident resolution.<br /></blockquote><br /><br />I thought it would be fun to follow up with some ideas for an implementation of a Known Error Database within ServiceNow. Our default configuration* has a basic model for Known Error but you can make a lot of improvements in your installation.<br /><br />*We have a swear box in the Application Development team for people that say "Out of the box" - we're a cloud company, right?<br /><br />I wasn't going to release an update set for the features shown here but feel free to get in touch if you have any questions. This is fairly easy stuff and can be integrated into your instance with minimum effort.<br /><br /><h2>Storing the Known Error and Workaround data</h2><br /><br />As I said in my ITSM Review blog post, the KEDB is talked about as if it were a separate tangible component, distinct from the Problem database. <br /><br />This isn't an entirely incorrect way of thinking; people that are mainly involved in the Incident Management process interact with Known Errors in their search for a Workaround.. they might not interact with the full Problem record.<br /><br />BUT - Lets not overcomplicate things by creating a separate table for the KEDB. Fundamentally the Known Error lifecycle - from its publishing to it's retirement - follows that of the Problem.<br /><br />We are going to create new attributes on the Problem record to store our Known Error and Workaround and a few more besides.<br /><br />Start by personalising your Problem form layout and adding a new Form Section titled <b>Workaround</b><br /><br /><img  alt="" class="jive-image" src="4d6c4cc2db1417049c9ffb651f9619ee.iix" /><br /><br />The <b>Known Error</b> and <b>Workaround</b> fields are HTML.<br /><br />The <b>Workaround available</b> and <b>Candidate for KEDB</b> fields are True/False<br /><br />The <b>Known error KB</b> field is a reference to the <b>kb_knowledge</b> table.<br /><br />This leaves our Problem form looking like this:<br /><br /><img  alt="" class="jive-image" src="e13e008edbdc1304b322f4621f96195f.iix" /><br /><br /><blockquote><br />Q. Why is the form section called <b>Workaround</b> and not <b>Known Error</b>. My problem might not have a Workaround<br /><br />A. This is absolutely true - A Problem might be causing multiple incidents but not have a possible Workaround. Loss of power in a remote office is my best example of a Problem that cannot be easily "worked-around".<br /><br />There is a lot of value in publishing a Known Error before we even start working on the Workaround. Having the Known Error out there allows Incident Owners to start associating Incidents to this Problem.<br /><br />It also helps to start gauging the relative priority of your new Problems. One that has 10 incidents associated against it (and rising!) needs a Workaround more than a Problem that has 1 incident.<br /><br />You should watch <a title="w.brighttalk.com/webcast/534/40569" href="http://www.brighttalk.com/webcast/534/40569">"Practical Problem Management"</a> by <a title="itter.com/StuartRance" href="http://twitter.com/StuartRance">Stuart Rance</a> on the subject of "leading with the Workaround style of Problem Management"<br /><br />So we might have a Problem record with the Known Error field completed and the Workaround empty.<br /><br />There is also value in publishing a Known Error record with a Workaround that reads <i>There is no known Workaround for this Problem</i><br /><br />How is this helpful? Well - if we have researched the Known Error, found the cause and there really is no good Workaround this is valuable information. It stops someone on another shift spending time re-working the same issue.<br /><br />You might also have some dangerous workarounds that you don't want Incident Owners to use. Stating that there is no Workaround is sometimes a good thing to do.<br /><br />So - why is the form section called <b>Workaround</b>? Simply because that is the focus of the KEDB and when we look at the form we want Problem Owners to be thinking about the Workaround and how to publish into the KEDB.<br /></blockquote><br /><br />Now that we have a data model to store our Known Errors and Workarounds we can start to enter data.<br /><br />You might already have customised your Problem form to add things like <b>Steps to reproduce</b> or <b>Confirmation steps</b>. The <b>Known Error</b> field doesn't replace these at all. This is the place to describe the problem from the customers point of view. <br /><br />Here you can describe error messages, conditions, the classes of user that might be affected and so on.<br /><br />The Workaround field is HTML so you can add screenshots and format the content to be readable.<br /><br />Lets pretend for the moment that we want to publish the Known Error as soon as possible to allow Incident Owners to correlate Incidents against the Problem.<br /><br /><h2>Publishing the Known Error</h2><br /><br />The Known Error Database is essentially information stored as new fields in our Problem table. What we are going to do now is take this data and generate a Knowledge Article from it.<br /><br />Publishing Known Errors into your Knowledge Base has a couple of benefits:<br /><br /><ul><li>It's a logical place to keep it!</li><li>You can take advantage of text search</li><li>It appears alongside other types of Knowledge like HOWTO documents</li><li>You can use comments and ratings</li><li><b>You can search Knowledge from the Incident form</b></li></ul><br /><br />We are going to take the Known Error and Workaround field and build a KB article which will be published into the Knowledge Base.<br /><br />You need a new UI action for this on the Problem table named <b>Publish Known Error KB</b><br /><br />The code looks like this:<br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />createKnowledge();<br /><br />function createKnowledge() {<br />   var new_kb = new GlideRecord('kb_knowledge');<br />   new_kb.topic = 'Known Error Database';<br />   new_kb.workflow_state = 'published';<br />   new_kb.article_type = 'text';<br />   new_kb.short_description = current.number + ": "+ current.short_description;<br />   new_kb.text = "&lt;h2&gt;Known Error:&lt;/h2&gt;" + current.u_known_error +"&lt;h2&gt;Workaround:&lt;/h2&gt;"+ current.u_workaround<br />                   + "&lt;BR&gt;&lt;h2&gt;Problem:&lt;/h2&gt;&lt;b&gt;Number: &lt;/b&gt;&lt;a href='problem.do?sys_id="+current.sys_id+"'&gt;"+current.number+"&lt;/a&gt;&lt;BR&gt;&lt;b&gt;Opened at: &lt;/b&gt;"+current.opened_at+"&lt;BR&gt;&lt;b&gt;Opened by: &lt;/b&gt;"+current.opened_by.name;<br />   new_kb.insert();<br />   current.u_known_error_kb = new_kb.sys_id;<br />   current.update();<br />   action.setRedirectURL(current);<br />   gs.addInfoMessage('Knowledge article created: ' + "&lt;a href='kb_view.do?sys_kb_id="+new_kb.sys_id+"'&gt;"+new_kb.number+"&lt;/a&gt;");<br />}<br /></pre><br /><br />(Kudos to Vincent Hoang from our AppDev team who wrote this for our implementation)<br /><br />We added a condition to the UI action to avoid showing the button on an already published Known Error/Problem.<br /><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />current.u_known_error_kb == '' || current.u_known_error_kb == null<br /></pre><br /><br />Once the Known Error is written lets publish it to the KEDB.<br /><br /><img  alt="" class="jive-image" src="d9eb2bb1db9893049c9ffb651f9619a7.iix" /><br /><br /><img  alt="" class="jive-image" src="c19fc90adb54d344e9737a9e0f9619cd.iix" /><br /><br />And lets check out the resulting Knowledge Article....<br /><br /><img  alt="" class="jive-image" src="721ce082db149344e9737a9e0f96194c.iix" /><br /><br />There's nothing to do to enable Incident Owners to find this Known Error record when dealing with new Incidents. Next to the Short Description field on all tasks you can see the <b>Search Knowledge</b> field.<br /><br /><img  alt="" class="jive-image" src="a16c48c2dbd09704ed6af3231f9619a8.iix" /><br /><br /><h2>Getting the word out there - Notifications and LiveFeed</h2><br /><br />Now that we have a Known Error we want to let people know. There are lots of people that would benefit from this information - end users that might be interested in the Workaround, Technical experts that recognise the problems and could help provide a Workaround.<br /><br />You can use the boring old email notification system to let people know. Or you could integrate your Known Error Database into Live Feed to start a social conversation about new errors and possible fixes<br /><br /><img  alt="" class="jive-image" src="ed03d146dbd89f048c8ef4621f961981.iix" /><br />(Apologies for the redacted screenshot)<br /><br /><h2>Republishing the Known Error when the Problem changes</h2><br /><br />You want your Known Error record to stay up-to-date. So when the Workaround is written or the Known Error is refined users are searching for the best information.<br /><br />For this you want a Business Rule on the Problem table that runs on update and rewrites the body of the Known Error KB article.<br /><br />Additionally - you don't really want people to locally update that Knowledge Article (otherwise you'll be overwriting their changes) so add an ACL based on the Knowledge Article category to set the record to read-only (or a data policy if you prefer).<br /><br />We also added an informational message for people trying to alter the generated Knowledge article<br /><br /><img  alt="" class="jive-image" src="08d96b35dbd0df04e9737a9e0f9619ed.iix" /><br /><br /><h2>Publishing the Workaround</h2><br /><br />Now that we update the KB article every time the Problem is updated publishing the Workaround to users is as simple as completing the field on the Problem form and hitting save.<br /><br />Because we might want to publish <i>There is no Known Workaround for this Problem</i> there is a checkbox labelled <b>Workaround available</b> which allows us to track those published articles that don't have a valid Workaround.<br /><br /><h2>Measuring performance on your KEDB process</h2><br /><br />We know that publishing Known Errors quickly is important to correlate Incidents. And that publishing Workarounds improves the Incident Management quality and response time.<br /><br />Now that we have a data model on our Problem table to track Known Errors creating some SLAs is easy.<br /><br />You can create SLAs to enforce that:<br /><br /><ul><li>A Known Error record for P1 Problems is published within 4 hours</li><li>A workaround for P2 Problems is made available in 2 days</li></ul><br /><br />... and so on.<br /><br /><h2>Finishing off</h2><br /><br />Two last considerations - When the Problem is closed the Known Error is no longer relevant as you have removed the root cause from your system.<br /><br />You could either delete the Known Error KB article with a business rule that test the Problem state. But it is kinder to just retire the article and that way you don't lose the Knowledge ratings and comments.<br /><br />Also - you might not need to create Known Error records for every single Problem. We created a <b>Candidate for KEDB</b> field to track Problems that we don't have Known Errors published for (yet). Those that want to could drive a task creation from this field to get someone to create the Known Error and publish it.<br /><br /><h2>In Summary</h2><br /><br />ServiceNow has all the right components to build a pretty impressive Known Error Database - what are you waiting for??</p>