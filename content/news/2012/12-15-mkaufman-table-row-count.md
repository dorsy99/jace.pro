---
title: "Table Row Counts"
date: 2012-12-14T22:55:59.000Z
authors: ["mkaufman"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=19ace225dbd0dbc01dcaf3231f961948"
---
<p><p><img src="http://i.imgur.com/2pNW6.jpg" alt="Table Row Diagnostics" width="150px" align='right' /><br />With large ServiceNow instances, a good test is to periodically check table size. Reasons to check table size might include:<br /></p><ul><li>An import not configured with coalease properly, and is importing duplicate records.</li><li>Table Rotation not configured properly, resulting in large tables. This can impact performance.</li><li>Various other imports or interfaces that are creating large tables.</li></ul><br /><br />You can use different Database Analysis tools with the ServiceNow ODBC Driver to find out table row counts. However if you want to build a "Table Row Counts" application within ServiceNow, this article will show you how!<br /><!--break--><br /><br /><br /><br /><br /><br /><strong>Create Table Row Counts Module</strong><br /><ol><li>Create New Table (Table Row Counts)<br /><br /><a href="http://i.imgur.com/YMS8M.png" rel="lightbox"><img src="http://i.imgur.com/YMS8M.png" alt="Create Table Row Count Table" rel="lightbox" width="450px" /></a></li><li>Personalize Form<br />Add New Field, "Table", String(50)<br />Add New Field, "Row Count", Integer</li><li>Personalize List<br />Table, Row Count</li><li>Create Script Includes<br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />Script Includes:<br />Name: setTableRowCounts<br />Client Callable: true<br />Script:<br />setTableRowCounts();<br /><br />function setTableRowCounts() {<br />//Clear Table Row Count Table<br />var grTableRowCounts = new GlideRecord('u_table_row_counts');<br />grTableRowCounts.query();<br />while (grTableRowCounts.next()) {<br />grTableRowCounts.deleteRecord();<br />}<br />gs.print('Deleted Table Row Counts Table');<br />//Set Table Row Counts<br />var grDictionary = new GlideRecord('sys_dictionary');<br />grDictionary.addQuery('internal_type', 'collection');<br />grDictionary.addQuery('name','!=','sys_template');<br />grDictionary.query();<br />gs.log('Dictionary Query: ' + grDictionary.getEncodedQuery() + ' = ' + grDictionary.getRowCount());<br />while (grDictionary.next()) {<br />var currentTable = grDictionary.name.toString();<br />var count = new GlideAggregate(currentTable);<br />count.addAggregate('COUNT');<br />count.query();<br />if (count.next()) {<br />var grTableRow = new GlideRecord('u_table_row_counts');<br />grTableRow.initialize();<br />grTableRow.u_table = currentTable;<br />grTableRow.u_row_count = count.getAggregate('COUNT');<br />grTableRow.insert();<br />gs.print('Table: '+grTableRow.u_table+ ' contains '+ grTableRow.u_row_count + ' rows.');<br />}<br />}<br />}<br /></pre></li><li>Adjust and create New Modules (Table Row Counts)<br /><br /><a href="http://i.imgur.com/OeeXy.png" rel="lightbox"><img src="http://i.imgur.com/OeeXy.png" alt="Modules" rel="lightbox" width="450px" /></a></li><li>Modules Created (Table Row Counts)<br /><br /><a href="http://i.imgur.com/uWzwV.png" rel="lightbox"><img src="http://i.imgur.com/uWzwV.png" alt="Modules" rel="lightbox" width="450px" /></a></li><li>List Control (Table Row Counts)<br /><br /><a href="http://i.imgur.com/Fz68C.png" rel="lightbox"><img src="http://i.imgur.com/Fz68C.png" alt="List Control" rel="lightbox" width="450px" /></a></li><li>UI Policy (Table Row Counts)<br /><br /><a href="http://i.imgur.com/nE9Z7.png" rel="lightbox"><img src="http://i.imgur.com/nE9Z7.png" alt="UI Policy" rel="lightbox" width="450px" /></a></li></ol><br /><br /><strong>Try out the "Table Row Counts" Modules</strong><br /><ol><li>Set "Set Table Row Counts"<br /><br /><a href="http://i.imgur.com/WzRmW.png" rel="lightbox"><img src="http://i.imgur.com/WzRmW.png" alt="Set Table Row COunts" rel="lightbox" width="450px" /></a></li><li>View "Set Table Row Counts"<br /><br /><a href="http://i.imgur.com/luz0C.png" rel="lightbox"><img src="http://i.imgur.com/luz0C.png" alt="Table Row Counts" rel="lightbox" width="450px" /></a></li></ol><br /><br />Mike</p>