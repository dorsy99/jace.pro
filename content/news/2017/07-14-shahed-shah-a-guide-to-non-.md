---
title: "A guide to nonscripting unless you have to"
date: 2017-07-13T17:19:04.000Z
authors: ["Shahed Shah"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=786eaeaddbd0dbc01dcaf3231f96195a"
---
<p>One of the biggest selling points of the ServiceNow Platform was and (I hope) still is, is the fact that you can customise it so much that it has grown into an application development platform. Since the early days, there has been an explosion in the number of applications that can be enabled from a plugin or downloaded from the <a title="tore.servicenow.com/sn_appstore_store.do" href="https://store.servicenow.com/sn_appstore_store.do">Store</a>. But, boy, is it hard to keep up. That's not a bad thing itself, but what can be considered bad is that sometimes we may revert to trying to build a solution without checking if one already exists. And I don't blame you. Some are just plain addicted to coding, that you end up threatening to get the handcuffs out.</p><p align="center"><img   alt="igromania-1894847_1280.jpg" class="image-1 jive-image" src="309c280adb1c57041dcaf3231f961909.iix" style="width: 620px; height: 413px;"/><br/><span style="font-size: 8pt;">Image courtesy of <a title="azan.vperemen.com/" href="https://kazan.vperemen.com/">kazan.vperemen.com</a></span></p><p>So, what do I have to say about this? Well, if you are going to build a solution, try to resist coding. Think about it. Sometimes you code the next greatest Script Include and it just doesn't work despite all the awesome debugging you're trying to do. Then we get another pair of eyes and immediately (can take a bit longer) they find a typo. And let's say you pose that question in the Community or in an Incident, how many times has someone suggesting an alternative route best suited to your needs. In either case, there's that feeling. Oh, you know that face-palm feeling. No-one expresses it better than our dear Homer Simpson</p><p style="text-align: center;"><img   alt="homer-simpson-288026.gif" class="image-2 jive-image" src="4d6dc886db909fc068c1fb651f96193d.iix" style="height: auto;"/></p><p>So let's see what functionality is on offer to where coding may not be required</p><p></p><h2>Field Behaviour</h2><p></p><p>This is a classic one and our ServiceNow veterans can tell you all about it. In the past I've seen some muddled code in a Client Script to play around with the fields with respect to their visibility, read-only or making them mandatory, based on other fields on the form. To change the visibility, the <a title="eveloper.servicenow.com/app.do#!/api_doc?v=istanbul&id=c_GlideFormAPI" href="https://developer.servicenow.com/app.do#!/api_doc?v=istanbul&amp;id=c_GlideFormAPI">g_form API</a> offers two methods <a title="eveloper.servicenow.com/app.do#!/api_doc?v=istanbul&id=r_GlideFormSetVisible_String_Boolean" href="https://developer.servicenow.com/app.do#!/api_doc?v=istanbul&amp;id=r_GlideFormSetVisible_String_Boolean">setVisible</a> and <a title="eveloper.servicenow.com/app.do#!/api_doc?v=istanbul&id=r_GlideFormSetDisplay_String_Boolean" href="https://developer.servicenow.com/app.do#!/api_doc?v=istanbul&amp;id=r_GlideFormSetDisplay_String_Boolean">setDisplay</a> where the results are functionally different but are sometimes used interchangeably in those naughty (yes, naughty) scripts.</p><p>I'm actually using the visibility issue to drive the rationale for what I'm about to suggest. If all you're doing are Form checks to drive the behaviour of a form field, then just stick with <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/form-administration/task/t_CreateAUIPolicy.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/form-administration/task/t_CreateAUIPolicy.html">UI Policies</a>. With these, you don't need to spend time in thinking how to code a condition and then how to change the behaviour of the field. The platform does all the hard work for you. What's also cool about them is that you can toggle a field to reverse the logic if the condition evaluated otherwise. See? No coding. Okay, well, there is an option to throw in a script to do a bit more work once the condition is evaluated. But then you need to evaluate whether the UI Policy can do it or is limited. To get this you have to go into the Advanced View of the form, which suggests you really know what you're doing. If you don't, then be prepared for when you raise that Incident.</p><p><img   alt="Screen Shot 2017-07-07 at 11.43.02.png" class="image-3 jive-image" src="b408abfddb50df04e9737a9e0f961929.iix" style="height: auto; display: block; margin-left: auto; margin-right: auto;"/></p><p style="text-align: center;"><span style="font-size: 8pt;">Get the Advanced view by clicking this related link.</span></p><p>Now, this screenshot serves a secondary purpose. See that link that says <strong>Convert this to Data Policy</strong>? I suggest you click that. This would on the UI Policy form if you are playing around with making a field read-only, or mandatory or vice-versa. Why choose this route? Okay, let me explain with a scenario you may be familiar with:</p><pre __jive_macro_name="quote" class="jive_macro_quote jive_text_macro" data-renderedposition="1410.15625_7.997159004211426_1192_83"><p>Let's say there's a Javascript error being thrown from somewhere on the form, we know that the browser can just stop processing any subsequent Javascript because of this error. Imagine you have a UI Policy making a field mandatory and this error occurs before this UI Policy's code is evaluated. What would happen? That UI Policy will not make that field mandatory and you can end up with records that does not have that field filled in.</p></pre><p>But then. What about integrations? How can we ensure that the field is filled in or prevent the record being created when the field is not being populated? If you say Access Control Rule, I won't get angry (no promises), but think about it. You're going to end up with more than one control for one field. That's a bit overkill, no?</p><p>This is where creating a <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/field-administration/concept/c_DataPolicy.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/field-administration/concept/c_DataPolicy.html">Data Policy</a> is the answer. It can be extended to the UI (where the equivalent UI Policy is created) and can influence Import Sets and SOAP. All the "protective mechanisms" are done on the server.</p><p></p><h2>Access Control Rules</h2><p style="text-align: center;"><img   alt="stop sign.png" class="image-5 jive-image" src="2652fc0edb189344e9737a9e0f9619d0.iix" style="height: auto;"/></p><p>Since I mentioned <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/contextual-security/concept/access-control-rules.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/contextual-security/concept/access-control-rules.html">Access Control Rules</a>, I have to talk about it. <span __jive_emoticon_name="laugh" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="1855.6107177734375_405.76702880859375_15_16" src="/8.0.4.21bdc7e/images/emoticons/laugh.png"></span> But why would that be on this list? When I was in Customer Support, I witnessed a large amount of ACL related issues. Most of the rules we looked at had scripts. I guess some saw it as a consolidation effort. However, since the Fuji release, there was a redesign of the form where the <strong>Script</strong> field is enabled by the <strong>Advanced</strong> checkbox.</p><p style="text-align: center;"><img   alt="Screen Shot 2017-07-07 at 12.22.21.png" class="image-4 jive-image" src="6dd215c2db9897049c9ffb651f961973.iix" style="height: auto;"/></p><p>Now, this sets a precedent. You really have to think about that requirement, not the technical part, but the requirement itself. Are you really certain that it cannot be achieved using the Roles and Conditions, or implementing more than one control? Sure there's going to be the need to script the solution. I don't doubt that. But I'm hopeful that this option makes us rethink our decision. So, if you're going to do it, try to keep the code clean and easy to read, and make use of Script Includes. Modularising the code into Script Includes will (hopefully) encourage re-use.</p><p></p><h2>Business Rules</h2><p style="text-align: center;"><img   alt="business-1754904_640.jpg" class="image-6 jive-image" src="0f91180edb105344e9737a9e0f961964.iix" style="width: 620px; height: 194px;"/></p><p>I guess this is going to be a very sensitive area where some will have their own (strong) opinions about how and when Business Rules are used. Though, it is probably agreeable to state that if you are going to code, try to do it server-side, and Business Rules are the common target for this approach. As an example, <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/server-scripting/reference/r_GlideAjax.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/server-scripting/reference/r_GlideAjax.html">GlideAjax</a> is commonly advertised as the solution to most Client Scripts. Is it really? Yes, it's asynchronous so the browser does not get locked up waiting for a response. But, if you have a lot of GlideAjax or other asynchronous lookups running when the Form is loaded, are you doing the platform performance a favour?</p><p></p><p>One of the most undersold and underused variables is <strong>g_scratchpad</strong> where you can grab anything from the server-side (field values from other tables, calculations based on other fields) and shuffle it across to your Client Script. I would strongly suggest you consider rolling up some of those on load async calls into one call and store the results in the <strong>g_scratchpad</strong> variables. The other benefit to this is, being on the server-side, you can take advantage of the <a title="eveloper.servicenow.com/app.do#!/api_doc?v=istanbul&id=server" href="https://developer.servicenow.com/app.do#!/api_doc?v=istanbul&amp;id=server">Glide APIs</a> that are available as well as your Script Includes.</p><p></p><p>A good example of using this is determining whether the current record has any attachments:</p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14999397688025850 jive_text_macro" data-renderedposition="2778.337890625_7.997159004211426_1192_15" jivemacro_uid="_14999397688025850"><p>g_scratchpad.hasAttachments = current.hasAttachments();</p></pre><p></p><p>So now then can use this in a Client Script like so:</p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14999397784017616 jive_text_macro" data-renderedposition="2835.610595703125_7.997159004211426_1192_46" jivemacro_uid="_14999397784017616"><p>if (g_scratchpad.hasAttachments) {</p><p>     // let's make magic happen</p><p>}</p></pre><p></p><p>Since the current topic is Business Rules and I'm trying to encourage minimal coding, you may (or not) have noticed an update to the Business Rule form in Eureka.</p><p><img   alt="BR Before After.png" class="image-10 jive-image" src="4292d142db9897049c9ffb651f9619cf.iix"/></p><p></p><p><span style="font-size: 8pt;"><em>Before and After (From Dublin to Eureka)</em></span></p><p></p><p>We could play spot the difference, but what I really wanted to point out is that the <strong>Script</strong> field is no longer there (Yes, the <strong>Where</strong> field is missing. We'll get to that). As with the common pitfall of scripting, there's gonna be typos. So we have a way to build conditions (in the above screenshot) and the <strong>Actions</strong> section/tab (below) for the record updates. Let's have a look:</p><p><img   alt="Screen Shot 2017-07-13 at 11.19.13.png" class="image-9 jive-image" src="4f15ff79dbd8df04e9737a9e0f9619e2.iix" style="width: 620px; height: 270px;"/></p><p>See that? A condition builder is presented so we can easily update fields. No more do you have to play around with <strong>currrent</strong>, <strong>urrent</strong>, <strong>curent</strong>... you get the idea <span __jive_emoticon_name="wink" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="3582.88330078125_1004.0056762695312_15_16" src="/8.0.4.21bdc7e/images/emoticons/wink.png"></span>. Plus, we have the options to show a message (instead of coding <strong><a title="eveloper.servicenow.com/app.do#!/api_doc?v=istanbul&id=r_ScopedGlideSystemAddInfoMessage_Object" href="https://developer.servicenow.com/app.do#!/api_doc?v=istanbul&amp;id=r_ScopedGlideSystemAddInfoMessage_Object">gs.addInfoMessage</a></strong>) and to cancel the database action (<strong><a title="eveloper.servicenow.com/app.do#!/api_doc?v=istanbul&id=r_ScopedGlideRecordSetAbortAction_Boolean" href="https://developer.servicenow.com/app.do#!/api_doc?v=istanbul&amp;id=r_ScopedGlideRecordSetAbortAction_Boolean">gr.setAbortAction(true)</a></strong>).</p><p></p><p>If you're gonna code and there's no stopping you, just as with creating a new Access Control Rule, tick the <strong>Advanced</strong> checkbox to get the <strong>Conditions</strong> and <strong>Script</strong> field. Plus, you get the <strong>When</strong>,<strong> Delete</strong>,<strong> Query and</strong> <strong>Order</strong> fields. Then in Fuji, the form has another improvement, encapsulating the scripts so you don't have to</p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14999468000453419" data-renderedposition="3709.2470703125_7.997159004211426_1192_62" jivemacro_uid="_14999468000453419"><p>function onBefore(current, previous) {</p><p>     //This function will be automatically called when this rule is processed.</p><p>     </p><p>}</p></pre><p></p><p>Then there's the usual advice... use Script Includes.</p><p></p><h2>Summary</h2><p>I could go on for a long time but that's it for now. However, it is very clear that the platform is constantly evolving to minimise on the need for coding. But if it's required, there's a lot more to consider with regards to what is good or bad practice, and there's plenty of useful blogs out there in the Community. I just wanted to give a starting point for you to consider when developing on the platform.</p><p></p><p>Plus there's a very cool K17 Lab to create an app from scratch that's worth going through <a title="Building a No Code App from Scratch" __default_attr="7029" __jive_macro_name="document" class="jive_macro jive_macro_document" data-orig-content="Building a No Code App from Scratch" data-renderedposition="3949.2470703125_572.0170288085938_255_16" href="/community?id=community_article&sys_id=f1bcea25dbd0dbc01dcaf3231f96196f">Building a No Code App from Scratch</a>.</p>