---
title: "Six ways to Improve the Performance of Client Scripts"
date: 2017-06-22T04:24:09.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=47bc6e25dbd0dbc01dcaf3231f961967"
---
<p>We empower our customers to automate processes and make them run as efficiently as possible. Take <em><a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/client-scripts/reference/r_ClientScripting.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/client-scripts/reference/r_ClientScripting.html">client scripts</a></em>, for example. In the ServiceNow system, a client script is a piece of JavaScript code that runs on the client browser. These scripts are commonly used to make forms smarter—tailor the fields to individual users, populate or validate field values, display messages, and so on.</p><p></p><p>If you're just getting started with client scripts, check out this video on our <a title="ww.youtube.com/user/servicenowdemo" href="https://www.youtube.com/user/servicenowdemo">NOWSupport YouTube channel</a>:</p><p></p><p><iframe frameborder="0" height="360" src="https://www.youtube.com/embed/4SlOniv4F4U?rel=0" width="640">
</iframe></p><p></p><p>Client scripts can be really helpful and powerful little chunks of code, but they also have a potential dark side<span style="font-size: 12.0pt; font-family: Calibri;">—</span>they can impact performance for the user. <span style="font-family: arial, sans-serif; color: #666666;">In this installment of our </span><a title="" _jive_internal="true" href="/content?filterID=all~objecttype~objecttype%5Bblogpost%5D&amp;filterID=all~tag%5Bnowsupport+best+practices+series%5D&amp;query=nowsupport+best+practices" style="font-family: arial, sans-serif; color: #3778c7;">best practices series</a><span style="font-family: arial, sans-serif; color: #666666;">, we look at </span>six ways you can keep client scripts from bogging down your processes.</p><p></p><h1>Six ways to improve client script performance</h1><ol><li><span style="color: #303030;">Use a UI Policy instead</span></li><li><span style="color: #303030;">Reduce server lookups</span></li><li><span style="color: #303030;">Avoid global client scripts</span></li><li><span style="font-family: Arial; color: #303030;">Add the isLoading check to onChange scripts</span></li><li><span style="color: #303030; font-family: Arial;">Add the newValue check</span></li><li><span style="font-family: Arial; color: #303030;">Run server calls as late as possible within the script</span></li></ol><p></p><h2>Use a UI policy instead of a script</h2><p>You can use <em><a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/form-administration/task/t_CreateAUIPolicy.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/form-administration/task/t_CreateAUIPolicy.html">UI policies</a></em> to make form fields mandatory or optional, visible or hidden, or read-only or writable when certain conditions are met. It's a good idea to use a UI policy instead of a script whenever you can. UI policies execute efficiently, and unlike with scripts, you can control the order in which multiple UI policies execute. Plus they're easy to create, which saves you the trouble of writing the scripts.</p><p style="text-align: center;"><img   alt="ui_policies_list.jpg" class="image-1 jive-image" src="b854c08adb5c5704ed6af3231f961905.iix" style="width: 620px; height: 238px;"/></p><p></p><p>And here's a tip. You can run a script as part of a UI policy, but that can be tricky to troubleshoot down the road. Stick with the supplied UI policy functions if you can.</p><p style="text-align: center;"></p><h2>Reduce server lookups</h2><p>Retrieving data from the server takes time, so make as <a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=6e3eee6ddbd0dbc01dcaf3231f961950">few server requests</a> as possible, and retrieve only the data you need.</p><p></p><p>Another way to reduce server lookups is to use <strong>g_scratchpad</strong> (in a display business rule) and <strong>GlideAjax</strong> (in any script) instead of <strong>g_form.GetReference()</strong> and <strong>GlideRecord</strong>. The first pair are more efficient because they let you choose which fields you retrieve from the server, whereas the second pair retrieve the entire record.</p><p></p><h2>Avoid global client scripts</h2><p>A <em>global</em> client script is one where the selected table is <strong>Global</strong>. Since these scripts load for every table, they load for every page in the system, including home pages and Service Catalog pages, where they're very rarely needed.</p><p></p><p>Instead, choose a specific table for the script. If you choose a base table like Task [task] or Configuration Item [cmdb_ci], the script is loaded for pages that refer to that table or any of its child tables, but not for other pages. This helps these other pages load faster.</p><p></p><h2>Add the isLoading check to onChange scripts</h2><p>You typically don't need to run onChange scripts when a form loads because they would already have run the last time a value on the form changed. To keep an onChange script from running when the form loads, check the <strong>isLoading</strong> flag at the start of the script and stop the script if it's true, like this:</p><p></p><p><span style="font-size: 10.0pt; font-family: 'Courier New';">       if (isLoading)</span></p><p><span style="font-size: 10.0pt; font-family: 'Courier New';">               return;</span></p><p></p><h2>Add the newValue check</h2><p>Typically you don't want to run a script that references a particular field if the form doesn't contain a value for the field. To avoid this, check <strong>newValue</strong> and run the rest of the script only if it's non-null, like this:</p><p></p><p><span style="font-size: 10.0pt; font-family: 'Courier New';">       if (newValue) {</span></p><p><span style="font-size: 10.0pt; font-family: 'Courier New';">       // rest of script follows</span></p><p></p><h2>Do server calls as late as possible</h2><p>Often a script will check various items available on the client (like the isLoading and newValue checks we saw earlier) before running the rest of the script. Be sure to put server calls (like <strong>GlideAjax</strong>) <em>after</em> these checks to prevent wasting time on the server calls.</p><p></p><p></p><p>_________________________________________________________________</p><p></p><p>By following these tips, you can ensure that your client scripts behave and support your processes, rather then impeding them.</p><p></p><p>For more information, see:</p><ul><li><a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/app-store/good_practices/client_script/concept/c_ClientScriptsPractices.html#c_ClientScriptsPractices" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/app-store/good_practices/client_script/concept/c_ClientScriptsPractices.html#c_ClientScriptsPractices">Client scripts good practices</a></li><li><a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/form-administration/task/t_CreateAUIPolicy.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/form-administration/task/t_CreateAUIPolicy.html">Create a UI policy</a></li><li><a href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/build/service-portal/concept/unsupported_client_scripts.html" title="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/build/service-portal/concept/unsupported_client_scripts.html">Unsupported client scripts in Service Portal</a></li></ul><p style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #666666;">--</p><p></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #666666;">Behind the scenes here at ServiceNow, the Knowledge Management and Multimedia teams work closely with subject matter experts to disseminate critical information to our customers. We've found that certain topics come up frequently, in the form of best practices that can help you keep your ServiceNow instances running smoothly. This series targets those topics so that you and your organization can benefit from our collective expertise. If you have a best practices topic you'd like us to cover in this series, please let us know in the comments below.</p><p></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-family: inherit;">To access all of the blog posts in this series, search for "</span><span style="font-weight: inherit; font-family: inherit; font-style: inherit;"><strong>nowsupport best practices series</strong></span><span style="font-weight: inherit; font-style: inherit; font-family: inherit;">."</span></p>