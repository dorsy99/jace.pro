---
title: "Outsmart fickle networks firewall changes and down servers in your web services integration"
date: 2017-02-25T03:48:01.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=51aca225dbd0dbc01dcaf3231f9619f8"
---
<p>Here's a quick test—do you know how to avoid this scenario? You're building a <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/integrate/web-services/reference/r_AvailableWebServices.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/integrate/web-services/reference/r_AvailableWebServices.html">web services</a> integration to a ServiceNow table. The integration seems to be working fine during testing, so you pull the trigger on implementation and—BOOM—it blows up (not literally - figuratively). The blowing up part is bad enough, but you can't even figure out why it's suddenly not working.</p><p></p><p>So do you know the answer? In this eighth installment of our best practices series, we look at why web service integrations can fail, and how to set them up so that you can figure out what went wrong.</p><p></p><h2><strong>Why did the web services integration go boom?</strong></h2><p>Networks, by their very nature, experience issues now and then. Network outages, changes in firewall configurations, and servers going down are just a few of the things that can result in web service requests or responses not being received.</p><p>Planning for the unexpected is important because things often work fine when you're building the integration, but issues can occur after implementation. And if you haven't incorporated error handling, when an issue occurs, the integration blows up instead of gracefully handling the situation and notifying administrators.</p><p>When building your integration, ensure that you know whether or not your requests are successful—and if they're not successful, you know why, so that you can troubleshoot.</p><p></p><h2><strong>Tips for handling network failures when interacting with a remote system via HTTP</strong></h2><p>Here are some tips for handling network failures when interacting with a remote system via HTTP—for example,   SOAPMessage, RESTMessage, and GlideHTTPRequest:</p><ul><li>Use asynchronous communications for web service requests. That way, the client—for example, a web browser or ServiceNow instance—doesn't have to wait for a web service response in order to render objects. When requests are sent synchronously (not recommended), the code making the request has to wait for the web service to respond. If the code was triggered by a business rule, the ServiceNow user interface—for example, a form—won't render until the request is complete. Thus, synchronous communications tie the performance of the ServiceNow user interface to the external service, which may make the instance appear slow to the user.</li><li>Determine an acceptable duration between request and response as well as an acceptable number of retries before the request is treated as an error.</li><li>Define ECC (External Communication Channel) Queue retry policies for outbound web services. This approach leverages the system to handle retries for you, so that you don't have to provide for them in your code.<ul style="list-style-type: disc;"><li><a title="ocs.servicenow.com/bundle/istanbul-it-operations-management/page/product/discovery/concept/c_ECCQueueRetryPolicy.html" href="https://docs.servicenow.com/bundle/istanbul-it-operations-management/page/product/discovery/concept/c_ECCQueueRetryPolicy.html">ECC Queue Retry Policy</a> is a ServiceNow plugin that is not activated by default. It must be activated by ServiceNow personnel, so it does not appear in the <strong>System Definition &gt; Plugins</strong> module. You can request this plugin through <a title="i.service-now.com/" href="https://hi.service-now.com/">HI</a>.</li><li>Retry policies for outbound web services run only if you're running web service calls asynchronously or routing them through a MID server.</li></ul></li><li>Protocols used by web services expect acknowledgement. So when you send a web service request, you should get a response status code indicating whether the request was successful or unsuccessful. See <a title="ttpstatuses.com/" href="https://httpstatuses.com/">https://httpstatuses.com/</a> for a list of HTTP status codes. Handle these in your code. If you get a successful status code, such as 200 or 201, fine. But if you get something else, flag it for retry, review, or some other action.</li></ul><p></p><h2><strong>Check out how Google Chrome handles <em>lack of response</em> network errors</strong></h2><p>You can test this out yourself. Just follow these steps:</p><ol><li>With the Chrome web browser, log into your ServiceNow instance.</li><li>Turn off your Wi-Fi.</li><li>Click the refresh icon and you'll get an error message. Press the up arrow, and it becomes a game. You can keep playing until you crash and it ends.</li></ol><p></p><p style="padding-left: 30px;"><img   alt="chrome_error_animation.gif" class="image-1 jive-image" src="da3a6ccedb545f048c8ef4621f9619e8.iix" style="height: auto; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><h2>Web services integration best practice</h2><p>When consuming web services, don't automatically assume the request will succeed. Instead, expect the unexpected—such as occasional network failures or timeouts—and plan for these situations in your code.</p><p></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #666666;">--</p><p></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit;">Behind the scenes here at ServiceNow, the Knowledge Management and Multimedia teams work closely with subject matter experts to disseminate critical information to our customers. We've found that certain topics come up frequently, in the form of best practices that can help you keep your ServiceNow instances running smoothly. This series aims to target those topics so that you and your organization can benefit from our collective expertise. If you have a best practices topic you'd like us to cover in this series, please let us know in the comments below.</p><p></p><p></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; text-align: center;"><em>See <a title="" _jive_internal="true" data-containerid="1007" data-containertype="37" data-objectid="6326" data-objecttype="38" href="/community?id=community_blog&sys_id=6f4da229dbd0dbc01dcaf3231f9619a8">Annotate scripts and customizations with comments</a> for the first installment on script comments.</em></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; text-align: center;"><em>See <a title="" _jive_internal="true" data-containerid="2927" data-containertype="37" data-objectid="6348" data-objecttype="38" href="/community?id=community_blog&sys_id=730e6e2ddbd0dbc01dcaf3231f961927">Limit the number of users with the Admin role</a> for the second installment on user roles.</em></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; text-align: center;"><em>See <a title="" _jive_internal="true" data-containerid="2927" data-containertype="37" data-objectid="6363" data-objecttype="38" href="/community?id=community_blog&sys_id=1b3d2ee5dbd0dbc01dcaf3231f961933">Where to avoid linking to a reference field when configuring a list </a>for the third installment on list configuration.</em></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; text-align: center;"><em>See <a title="" _jive_internal="true" data-containerid="1007" data-containertype="37" data-objectid="6366" data-objecttype="38" href="/community?id=community_blog&sys_id=c64e26addbd0dbc01dcaf3231f9619da">Developing on your production instance</a> for the fourth installment on development.</em></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; text-align: center;"><em>See <a title="" _jive_internal="true" data-containerid="2927" data-containertype="37" data-objectid="6388" data-objecttype="38" href="/community?id=community_blog&sys_id=077da269dbd0dbc01dcaf3231f961966">When to create a new table vs. when to extend</a> for the fifth installment on application development.</em></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; text-align: center;"><em>See <a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=4a1e226ddbd0dbc01dcaf3231f9619dd">How to clone to a target instance that has in-development applications</a> for the sixth installment on cloning.</em></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; text-align: center;"><em>See <a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=675d2a29dbd0dbc01dcaf3231f961910">Why you should never use external iFrames - and the one exception to this rule</a> for the seventh installment on using iFrames.</em></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; text-align: center;"></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; text-align: center;"><em style="color: #666666; font-family: arial, sans-serif;">T</em><span style="color: #666666; font-family: arial, sans-serif;">o access all of the blog posts in this series, search for "</span><strong style="font-family: arial, sans-serif; color: #666666;">nowsupport best practices series</strong><span style="color: #666666; font-family: arial, sans-serif;">."</span></p>