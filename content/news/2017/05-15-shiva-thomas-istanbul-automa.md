---
title: "Istanbul Automation Testing Will Make Your Life Easier"
date: 2017-05-15T00:42:44.000Z
authors: ["Shiva Thomas"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=42cc6265dbd0dbc01dcaf3231f961950"
---
<p><span style="font-size: 12pt;"><img   alt="Istanbul automated testing.png" class="image-5 jive-image" src="3613908adbd417041dcaf3231f9619e0.iix" style="width: 620px; height: 204px;"/><br/></span></p><p><span style="font-size: 12pt;">One of the most exciting feature of the ServiceNow Istanbul release, is the new Automated Testing Framework (ATF).</span></p><p></p><h1>Why so excited over automated testing?</h1><ul><li><span style="font-size: 12pt;">Custom test frameworks are very expensive to implement.</span></li><li><span style="font-size: 12pt;">Most customers only do manual tests.</span></li><li><span style="font-size: 12pt;">Every time customers upgrade their instance, weeks of works are needed to test against regressions. The time spent bug-fixing is often tiny compared to the large amount of time spent on manual testing. Anything that has automated tests will consume almost no resource at all and will benefit of better reliability.</span></li><li><span style="font-size: 12pt;">Because of this resource burden many customers don't upgrade their instance as often as they could. Instead of having a steady process of continuous improvements, they focus all their resources over testing and ignore new functionalities that could benefit their processes and users.</span></li><li><span style="font-size: 12pt;">ITIL best practices recommend continuous improvements. Yet, customers don't like to implement changes, or experiments with new features, because it is too heavy on costly resources when not automated.</span></li><li><span style="font-size: 12pt;">Major UI changes tend to break documentation made for testers, or break tests implemented in custom test frameworks, like Selenium. Istanbul's automated tests are UI agnostic.</span></li><li><span style="font-size: 12pt;">We now have a free, out-of-the-box, automated test framework specialized for ServiceNow.</span></li></ul><p></p><p><span style="font-size: 12pt;">Having spent two years as a DevOps specialist, I'm betting this will be a great time and cost saver for customers. DevOps logic embrace continuous improvement, as with Agile Software Development. But to allow the desired flexibility, you need to have automated builds, tests, and delivering. In software factories, large amounts of developers are constantly improving the software, with automated test running multiple times each day. Any detected regressions are fixed immediately. Every time a build is stable and error free, you can push it to production as a new minor release. Major releases use the same logic, but come with improved documentation or training for end-users. This is exactly what ServiceNow does for its own platform.</span></p><p></p><p><span style="font-size: 12pt;">Now let's dig over the specifics of Istanbul's implementation. Keep in mind this is a 1.0 version. ServiceNow had to decide where to concentrate their first effort; they focused where the return on investment was the biggest: Forms and server based test. Additional features will have to wait for future releases.</span></p><p></p><h1>What's included?</h1><ul><li><span style="font-size: 12pt;">Client side UI testing o Same browser requirement as UI15</span><ul><li><span style="font-size: 12pt;">Take a screenshot in case of failure</span></li><li><span style="font-size: 12pt;">Wait for asynchronous effects</span></li><li><span style="font-size: 12pt;">Capture client-side logs, alerts, etc</span></li><li><span style="font-size: 12pt;">Support the following automated actions:</span><ul><li><span style="font-size: 12pt;">Open a new form</span></li><li><span style="font-size: 12pt;">Open an existing record</span></li><li><span style="font-size: 12pt;">Set field value (quite similar to Templates UI)</span></li><li><span style="font-size: 12pt;">Click modal button</span></li><li><span style="font-size: 12pt;">Field values validation</span></li><li><span style="font-size: 12pt;">Field state validation</span></li><li><span style="font-size: 12pt;">UI Action visibility</span></li><li><span style="font-size: 12pt;">Submit a form</span></li><li><span style="font-size: 12pt;">Click a UI ActionAdding a form test step</span></li></ul></li></ul></li></ul><p style="padding-left: 30px;"><span style="font-size: 12pt;"><img   alt="Add form step.png" class="image-2 jive-image" src="ab74b735db10d3041dcaf3231f9619d2.iix" style="width: 620px; height: 352px;"/></span></p><p></p><ul><li><span style="font-size: 12pt;">Server side testing</span><ul><li><span style="font-size: 12pt;">Extensible by customers</span></li><li><span style="font-size: 12pt;">Runs entirely on the server</span></li><li><span style="font-size: 12pt;">Can be mixed and matched with UI steps</span></li><li><span style="font-size: 12pt;">Include powerful <a title="asmine.github.io/" href="https://jasmine.github.io/">Jasmine JavaScript framework</a> for behavior-driven scripted testing</span></li><li><span style="font-size: 12pt;">Support the following actions:</span><ul><li><span style="font-size: 12pt;">Impersonate</span></li><li><span style="font-size: 12pt;">Record Insert / Update / Delete</span></li><li><span style="font-size: 12pt;">Record Query</span></li><li><span style="font-size: 12pt;">Record Validation</span></li><li><span style="font-size: 12pt;">Replay Requested Item (Required, because Service Catalog UI testing is not supported)</span></li><li><span style="font-size: 12pt;">Log</span></li><li><span style="font-size: 12pt;">Run a server side script</span></li></ul></li></ul></li></ul><p style="padding-left: 60px;"><img   alt="Add server step.png" class="image-1 jive-image" src="2e645c46dbd49fc068c1fb651f9619ca.iix" style="font-size: 12pt; width: 620px; height: 352px;"/></p><p></p><p><span style="font-size: 12pt;">The tests themselves are tracked in update sets. They are customer configurable, obviously. They can be grouped hierarchically, in test suites. Some elements from previous test can be defined in subsequent tests.</span></p><p></p><p><span style="font-size: 12pt;">A typical test suite would be something like: Impersonate user XXX, create a ticket, impersonate ITIL user, open previous ticket, check that automatic Assignment group is correct, check that caller is XXX, click on Resolve button, ensure that Close Note field is mandatoryâ€¦</span></p><p></p><p><span style="font-size: 12pt;"><img   alt="Test executions.png" class="image-3 jive-image" src="bc1b19cadb9c9f048c8ef4621f96199d.iix" style="width: 620px; height: 305px;"/></span></p><p></p><p><span style="font-size: 12pt;">At the end of the execution, any modifications in the instance are reverted: Records that have been created are deleted, updates are cancelled. You can execute your test as many times as required without polluting your instance.</span></p><p></p><p><span style="font-size: 12pt;"><img   alt="Test results.png" class="image-4 jive-image" src="47d1bc42dbd8dfc068c1fb651f961964.iix" style="width: 620px; height: 408px;"/></span></p><p></p><h1>Current limitations</h1><ul><li><span style="font-size: 12pt;">ATF isn't designed to serve as performance or load tester.</span></li><li><span style="font-size: 12pt;">In the current version, I did not find any out-of-the box settings to schedule periodic automatic tests.</span></li><li><span style="font-size: 12pt;">UI testing of Service Catalogs, Service Portals, CMS, Record producers, login pages is not supported.</span></li><li><span style="font-size: 12pt;">Not available for Express instances</span></li></ul><p></p><h1>Who should design tests</h1><p><span style="font-size: 12pt;">Two roles have been added to Istanbul:</span></p><ul><li><span style="font-size: 12pt;"><strong>atf_test_designer</strong>: Can design and publish test. Could be developers or technical business analysts.</span></li><li><span style="font-size: 12pt;"><strong>atf_test_admin</strong>: Can create test items to for test designers. This is for hardcore developers specialized in automated testing.</span></li></ul><p></p><p><span style="font-size: 12pt;">Both roles grant impersonator role so you should grant these only to users who are cleared, if there are confidential information on your instance.</span></p><p></p><h1>Suggested next steps</h1><p><span style="font-size: 12pt;">You'll need to enable the Automated Test Framework plugin, if your instance was created before the Istanbul release.</span></p><p></p><p><span style="font-size: 12pt;">You should ensure that every new implementation on your instance includes as many functional tests as possible, implemented directly via ATF in your development instance by the software developers. They should be included in your release's update sets.</span></p><p></p><p><span style="font-size: 12pt;">I also suggest that during your next major upgrades, you spend resources to automate as many of your manual tests as possible. The return on investment should be obvious on you're the following upgrades.</span></p><p></p><p><span style="font-size: 12pt;"><em>Are you planning to use Automated Tests? Are you already using them? Do you already use another framework? In that case, here could be a nice place to exchange on our experiences.</em></span></p><p></p><p style="text-align: right;"><span style="font-size: 12pt;">Originally published in <a title="ervicenow.implementation.blog/istanbul-automated-testing/" href="https://servicenow.implementation.blog/istanbul-automated-testing/">servicenow.implementation.blog</a> by Shiva Thomas</span></p>