---
title: "How to keep variables from stepping on each other"
date: 2017-03-18T04:56:31.000Z
authors: ["Dawn Jurek"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=ddecea65dbd0dbc01dcaf3231f9619f0"
---
<p>Has this ever happened to you? You test out a block of carefully crafted code, only to find that the results are totally unexpected. After painstakingly tracking down the problem, it turns out that one of your seemingly benign variables trampled on a variable already in use in the system. So what's the best way to avoid this? In this eleventh installment of our best practices series, we look at how functions can help you tame your variables.</p><p></p><h2>What are functions and why should you use them?</h2><p>Functions are self-contained modules of code that perform a particular task. In a ServiceNow instance, they're commonly used in <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/business-rules/concept/c_BusinessRules.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/business-rules/concept/c_BusinessRules.html">business rules</a>, <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/client-scripts/reference/r_ClientScripting.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/client-scripts/reference/r_ClientScripting.html">client scripts</a>, <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/server-scripting/concept/c_ScriptIncludes.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/server-scripting/concept/c_ScriptIncludes.html">script includes</a>, and anywhere else you can write code. Functions serve to encapsulate, or isolate, code so that the variables therein don't go running amok elsewhere in the system.</p><p></p><p>Here's an example of code encapsulated in a function, contrasted with unencapsulated code:</p><p><img   alt="Encapsulate code in functions example.png" class="image-1 jive-image" src="85828806db985fc03eb27a9e0f961924.iix" style="height: auto; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p>There are many reasons to encapsulate code in functions, but in the ServiceNow platform, one of the main concerns is variables "stepping on" one anotherâ€”that is, taking on incorrect values outside their intended scope. When a variable is defined outside a function, its scope is global by default. If your non-encapsulated script uses a variable that's already in use by the system, the variable could take on a value that produces unexpected results whose causes are very difficult to track down.</p><p>Encapsulating code in functions helps you keep your variable namespace clean, so that variables in your script stay local and don't interact with global variables.</p><p>Functions also offer these benefits:</p><ul><li><strong>Code reuse.</strong> The function can be called from many different places in the system, including from inside other functions.</li><li><strong>Ease of testing and debugging.</strong> Functions allow you to test and debug code in small chunks.</li><li><strong>Ease of maintenance</strong>. It's easier to update code and add features when that code is self-contained in the function it performs.</li></ul><p></p><h2>Coding best practice</h2><p>Encapsulate all your code in functions to keep variables from going rogue, to facilitate code reuse, and to make testing and maintenance easier.</p><p></p><p>--</p><p></p><p>Behind the scenes here at ServiceNow, the Knowledge Management and Multimedia teams work closely with subject matter experts to disseminate critical information to our customers. We've found that certain topics come up frequently, in the form of best practices that can help you keep your ServiceNow instances running smoothly. This series aims to target those topics so that you and your organization can benefit from our collective expertise. If you have a best practices topic you'd like us to cover in this series, please let us know in the comments below.</p><p></p><p><span style="color: #666666; font-family: arial, sans-serif;">To access all of the blog posts in this series, search for "</span><strong style="font-family: arial, sans-serif; color: #666666;">nowsupport best practices series</strong><span style="color: #666666; font-family: arial, sans-serif;">."</span></p>