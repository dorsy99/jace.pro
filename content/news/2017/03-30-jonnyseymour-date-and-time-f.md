---
title: "Date and time fields on the apps and clients"
date: 2017-03-30T03:20:09.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=8b4da229dbd0dbc01dcaf3231f96190e"
---
<p>If you thought the GlideDateTime holds the time and the time zone, and you would need to convert from one time zone to another or complex task to use them, think again. GlideDateTime holds the time in Coordinated Universal Time (or UTC). It takes time to get used to this "simple" concept. You would only need to consider the time zone for "displaying" the values.</p><p><img   alt="albert_einstein.jpeg" class="image-4 jive-image" src="d8e67331db145704ed6af3231f96198c.iix" style="height: auto; display: block; margin-left: auto; margin-right: auto;"/></p><p>When you retrieve the data from a GlideRecord, date and time fields are populated with all the relevant information. The values on the date and time fields are in UTC. However, when you are creating a new date and time field from scratch, or trying to get the <strong>Display</strong> value, you may face the task of validating the <strong>Display</strong> time. If that is the case, this blog is for you. I will show some examples of the data retrieved from an incident, and another when setting the time from scratch in a script.</p><p></p><p>Simple enough? The browser will show the GlideDateTime <strong>Display</strong> value, and calculations are in UTC.</p><p></p><h2>GlideDateTime holds the time in UTC</h2><p></p><p>When reviewing the different ways to overcome multiple time zones, converting the stored data as UTC (Universal Time Coordinated) is really simple and effective.</p><p>From a client point of view, they need to worry about time zones when displaying the data. In any other calculations, the times are UTC.</p><p></p><p>Here is one example of a client time and the user profile time: </p><p></p><p><img   alt="2017-03-19_1438-the-beaty-of-UTC.png" class="image-3 jive-image" src="45045446db1817041dcaf3231f96191c.iix" style="width: 620px; height: 264px; display: block; margin-left: auto; margin-right: auto;"/></p><p><img   alt="2017-03-19_1440-timezone-user.png" class="image-2 jive-image" src="e343f0cedb5c57049c9ffb651f9619ba.iix" style="width: 620px; height: 215px; display: block; margin-left: auto; margin-right: auto;"/></p><p>In UK, the time shown on the PC was 14:38, while on the app it showed 07:38 because the profile was set to the the <strong>America/Los_Angeles </strong>time zone.</p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="1119_8_1117_43"><p>Both times are at <strong>different</strong> time zones, but on UTC they are both the <strong>same</strong>. Closed <strong>(closed_at)</strong> is "2017-03-19 14:38:01 UTC".</p></pre><h3></h3><h3>The Display time is calculated based on the time zone</h3><p></p><p>The time zone is calculated based on the user profile, the system time zone, or the client time zone. However, the time zone can later be set manually by scripts.</p><p>Then based on the time zone, an offset is set and the "Display" value is calculated.</p><p></p><p>Here is an example:</p><p></p><p>--script----</p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14899551319999237" data-renderedposition="1371_8_1117_64" jivemacro_uid="_14899551319999237"><p>var gr = new GlideRecord('incident');</p><p>gr.get("number","INC0020002");</p><p></p><p>gs.print('\ngr.closed_at: ' + gr.closed_at + " UTC\ngr.closed_at.getDisplayValue(): " + gr.closed_at.getDisplayValue() + " system time");</p></pre><p></p><p><strong>Results:</strong></p><pre __jive_macro_name="quote" class="jive_macro_quote jive_text_macro" data-renderedposition="1487_8_1117_83"><p>*** Script:</p><p>gr.closed_at: 2017-03-19 14:38:01 UTC</p><p>gr.closed_at.getDisplayValue(): 2017-03-19 <span style="color: #e23d39;">07:38:01</span> system time</p></pre><p></p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="1615_8_1117_43"><p>Modifying the time zone will NOT modify the stored UTC data; just the Display value.</p></pre><p>Modifying the time zone does not modify the stored data. This is an area that may be confusing. GlideDateTime contains a time zone. Changing the time zone, it will only modify the "Display" value. This key on how the data is displayed on the clients.</p><p></p><p>Here is an example:</p><p></p><p>--script----</p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14899551635741879 jive_text_macro" data-renderedposition="1798_8_1117_240" jivemacro_uid="_14899551635741879"><p>var message = [];</p><p>var gr = new GlideRecord('incident');</p><p>gr.get("number","INC0020002");</p><p>var vclosed_at = new GlideDateTime (gr.closed_at);</p><p>message.push('gr.closed_at: ' + vclosed_at);</p><p></p><p>// Setting to IST timezone</p><p>vclosed_at.setTZ(Packages.java.util.TimeZone.getTimeZone("IST"));</p><p>message.push('\ngr.closed_at: ' + vclosed_at + " UTC\ngr.closed_at.getDisplayValue(): " + vclosed_at.getDisplayValue() + " IST");</p><p></p><p>// Setting to US/Pacific timezone</p><p>vclosed_at.setTZ(Packages.java.util.TimeZone.getTimeZone("US/Pacific"));</p><p>message.push('\ngr.closed_at: ' + vclosed_at + " UTC\ngr.closed_at.getDisplayValue(): " + vclosed_at.getDisplayValue() + " US/Pacific");</p><p></p><p>gs.print(message.join ('\n'));</p></pre><p></p><p><strong>Results:</strong></p><p></p><table border="1" cellpadding="0" height="100" style="border: 1pt solid windowtext; height: 101px; width: 523px;" width="522"><tbody><tr><td style="border: solid windowtext 1.0pt; background: #D12022; padding: .75pt .75pt .75pt .75pt;" width="150"><p><span style="color: white;"><strong>Timezone</strong></span></p></td><td style="border: solid windowtext 1.0pt; background: #D12022; padding: .75pt .75pt .75pt .75pt;" width="150"><p><span style="color: white;"><strong>Display Time</strong></span></p></td><td style="border: solid windowtext 1.0pt; background: #D12022; padding: .75pt .75pt .75pt .75pt;" width="150"><p><span style="color: white;"><strong>Database time</strong></span></p></td></tr><tr><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>IST</p></td><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>2017-03-19 20:08:01</p></td><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>2017-03-19 14:38:01 UTC</p></td></tr><tr><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>US/Pacific</p></td><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>2017-03-19 07:38:01</p></td><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>2017-03-19 14:38:01 UTC</p></td></tr></tbody></table><p></p><pre __jive_macro_name="quote" class="jive_macro_quote jive_text_macro" data-renderedposition="2234_8_1117_146"><p>*** Script: </p><p>gr.vgdt_ist: 2017-03-19 14:38:01 UTC</p><p>vgdt_ist.getDisplayValue(): 2017-03-19 20:08:01 IST</p><p></p><p>gr.vgdt_pdt: 2017-03-19 14:38:01 UTC</p><p>vgdt_pdt.getDisplayValue(): 2017-03-19 07:38:01 US/Pacific</p></pre><p></p><h2>How to initialize a GlideDateTime with Display values</h2><p></p><p>This is probably the most asked question when dealing with dates and times: How do you create a date and time field when we know the display values? The answer is to set the GlideDateTime time zone before setting the display value. This is performing a reverse offset translation from the "Display" value into the database value.</p><p></p><p>Here is an example:</p><p></p><p>--script----</p><pre __default_attr="javascript" __jive_macro_name="code" class="_jivemacro_uid_14899566394299191 jive_macro_code jive_text_macro" data-renderedposition="2588_8_1117_352" jivemacro_uid="_14899566394299191"><p>var vgdt_ist = setDisplayTime ("2017-03-19 20:08:01", "IST");</p><p>var vgdt_pdt = setDisplayTime ("2017-03-19 07:38:01", "US/Pacific");</p><p>var message = [];</p><p></p><p>// Setting to IST</p><p>message.push('\ngr.vgdt_ist: ' + vgdt_ist + " UTC\nvgdt_ist.getDisplayValue(): " + vgdt_ist.getDisplayValue() + " IST");</p><p></p><p>// Setting to US/Pacific</p><p>message.push('\ngr.vgdt_pdt: ' + vgdt_pdt + " UTC\nvgdt_pdt.getDisplayValue(): " + vgdt_pdt.getDisplayValue() + " US/Pacific");</p><p></p><p>gs.print(message.join ('\n'));</p><p></p><p></p><p>// Convert provided date time and timezone into UTC to validate</p><p>// Default format is "yyyy-MM-dd HH:mm:ss"</p><p>// return: GlideDateTime on vtimezone</p><p>function setDisplayTime (originaldt, vtimezone) {</p><p>       var a = new GlideDateTime();</p><p>       a.setTZ(Packages.java.util.TimeZone.getTimeZone(vtimezone));</p><p>       a.setDisplayValue(originaldt, "yyyy-MM-dd HH:mm:ss");             </p><p>       return a;</p><p>}</p></pre><p></p><p><strong>Results:</strong></p><p></p><table border="1" cellpadding="0" height="114" style="border: 1pt solid windowtext; height: 115px; width: 516px;" width="515"><tbody><tr><td style="border: solid windowtext 1.0pt; background: #D12022; padding: .75pt .75pt .75pt .75pt;" width="150"><p><span style="color: white;"><strong>Timezone</strong></span></p></td><td style="border: solid windowtext 1.0pt; background: #D12022; padding: .75pt .75pt .75pt .75pt;" width="150"><p><span style="color: white;"><strong>Display Time</strong></span></p></td><td style="border: solid windowtext 1.0pt; background: #D12022; padding: .75pt .75pt .75pt .75pt;" width="150"><p><span style="color: white;"><strong>Database time</strong></span></p></td></tr><tr><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>IST</p></td><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>2017-03-19 20:08:01</p></td><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>2017-03-19 14:38:01 UTC</p></td></tr><tr><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>US/Pacific</p></td><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>2017-03-19 07:38:01</p></td><td style="border: solid windowtext 1.0pt; padding: .75pt .75pt .75pt .75pt;" width="150"><p>2017-03-19 14:38:01 UTC</p></td></tr></tbody></table><p></p><pre __jive_macro_name="quote" class="jive_macro_quote jive_text_macro" data-renderedposition="3150_8_1117_146"><p>*** Script:</p><p>gr.vgdt_ist: 2017-03-19 14:38:01 UTC</p><p>vgdt_ist.getDisplayValue(): 2017-03-19 20:08:01 IST</p><p></p><p>gr.vgdt_pdt: 2017-03-19 14:38:01 UTC</p><p>vgdt_pdt.getDisplayValue(): 2017-03-19 07:38:01 US/Pacific</p></pre><p></p><p>Finally, it is important to simplify date and time fields, considering that they only hold the data in UTC. Everything should be as simple as it can be, but not simpler.</p><p></p><p>For more information on date and time fields, check out these resources:</p><ul><li><a title="Sync the Time Zone of your Application with your PC" __default_attr="6548" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Sync the Time Zone of your Application with your PC" data-renderedposition="3395.050048828125_38_350_17" href="/community?id=community_blog&sys_id=e87c22e1dbd0dbc01dcaf3231f96193e">Sync the Time Zone of your Application with your PC</a></li><li><a title="Adjust your ServiceNow instance Time Zone after Daylight Saving Time" __default_attr="6549" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Adjust your ServiceNow instance Time Zone after Daylight Saving Time" data-renderedposition="3418.85009765625_38_463_17" href="/community?id=community_blog&sys_id=ef3e62addbd0dbc01dcaf3231f96194e">Adjust your ServiceNow instance Time Zone after Daylight Saving Time</a></li><li><a href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/time/reference/r_TimeZones.html" title="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/time/reference/r_TimeZones.html">Docs: Time zones</a></li><li><a href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/time/task/t_SetASystemTimeZone.html" title="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/time/task/t_SetASystemTimeZone.html">Docs: Set a system time zone</a></li><li><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0534829" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0534829">ODBC Driver returns incorrect time adjustments during Daylight Saving (Summer Time) change (KB0534829)</a></li><li><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0594661" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0594661">Time zone representation (all releases) (KB0594661)</a></li><li><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0594664" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0594664">Clarification of the GlideDateTime API (KB0594664)</a></li><li><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0594666" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0594666">Do not use gs.nowDateTime() in a GlideDateTime constructor   (KB0594666)</a></li><li><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0594661" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0594661">Time zone representation (all releases) (KB0594661)</a></li><li><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0594663" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0594663">gs.dateDiff() (Global GlideSystem) returns invalid results (KB0594663)</a></li><li><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0596114" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0596114">Differences between user, system, and internal date and time formats (KB0596114) - Requires HI Login</a></li><li><a title="" _jive_internal="true" data-containerid="-1" data-containertype="-1" data-objectid="45437" data-objecttype="3" href="/people/jonnyseymour/content?filterID=contentstatus%5Bpublished%5D%7Eobjecttype%7Eobjecttype%5Bblogpost%5D&amp;sortKey=contentstatus%5Bpublished%5D%7EcreationDateDesc&amp;sortOrder=0">My other blogs posts</a></li></ul>