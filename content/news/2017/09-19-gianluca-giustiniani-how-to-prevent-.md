---
title: "How to prevent task forms from failing on mobile"
date: 2017-09-18T12:30:37.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=484ea2addbd0dbc01dcaf3231f96195a"
---
<p>Working on mobile devices is supposed to be fast and handy, so there is nothing worse than stumbling upon a broken form with the evil spinning timer on it. You check the Wi-Fi, you check the local network, everything works, your phone is connected, the SN app logs you in as usual and also loads the navigation menu, but your incident form is lost in hyperspace. This can happen on any task-extended form that uses   the activity formatter.</p><p></p><p style="text-align: center;"><img   alt="Mobile View Failing Form.png" class="image-6 jive-image" src="1e672bf9dbdc5b048c8ef4621f9619a3.iix" style="width: 620px; height: 374px;"/></p><p></p><h1><span style="color: #303030;">How to avoid broken forms on a mobile device</span></h1><p>The scope of this post is <em>not</em> to troubleshoot the app connectivity or database issues on the server side. Once we have ruled out problems on the back end, we must know that the app is failing to render just the form, because it is looping or stuck on specific elements of the form layout.</p><p></p><p>Since the introduction of UI16 and recent plugins like Presence, the <a title="ocs.servicenow.com/bundle/jakarta-it-service-management/page/product/incident-management/concept/c_IncidentManagement.html" href="https://docs.servicenow.com/bundle/jakarta-it-service-management/page/product/incident-management/concept/c_IncidentManagement.html">incident management</a> engine has changed considerably, and the Incident form loads in the background the <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/use/navigation/concept/c_activity-streams.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/use/navigation/concept/c_activity-streams.html">Activity Stream</a> in order to handle real-time updates on the activity log journal, as well as to enable the stream feed quickly enough on the <a title="ocs.servicenow.com/bundle/helsinki-servicenow-platform/page/administer/tablet-mobile-ui/concept/c_MobileActivityStreams.html" href="https://docs.servicenow.com/bundle/helsinki-servicenow-platform/page/administer/tablet-mobile-ui/concept/c_MobileActivityStreams.html">Mobile UI</a>.</p><p></p><p>It is possible to disable UI16 from <strong>System Configuration &gt; UI Properties</strong>, but definitely not recommended, as the application would lose most of the advanced features in incident management.</p><p style="text-align: center;"><img   alt="UI16 Activity Stream.png" class="image-7 jive-image" src="ca18d1cadbd81b04ed6af3231f96191a.iix" style="width: 620px; height: 104px;"/></p><p></p><p>For platform performance and architecture design reasons, the journal log of an Incident or other Task record is obviously not stored in the [task] table itself, but in [sys_history_line] and [sys_audit] partitioned table shards. These are not accessible directly, but linked to the task record through its sys_ID, and retrieved temporarily while accessing the task record. The retrieved activity history is placed into the buffer table [sys_history_set], as described in the <a href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/administer/security/concept/c_HistorySets.html" title="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/administer/security/concept/c_HistorySets.html">History Sets</a> product documentation.</p><p></p><p>All this background activity happens on the server side, and an Incident form with the activity log properly loaded on mobile view should look like this:</p><p style="text-align: center;"><img   alt="std_mobile.png" class="image-8 jive-image" src="c15078c2dbdc57041dcaf3231f961965.iix" style="width: 620px; height: 765px;"/></p><p></p><p>The form loads the main elements first, like Incident Number, Company, Priority, and then loops through the history audit data to build and render the activity log entries. Once the queries are completed on the server, if the form fails to transpose the activity log into its elements, we experience the empty sinister form with the endless spinning circle.</p><p></p><h2><span style="color: #303030;">Why is the form failing to load? </span></h2><p>There could be several factors causing the form to struggle <span style="color: #303030;">loading</span>. For example, <span style="color: #303030;">there could be a large amount of C</span>MDB data for the particular configuration item related to the incident. <span style="color: #303030;">Other reasons could be a reference field to a large table taking time to populate the drop-down list, or particularly rich content in an HTML field.</span></p><p></p><p>The mobile interface tends to hide standard error messages that would otherwise display on the standard UI. This is due mainly to avoid to overpopulating the   screen and, unfortunately, can be frustrating and misleading for the mobile user. However, the loading would eventually time out in such a circumstance. Whilst the main cause for the blank form stuck in endless loading on mobile is a wrong configuration of the <strong>Activities (filtered)</strong> element, this should always be placed in block with the <strong>Additional comments (Customer Visible)</strong> and the <strong>Work notes</strong> elements.</p><p></p><p>For example, a correct form configuration in the Notes section would show like this:</p><p style="text-align: center;"><img   alt="Form Layout SubSection.png" class="image-10 jive-image" src="118373bddbdc1fc03eb27a9e0f961971.iix" style="width: 620px; height: 362px;"/></p><p></p><p>If the <strong>Additional comments</strong> are split from the <strong>Work notes</strong> in your layout configuration, the issue will occur in your mobile view.</p><p>A typically incorrect configuration in a form section, for example, with the <strong>Work notes</strong> alone added in the bottom, would display as the following:</p><p style="text-align: center;"><img   alt="Form Layout Main Section.png" class="image-9 jive-image" src="ac01108edb149fc068c1fb651f961918.iix" style="width: 620px; height: 364px;"/></p><p></p><p>After saving such a configuration in the standard (not mobile) UI, the form layout will still render, but <span style="color: #303030;">will omit</span> the <strong>Work notes</strong>. When switching or accessing in Mobile UI, the rest of the form layout will not be loaded, showing the spinning circle.</p><p></p><p><span style="color: #9900ff;"><span style="color: #303030;">As we see, the Mobile UI is generally less robust than the standard UI. Keeping the mobile view of any form light and with less elements than the default desktop form is always good practice.</span> <span style="color: #303030;">If you run into the issue of a task form containing the activity log journal failing to load, check the layout configuration and make sure the <strong>Additional Comments</strong>, <strong>Work Notes</strong>, and <strong>Activities (filtered)</strong> elements have not been split from each other. These will need to be displayed together within the same form section.</span></span></p>