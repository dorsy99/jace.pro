---
title: "KISS REST API Troubleshooting made simple"
date: 2017-10-10T16:40:41.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=603eea6ddbd0dbc01dcaf3231f9619dd"
---
<p>In my capacity as a Integrations engineer, I have been given the opportunity to work with many of Service Now's technology partners. In my role, I often address the friction points that may arise during a solution implementation, especially in areas where attempts have been made to customise the Service Now platform. Working in this fashion is fruitful for all parties. During our interactions with partners and customers, Service Now internal staff are able to share knowledge and best practice. And in return, our customers share their vision, innovation and enterprise with us.</p><p></p><p>In this blog post, I will be discussing an incident raised by one of Service Now's technology partners and how we, in turn, managed to assist the partner in question to successfully deliver their customised business requirement.</p><p></p><p><strong>The issue:</strong></p><p>The partner in question had developed an inbound web service to CREATE/UPDATE a record on their cmdb_ci table utilising the PUT method in the REST API. During the course of developing their solution, a decision was made that a custom field on the cmdb_ci table should hold a default value. The pain point they found was that whenever they tested their PUT method to create a record on the cmdb_ci table the configured default value on their custom field would overwrite any value received from the PUT method.</p><p></p><p>Allow me to illustrate this friction point clearer. For argument's sake, let us say that the custom field on their cmdb_ci table is named u_impact (cmdb_ci.u_impact) and the field has been configured to contain the value '2' by default within the Service Now frameset UI.</p><p></p><p></p><p>Given the above configuration following payload from the PUT method would be expected to create a record with a cmdb_ci.u_impact value of '1'</p><p></p><p></p><p>PayLoad : <span style="font-family: 'courier new', courier;">{"company":"IT Corp","name":"Test CI 1","u_impact":"1"}</span></p><p></p><p></p><p>However, our intrepid partner found that although the PUT method did successfully create the new record the value of the cmdb_ci.u_impact field on the new record remained that of which was configured by default, in the case presented the value '2'.</p><p></p><p></p><p>To troubleshoot this issue I engaged in the activities below:</p><p></p><ul><li>I began by following the partners concise instructions to reproduce the incident. The details I required were as follows:<ul><li>The name of the instance where the web service was configured</li><li>The name of the web service</li><li>Valid test data for the web service</li></ul></li><li>Once I was able to reproduce the issue I intentionally caused it to occur so the behaviour of the instance could be observed as it happened. Beforehand, I reconfigured the instance in question so that the system property glide.rest.debug was set to true. Taking this action causes the instance to generated verbose REST web service messages in the instance application server logs.</li><li>The application Server logs displayed something similar to the following message:</li></ul><p></p><p></p><p><span style="font-family: terminal, monaco;"><strong>2017-09-08 07:01:52 (403) API_INT-thread-4 E36EE68EDB494300635158A8DC96198A DEBUG: #28323 [REST API] RequestDeserializer : Incoming Request Body:{"name":"Test CI 1","company":"IT Corp","u_impact":"1"}</strong></span></p><p><span style="font-family: terminal, monaco;"><strong>2017-09-08 07:01:52 (444) API_INT-thread-4 E36EE68EDB494300635158A8DC96198A WARNING *** WARNING *** Get for non-existent record: core_company:IT Corp</strong></span></p><p></p><ul><li>From the above we can clearly see that the GET method is invoked and fails as the system attempt to process the PUT method. The reason behind this is the company field on the cmdb_ci table. The company field is a reference to another table within the instance database, this table being core_company. And, using the test data supplied by our development partner, the data being parsed via the PUT method failed on the invoked GET method as it did not exist in the core_company table</li><li>Finally, once I had a hypothesis of the root cause of the issue, I performed the steps to reproduce the issue again. Only this time I updated the payload received from the PUT method so that a valid company value could be located on the core_company table. Sending something similar as displayed below.</li></ul><p></p><p>PayLoad : <span style="font-family: 'courier new', courier;">{"company":"6ea700d1f5ed2d009d4406726f5d346d","name":"Test CI 1","u_impact":"1"}</span></p><p></p><p>The outcome, I was able to successfully insert a record into the cmdb_ci table with the correct value in the u_impact field.</p><p></p><p>So let us breakdown the process I followed</p><p></p><ol><li>First gather information. I required the details of how to recreate the issue. Once I had this information I could utilise the Service Now REST API explorer to send the REST request and report back the responses I received and the HTTP codes. The REST API Explorer is a useful utility for both troubleshooting and developing REST requests and is therefore a useful addition to more well known troubleshooting tools such as <a title="ww.getpostman.com/" href="https://www.getpostman.com/">Postman</a>, or <a title="ww.soapui.org/" href="https://www.soapui.org/">SOAP UI</a>. You can read more about the REST API Explorers functionalities in the links I have provided below</li><li>Service Now has numerous system properties that affect the logging level displayed in the platforms application server logs. If it is the case that you are concerned with REST web services then you should activate the <strong>glide.rest.debug</strong> property. Below I have provided a link to a list of the most useful system properties used in debugging the platform.</li><li>Analyse and interpret the messages displayed in the application server logs. For our customers, Service Now does not provide a means of direct access to the application server logs of an instance. However, Service Now has made provisions for customers to gain the ability to read the application server logs through the <em><strong>System Logs</strong></em> module. I have taken the liberty of providing a link to the platform documentation for the <em><strong>System Logs</strong></em> module below, there you will find instructions on how this product feature can be best utilised. However, for those of you that prefer to witness system log updates and changes in real time, I would suggest utilising the<em><strong> logtail</strong></em> module. This application utilised by user accounts that have been granted admin access. I have taken the liberty of creating a short film, linked below, that demonstrates the <em><strong>logtail</strong></em> module in action. Try it yourself by substituting &lt;yourInstanceName&gt; tag for the name of the instance you wish to monitor in the following URI:</li></ol><p>           <span style="text-decoration: underline;"><span style="color: #2873ee; text-decoration: underline;"> <a title="emonightlyhelsinki.service-now.com/channel.do?sysparm_channel=logtail" href="https://demonightlyhelsinki.service-now.com/channel.do?sysparm_channel=logtail">&lt;yourInstanceName&gt;.service-now.com/channel.do?sysparm_channel=logtail </a></span></span></p><p></p><p><iframe src="https://youtube.com/embed/fzA-rOxnAqw" width="440" height="330"/></p><p></p><p>REST API Explorer platform documentation</p><p><a href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/integrate/inbound-rest/concept/c_RESTAPIExplorer.html" title="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/integrate/inbound-rest/concept/c_RESTAPIExplorer.html">https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/integrate/inbound-rest/concept/c_RESTAPIExplorer.htm…</a></p><p>Web Services Table API FAQ</p><p><a title="i.service-now.com/kb_view.do?sysparm_article=KB0534905" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0534905" style="color: #278efc; background: #ffffff; font-family: SourceSansPro, 'Helvetica Neue', Arial; font-size: 13px;">KB0534905</a></p><p>REST API FAQ</p><p><a title="i.service-now.com/kb_view.do?sysparm_article=KB0535048" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0535048" style="color: #278efc; background: #ffffff; font-family: SourceSansPro, 'Helvetica Neue', Arial; font-size: 13px;">KB0535048</a></p><p>Troubleshooting Inbound Web Services</p><p><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0546297&amp;sysparm_tsqueryId=03157cd8dbed0b807fc27c541f9619e9&amp;sysparm_rank=34" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0546297&amp;sysparm_tsqueryId=03157cd8dbed0b807fc27c541f9619e9&amp;sysparm_rank=34">KB0546297</a></p><p>Debug System properties list</p><p><span class="s1"><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0547394"><span class="s2">KB0547394</span></a></span></p><p></p><p><span class="s1"><span class="s2">For SOAP debugging please check out the following excellent post:</span></span></p><p><span class="s1"><span class="s2"><a title="Debugging inbound and outbound SOAP integrations" __default_attr="6959" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Debugging inbound and outbound SOAP integrations" data-renderedposition="2106.15625_8_353_16" href="/community?id=community_blog&sys_id=08ac2225dbd0dbc01dcaf3231f9619de">Debugging inbound and outbound SOAP integrations</a> </span></span></p><p>And for a more intricate look at the techniques discussed in this article, please see the excellent blog post by <a title="josh.nerius" __default_attr="17477" __jive_macro_name="user" class="jive-link-profile-small jive_macro jive_macro_user" data-id="17477" data-objecttype="3" data-orig-content="josh.nerius" data-type="person" href="/community?id=community_user_profile&user=1b1e4ee1dbd41fc09c9ffb651f96195f">josh.nerius</a></p><p class="p1"><a title="Debugging Inbound REST Calls and the Business Rules/ACLs that Impact Them" __default_attr="7367" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Debugging Inbound REST Calls and the Business Rules/ACLs that Impact Them" data-renderedposition="2148.15625_8_521_16" href="/community?id=community_blog&sys_id=615e6aaddbd0dbc01dcaf3231f961967">Debugging Inbound REST Calls and the Business Rules/ACLs that Impact Them</a></p>