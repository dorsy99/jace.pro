---
title: "Meet Your SLA Business Requirements without using legacy SLA Fields"
date: 2017-02-04T03:06:20.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=e06e6eaddbd0dbc01dcaf3231f9619bc"
---
<p>Customers working with <a title="ocs.servicenow.com/bundle/istanbul-it-service-management/page/product/service-level-management/concept/c_GetStartedWithSLAs.html" href="https://docs.servicenow.com/bundle/istanbul-it-service-management/page/product/service-level-management/concept/c_GetStartedWithSLAs.html">Service Level Agreements</a> may encounter the <a title="ocs.servicenow.com/bundle/istanbul-it-service-management/page/product/service-level-management/concept/c_LegacySLAFields.html" href="https://docs.servicenow.com/bundle/istanbul-it-service-management/page/product/service-level-management/concept/c_LegacySLAFields.html">legacy SLA fields</a>. Then they may have more questions about these fields or want to use them.</p><p></p><p>Part of the documentation states:</p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="84.71590423583984_7.997159004211426_1134_260"><p style="margin-bottom: 10px;"><span style="color: #303030;">Previously, only a single SLA could be attached to a task via the Escalation engine. The information for the SLA was stored in the <strong>task</strong> table using the <strong>SLA Due</strong>, <strong>Made SLA</strong>, and <strong>Escalation</strong> fields.</span></p><p style="margin-bottom: 10px;"><span style="color: #303030;">The Task SLA engine now enables multiple SLAs to be attached to a single task, making the earlier task fields redundant. Their equivalents are in the <span class="uicontrol" style="font-weight: bold;">task_sla</span> table for each SLA attached to the task.</span></p><ul><li><span style="color: #303030;"><span class="uicontrol" style="font-weight: bold;">Task SLA</span>, <span class="uicontrol" style="font-weight: bold;">Breach time</span>: This is equivalent to the SLA Due field</span></li><li><span style="color: #303030;"><span class="uicontrol" style="font-weight: bold;">Task SLA</span>, <span class="uicontrol" style="font-weight: bold;">Has breached</span>: This will be true if the SLA has breached, the opposite of <span class="uicontrol" style="font-weight: bold;">Made SLA</span> field.</span></li><li><span style="color: #303030;">There is no equivalent field for <span class="uicontrol" style="font-weight: bold;">Escalation</span> field. Notifications can be sent via the SLA workflow and an increase in priority can trigger additional SLAs to be attached to the task.</span></li></ul><p><span style="color: #303030;">The fields on the <strong>Task</strong> are considered legacy and are not updated by the Task SLA engine. In case these fields are being updated, the legacy Escalation Engine may still be running. This can happen if you have upgraded from Express or a previous version.</span></p></pre><div class="article-entry"><p><span style="color: #2e2e2e;">We also provide additional information and guidance about these <a title="i.service-now.com/kb_view.do?sysparm_article=KB0598456#8" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0598456#8">legacy SLA fields</a>:</span></p></div><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="393.0823669433594_7.997159004211426_1134_65"><span style="color: #666666; font-family: arial, sans-serif;">If you see the legacy fields on Task records being updated, these updates are coming from either the Escalation engine or possibly a customization.   However, this does not impact the modern SLA engine in any way.   The legacy fields can be ignored.   Because the values may change unexpectedly, <em><strong>they are not intended for customer use.</strong></em></span></pre><p>At this point, you may be thinking "Golly! When I was doing research on the Community to try to figure out how to meet the latest demand...um...request from my users, I found a nifty solution, <strong>but it uses the legacy SLA Due field</strong>. How am I going to implement it now?"   If you search the Community for "<strong>SLA Due</strong>" you will find a number of posts with suggestions and sample code.   In the following sections I am going to explore several questions from the Community, and suggest some ways to get the desired features.</p><p></p><h1>How do I provide information at the top of my task form for the next SLA breach?</h1><p>A common recommendation in Community posts is to populate the <strong>SLA Due </strong>field with a <strong>Breach time </strong>from a <strong>Task SLA.   </strong>The <strong>SLA Due</strong> field is put at the top of the form layout so the person working on the <strong>Task</strong> can see how much time they have until their next SLA is going to breach.</p><p></p><p>This is undesirable for several reasons:</p><ol><li>Per guidance from Development, some of these legacy fields may get changed unexpectedly and you can get the wrong time.</li><li>The method for doing this is typically an after-update business rule on <strong>Task SLA</strong> which posts the desired value back into the record.<ol style="list-style-type: lower-roman;"><li>At a minimum you must turn off auditing for this update to prevent recursion.</li></ol></li><li>There can be multiple <strong>Task SLA </strong>records associated to the same <strong>Task</strong> and you have to make sure you are selecting the correct value.</li></ol><p>If you can't use the <strong>SLA Due</strong> field to display a <strong>Breach time</strong>, what are some other ways of putting that information at the top of the form?</p><p></p><h2>Option 1: Put your Task SLA information as an embedded list at the top of the form</h2><p style="text-align: left;">The default layout for an incident, with the <strong>Task SLA</strong> information as a related list at the bottom of the form, requires scrolling to get to this information.</p><p style="text-align: left;"><img   alt="task sla info.jpg" class="image-7 jive-image" height="557" src="31e7198edbd4d304b322f4621f96195b.iix" style="display: block; margin-left: auto; margin-right: auto; height: 557px; width: 1006.82px;" width="1006"/></p><p style="text-align: left;">Use <strong>Configure &gt; Form Layout</strong> to make this an <a title="ocs.servicenow.com/bundle/helsinki-servicenow-platform/page/use/using-forms/concept/c_EmbeddedLists.html" href="https://docs.servicenow.com/bundle/helsinki-servicenow-platform/page/use/using-forms/concept/c_EmbeddedLists.html">embedded list</a> at the top of the form. Be sure to add the 'begin split' element below the embedded list so it spans the top of the form! If the 'begin split' is missing, the embedded list is squeezed into the top left half of the form and messes up the rest of the layout.</p><p style="text-align: left;"><img   alt="configure incident form.jpg" class="image-8 jive-image" height="527" src="d755344adb1cdfc068c1fb651f9619ea.iix" style="display: block; margin-left: auto; margin-right: auto; height: 527px; width: 999.205px;" width="999"/></p><p style="text-align: left;">With this simple configuration change, the desired information is now at the top of the form - just like magic!</p><p><img   alt="breach indication.jpg" class="image-9 jive-image" height="550" src="9714d486db1817041dcaf3231f96196d.iix" style="display: block; margin-left: auto; margin-right: auto; height: 550px; width: 994.169px;" width="994"/></p><h3></h3><h2>Option 2: Use a before-display business rule to write the desired Task SLA information as messages at the top of the form.</h2><p>You might belong to an organization that attaches forty-five or fifty active <strong>Task SLA</strong> records to every incident (and you have my deepest sympathies).   For this case, you won't want to put a list of all <strong>Task SLA</strong> records at the top of the form because you will have to scroll to do any work. But you can put a before-display business rule in place with a simple query to fetch the information and post it as a message.   Each time the form reloads the message will be displayed at the top.</p><p></p><p>Here is a sample before-display business rule with order 200 based on the <a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=cfcca265dbd0dbc01dcaf3231f9619b6">Calc SLAs on Display business rule</a>.   Note that we only care about Active <strong>Task SLA</strong> records which are not Paused, because the <strong>Breach time</strong> doesn't have any meaning while Paused and will be recalculated when it changes to a different <strong>Stage</strong>.</p><p><img   alt="before business rule.jpg" class="image-10 jive-image" height="440" src="1234b7f5dbdc1fc068c1fb651f9619b9.iix" style="display: block; margin-left: auto; margin-right: auto; height: 440px; width: 1010.37px;" width="1010"/></p><p>Here is the resulting message from the business rule:</p><p><img   alt="Screen Shot 2017-02-01 at 6.58.59 PM.png" class="image-13 jive-image" height="553" src="18245c0adb189704ed6af3231f96192f.iix" style="display: block; margin-left: auto; margin-right: auto; height: 553px; width: 1014.38px;" width="1015"/></p><p>This method is suitable for a variety of different messages you can post, based on the query and the resulting message you wish to construct.   For instance, if the SLA is already breached you may not want a message so you can filter it out.</p><p></p><h1>How do I report on my SLAs? -- AND -- How do I get a list of my Tasks ordered by the Breach time?</h1><p><span style="font-size: 14px; font-weight: normal; line-height: 1.5;">These are the same requirement because a list view is just another report.   People make a mistake of generating inaccurate reports if they decide to rely on the legacy Escalation Engine fields. Remember, those fields only support a single SLA per task and you can have multiple <strong>Task SLA </strong>records for a task.   Do your reporting or use a list view against the <strong>Task SLA</strong> table or one of the provided <a title="ocs.servicenow.com/bundle/istanbul-performance-analytics-and-reporting/page/use/reporting/concept/c_DatabaseViews.html" href="https://docs.servicenow.com/bundle/istanbul-performance-analytics-and-reporting/page/use/reporting/concept/c_DatabaseViews.html">database views</a> joining specific <strong>Task Types</strong> with the <strong>Task SLA</strong> table.<br/></span></p><p></p><p>Here are some of the provided database views joining different tables extended off task together with the task_sla table:</p><p><img   alt="extended task table.jpg" class="image-12 jive-image" height="414" src="bacad102db9c97049c9ffb651f961920.iix" style="display: block; margin-left: auto; margin-right: auto; width: 991px; height: 413.927px;" width="991"/></p><p></p><h1>How do I get a specific Breach time into an Incident email?</h1><p>There is an issue with this requirement even if you are posting information back from the <strong>Task SLA</strong> record into the <strong>SLA Due</strong> field. The <strong>Task SLA</strong> records need to exist before the associated notification or event for the email are triggered. This means the 'Run SLAs' business rule (after-insert-update business rule on the task table, order 101) has to run first.   If you are relying on an event generated by the 'incident events' business rule (after-insert-update business rule on the incident table, order 50) it might only produce the expected mail intermittently, if at all.   Event processing is asynchronous and it has to happen after the <strong>SLA Engine</strong> has finished its work.</p><p></p><p>Once you ensure your Notification runs only after the data exists, use a <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/server-scripting/concept/c_UseJavaScriptInEmails.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/script/server-scripting/concept/c_UseJavaScriptInEmails.html">mail script</a> to query the <strong>Task SLA </strong>records and get the desired <strong>Breach time</strong> value.</p><p></p><p>Suggestion:</p><p>One easy way to ensure your Notification runs after the data exists is by creating the notification with with an after-insert-update business rule on the incident table, order 102.</p><p></p><h2>----</h2><p><span style="color: #666666; font-family: arial, sans-serif;">In conclusion, if you do a quick search of the Community for posts about <strong>SLA Due</strong>, you find a number of posts with tips or sample code to populate this legacy field. </span>ServiceNow Development discourages the posting back of information from a <strong>Task SLA</strong> record back to the associated <strong>Task</strong> record, especially if it is posted back to the legacy Escalation Engine fields.</p><p></p><p>This blog discusses several common business requirements from the Community and alternative methods for achieving them without using the legacy Escalation Engine fields.</p><p></p><p>Here are some of the community posts referenced in creating this blog:</p><ul><li><span style="color: #666666; font-family: arial, sans-serif;"><a title="" _jive_internal="true" href="/community?id=community_question&sys_id=520dc769db9cdbc01dcaf3231f96191c">How do I set the SLA Due field to be the same as the Breach Time?</a></span></li><li><span style="color: #303030;"><a title="" _jive_internal="true" href="/community?id=community_question&sys_id=bd7007e1db98dbc01dcaf3231f96191a">Incident SLA Due &gt; UNKNOWN value</a> which contains <a title="" _jive_internal="true" href="/community?id=community_question&sys_id=bd7007e1db98dbc01dcaf3231f96191a">Custom Business Rule for SLA Due Field</a></span></li><li><span style="color: #4fcddc;"><a title="" _jive_internal="true" href="/community?id=community_question&sys_id=40cef6a5db58dbc01dcaf3231f961938">SLA field value not updating when task sla changes</a><a _jive_internal="true" href="/community?id=community_question&sys_id=40cef6a5db58dbc01dcaf3231f961938"><br/></a></span></li><li><a title="" _jive_internal="true" href="/community?id=community_question&sys_id=e2710f29db98dbc01dcaf3231f9619eb">Getting SLA Due (sla_due) to update with lesser SLA date</a></li><li><a title="" _jive_internal="true" href="/community?id=community_question&sys_id=6e601b29dbdcdbc01dcaf3231f96199e">Possible to change the value captured in Incident sla_due field with multiple SLA's attached?</a></li></ul>