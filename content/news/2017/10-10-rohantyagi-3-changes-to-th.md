---
title: " changes to the SLA engine for domainseparated instances"
date: 2017-10-09T18:15:49.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=816daa29dbd0dbc01dcaf3231f9619c2"
---
<p>If you have a <a href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/administer/company-and-domain-separation/concept/c_DomainSeparation.html#c_DomainSeparation">domain-separated <span style="color: #3d3d3d;">instance</span></a><span style="color: #3d3d3d; font-family: arial, sans-serif;"> </span><span style="color: #3d3d3d;">li</span>ke managed service providers (MSP) and have <a title="ocs.servicenow.com/bundle/jakarta-customer-service-management/page/product/customer-service-management/concept/c_ServiceLevelAgreements.html" href="https://docs.servicenow.com/bundle/jakarta-customer-service-management/page/product/customer-service-management/concept/c_ServiceLevelAgreements.html">service level agreements</a> defined for individual domains, then you may have faced one or more of these issues:</p><ul><li>SLA not getting assigned<img   alt="SLA_Service_Level_Agreement-1.png" class="image-2 jive-image" height="303" src="4e90e5cedb5c13043eb27a9e0f96190f.iix" style="width: 339px; height: 302.913px; float: right;" width="339"/></li><li>Different, unexpected SLA getting assigned</li><li>Assignment changing after an update to the record</li></ul><p></p><p>There could be multiple reasons for these issues; however, we made a few changes to the SLA engine to easily define SLAs in domain-separated instances and address the above mentioned issues.</p><p></p><h2>1. SLA Definition record's "Domain" field</h2><p style="padding-left: 30px;"></p><p>The "Domain" field on the SLA Definition form now determines the domain where SLA should apply. While this field was available even in the previous releases, it had a limited scope beyond which its value wasn't considered, leading to inconsistent behavior at times. I do not want to get into more technical details here; however, the gist is that you can now completely rely on this field to designate the domain where a particular SLA should apply.</p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;">Available in:</p><ul><li>Helsinki Patch11 and later</li><li>Istanbul Patch 7 and later</li><li>Jakarta</li></ul><p style="text-align: center;"><img   alt="domain field_SLA definition.png" class="image-3 jive-image" height="188" src="1918f8c2dbd097041dcaf3231f961958.iix" style="height: 188px; width: 723.975px;" width="723"/></p><p></p><p>If this field is not available on your SLA definition form, then please configure the form layout this way:</p><p style="text-align: center;"></p><ol><li style="text-align: left;">Click <span style="text-align: center;">on the context menu icon on the top left side of SLA definition page, then go to </span><span style="text-align: center;"><strong>Configure &gt; Form Layout</strong></span><br/><img   alt="SLA definition_configure.png" class="image-7 jive-image" height="266" src="3ad6d802db589fc068c1fb651f96191b.iix" style="width: 223px; height: 265.802px; float: none; display: block; margin-left: auto; margin-right: auto;" width="223"/></li><li style="text-align: left;">Find the <strong>Domain</strong><em> </em>field from the available list on the left slushbucket and move it to the selected list of fields on the right:</li></ol><p style="text-align: center;"><img   alt="SLA definition_domain field.png" class="image-8 jive-image" src="70e57bb1db1cdf04e9737a9e0f9619d7.iix" style="width: 620px; height: 297px;"/></p><p style="text-align: left;"></p><p>**For releases prior to the ones mentioned above, the <strong>Domain</strong> field can still be added to the SLA definition form. However, it may exhibit inconsistent behavior as explained before.<span style="color: #3d3d3d;"> The recommended workaround is to create</span> the SLA in a global domain, but add a condition field <strong>Domain</strong> in Start conditions to determine where it should apply, like the image below:</p><p></p><p style="text-align: center;"><img   alt="SLA domain field_global domain.png" class="image-9 jive-image" height="229" src="6f489542db18d304b322f4621f961958.iix" style="width: 661px; height: 229.218px;" width="661"/></p><p></p><h2>2. Domain of the task</h2><p></p><p>Now the SLA engine always uses the domain set on the T<span style="color: #3d3d3d;">ask. Previously it</span> was observed in some cases (not always) that the domain of the session was used for SLA processing, which led to the removal of SLAs and reassignment based on who updated the record rather than the Caller's domain.<span style="font-family: arial, sans-serif;"> Currently there is no workaround available, so your only option is to upgrade to one of the versions listed above.</span></p><p></p><h2>3. New proven practices plugin</h2><p>In the Jakarta release, we introduced a new plugin called the SLA Best Practice - Jakarta: <strong>com.snc.best_practice.sla.jakarta</strong>. For new customers starting with Jakarta as the very first instance version, it will be active by default. For customers upgrading from a previous release to Jakarta, it is inactive by default, but you can <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/plugins/task/t_RequestAPlugin.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/plugins/task/t_RequestAPlugin.html">request the plugin through HI</a> by navigating to <span style="font-style: inherit; font-family: inherit;"><strong>Service Catalog &gt; Activate Plugin</strong>. Just keep in mind that it may break any customizations you may have made. This plugin provides alignment with ITIL best practices, makes changes to the existing SLA notification and escalation workflow, and adds a new field to SLA definition form called <strong>Service Level Target</strong> which enables filtering, searching and reporting on service level target types. You can learn more about it in the <a title="ocs.servicenow.com/bundle/jakarta-release-notes/page/release-notes/it-service-management/service-level-agreement-rn.html" href="https://docs.servicenow.com/bundle/jakarta-release-notes/page/release-notes/it-service-management/service-level-agreement-rn.html">SLA release notes</a>.</span></p><p></p><p>Domain field on the form will help create clear SLA definitions and ease the admin life. Also keep in mind that if you use the SLA Best Practice plugin, your existing customizations may break. So make sure you perform enough testing before using it in Production.</p><p></p><p><span style="font-size: 8pt; color: #909090;"><a href="https://www.opservices.com.br/wp-content/uploads/2017/06/SLA_Service_Level_Agreement-1.png"><span style="color: #909090;">Image credits</span></a></span></p>