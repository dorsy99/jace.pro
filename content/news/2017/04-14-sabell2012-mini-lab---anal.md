---
title: "MiniLab  Analysis Example Chasing Down Hidden Data  Part "
date: 2017-04-14T01:10:58.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=67ada6a9dbd0dbc01dcaf3231f961934"
---
<p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-size: 10.5pt; font-family: inherit; font-style: inherit; background-position: initial;"><strong>NOTE</strong></span><span style="font-weight: inherit; font-style: inherit; font-size: 10.5pt; font-family: Arial, sans-serif; background-position: initial;">: MY POSTINGS REFLECT MY OWN VIEWS AND DO NOT NECESSARILY REPRESENT THE VIEWS OF MY EMPLOYER, ACCENTURE.</span></p><p></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 11pt; font-family: Arial, sans-serif; background-position: initial;">DIFFICULTY LEVEL:   </span><span style="color: #7f6000; font-weight: inherit; font-size: 14.6667px; font-family: inherit; font-style: inherit; background-position: initial;"><strong>INTERMEDIATE</strong></span></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 11pt; font-family: Arial, sans-serif; background-position: initial;">Assumes basic knowledge and/or familiarity of the Studio IDE, and Scripting in ServiceNow.</span></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-size: 10.5pt; font-family: Arial, sans-serif; font-style: inherit; background-position: initial;">____________________________________________________________________________</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Picking up where I left off in my previous article (</span><a _jive_internal="true" href="/community?id=community_blog&sys_id=9f0d6ea5dbd0dbc01dcaf3231f961908"><span style="font-size: 11.5pt; font-family: Arial, sans-serif; color: #266fc8; background: white;">Mini-Lab - Analysis Example: Chasing Down Hidden Data - Part 1</span></a><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">); we have finished our analysis, and located the patch information.   Now we will make use of it.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Tasks:</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">1. Create a Fix Script to do a proof-of-concept (POC) to retrieve the patch information and store it in a variable for further use.</span></p><p style="padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">2. Create a UI Action on the Incident Form that will place the patch information into the work notes field.   This will be how we will demonstrate a practical use.</span></p><p style="padding-left: 30px;"></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">So, let's get moving with development!</span></p><p></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 14pt; font-family: Arial, sans-serif;"><strong>Development</strong></span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">Remember the code snippet we found in the previous lab?</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14921130965392267 jive_text_macro" data-renderedposition="474.36077880859375_7.997159004211426_1176_232" jivemacro_uid="_14921130965392267"><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">var g_xmlDoc = null;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">var g_url = "";</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">var g_baseRecord = new GlideRecord('sys_cluster_state');</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">if (g_baseRecord.get('$[sys_id]')) {</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">       g_xmlDoc = new XMLDocument(g_baseRecord.stats + '');</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';"><span>       g_http_url = '</span><a title="" _jive_internal="true" href="http://" rel="nofollow" target="_blank">http://</a><span>' + g_xmlDoc.getNodeText('//servlet.hostname') + ':' + g_xmlDoc.getNodeText('//servlet.port');</span></span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">       var ngr = new GlideRecord('sys_trigger');</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">       ngr.addQuery('system_id', g_baseRecord.system_id);</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">       ngr.query();</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">       g_jobs_assigned = ngr.getRowCount();</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">}</span></p><p style="margin-bottom: .0001pt;"></p></pre><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">It appears from this code that the information we want is in the <strong>sys_cluster_state</strong> table, and is found in the <strong>stats</strong> field.   Further since the XMLDocument object is used to pull the data from the field we can infer that the data there is XML.   This STILL does not give us our patch info, but we are one step closer! </span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">1. In the nav filter type: <strong>sys_cluster_state.list</strong>.   This will again display the list of cluster nodes.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">2. Click on the <strong>Gear</strong> icon on the list view header bar.   The list of available fields will be displayed.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">3. Click the <strong>stats</strong> field, and move it over into the displayed fields.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">4. Click <strong>OK</strong>.   The list view should now show the stats field.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">5. Double click on the <strong>stats</strong> field in the list view to edit the field.   Copy the data there and past it into your favorite editor (I use notepad++).</span></p><p></p><p><img   class="image-15 jive-image" src="85dcd486dbdc17041dcaf3231f9619bf.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">6. Remember that in the stats.do page the name of the field was "Build tag".   This will probably be where it is in the XML.   A quick look at the XML in our editor shows that spaces are replaced with periods. So, I infer that it will probably something like: <strong>build.tag</strong>.</span></p><p></p><p><img  class="image-16 jive-image" src="7134a182db105b04ed6af3231f961966.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">7. In your editor search for the word <strong>build.tag</strong>.   You will find it close to the end of the file, AND it will appear to have the patch info!</span></p><p></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><img   class="image-13 jive-image" src="64a661cedb105b04ed6af3231f96196a.iix" style="max-width: 1200px; max-height: 900px;"/></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">Note the name of the XML field the "patch" data is contained in. It should be: <strong>&lt;glide.build.tag&gt;.</strong> This is the field we will retrieve our version and patch information from.   We also see that the build date is right before it and is contained in: <strong>&lt;glide.build.date&gt;</strong>.   We can grab that as well!</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">8. Now let's create an application to contain our new features in.   Navigate to System Applications &gt; Studio. The Studio Application List form will be displayed.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">9. Click on the Create Application button. The Create Application form will be displayed.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">10. Click on the Start from Scratch Create button. The Create Application naming form will be displayed.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">11. Fill out the form with the following:</span></p><p></p><ul style="list-style-type: disc;"><li><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Name</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: System Functions</span></li><li><span style="font-size: 12pt; font-family: Arial, sans-serif;">The Scope field will auto-fill</span></li></ul><p></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><img   class="jive-image image-14" src="c56341c6db5897041dcaf3231f9619b3.iix" style="max-width: 1200px; max-height: 900px;"/></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">12. Click on the Create button.   The Confirm Application form will be displayed.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">13. Click on the Ok button to save the new scoped application.   The Application Creation confirmation form will be displayed.   Click on the Back to List button.   The Load Application form will be displayed.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">14. Open the System Functions application. The Studio will be displayed.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">15. Click on the Create Application File button. The Create Application File form will be displayed.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">16. In the Filter field type Fix Script.   The Filter Results will show Fix Script and it will be high-lighted.   </span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">17. Click on the Create button.   The New Fix Script form will be displayed.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">18. Fill out the form with the following:</span></p><p></p><ul style="list-style-type: disc;"><li><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Name</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: Retrieve Patch Info (POC)</span></li><li><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Description</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: Retrieve the patch information from the Cluster State table.</span></li><li><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Script</strong></span></li></ul><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14921132133114403 jive_text_macro" data-renderedposition="3539.957275390625_7.997159004211426_1176_278" jivemacro_uid="_14921132133114403"><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">var statsXML;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">var clusterState = new GlideRecord('sys_cluster_state');</span></p><p><span style="font-size: 12pt; font-family: 'Courier New';">clusterState.orderByDesc('sys_created');</span></p><p><span style="font-size: 12pt; font-family: 'Courier New';">clusterState.setLimit(1); // grab only the top most recent record</span></p><p><span style="font-size: 12pt; font-family: 'Courier New';">clusterState.query();</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">if (clusterState.next()) {</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         // XMLDocument2 is scope safe</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         statsXML = new XMLDocument2();</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         // parse the stats field (it is XML)</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         statsXML.parseXML(clusterState.getValue('stats'));</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         // Retrieve the version build and patch</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         versionAndPatch = statsXML.getNodeText('//glide.build.tag') + '';</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         // Retrieve the version build date</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         buildDate = statsXML.getNodeText('//glide.build.date') + '';</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         gs.info('---&gt; \nVersion and Patch: {0}\ndate: {1}', versionAndPatch, buildDate);</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: 'Courier New';">}</span></p><p style="margin-bottom: .0001pt;"></p></pre><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">19. Click on the Submit button to save your work.</span></p><p></p><p><img   class="image-12 jive-image" src="e630480edb985704ed6af3231f961964.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">20. Click on the Run Fix Script related link to run the Script.   The Run Fix Script form will be displayed.   </span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">This is pretty cool, as it is the only testing/running that can be done within the Studio!   </span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">21. Click on the Ok button, and then the Proceed button to run the Script.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">22. Your results should look something like this:</span></p><p><img   class="image-6 jive-image" src="ae5388cadbd8d3041dcaf3231f9619ec.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">23. Click on the Close button to close the Run Fix Script window.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">24. You may now close out (or save) your notepad session.</span></p><p></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">Okay, there we have it!   We are able to now retrieve the Version, build, patch, and patch date.   Now let's see about creating the UI Action to add it to the Incident Work Notes field.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">25. In the Studio click on the Create Application File button.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">26. Type UI Action in the Filter field.   The UI Action should appear in the Filter Results.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">27. Click on the Create button.   The New UI Action form will be displayed.   </span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">We will be using the script we just developed in the Fix Script.   We will be adding a couple of lines.   One to set the Work Notes value, and the other to update the current record with the information.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">28. Fill in the form with the following:</span></p><p></p><ul style="list-style-type: disc;"><li><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Name</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: Add Patch Info</span></li><li><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Table</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: Incident</span></li><li><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Form button</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: checked</span></li><li><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Active</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: checked</span></li><li><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Show update</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: checked</span></li><li><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Comments</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: Add latest instance version, build, and patch info to the Work Notes field.</span></li><li><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Script</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">:</span></li></ul><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14921134234705748" data-renderedposition="5470.11328125_7.997159004211426_1176_367" jivemacro_uid="_14921134234705748"><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">var statsXML;</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">var clusterState = new GlideRecord('sys_cluster_state');</span></p><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12pt; font-family: 'Courier New';">clusterState.orderByDesc('sys_created');</span></li><li><span style="font-size: 12pt; font-family: 'Courier New';">clusterState.setLimit(1); // grab only the top most recent record</span></li><li><span style="font-size: 12pt; font-family: 'Courier New';">clusterState.query();</span></li></ol><p></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">if (clusterState.next()) {</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         // XMLDocument2 is scope safe</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         statsXML = new XMLDocument2();</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         // parse the stats field (it is XML)</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         statsXML.parseXML(clusterState.getValue('stats'));</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         // Retrieve the version build and patch</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         versionAndPatch = statsXML.getNodeText('//glide.build.tag') + '';</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         // Retrieve the version build date</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         buildDate = statsXML.getNodeText('//glide.build.date') + '';</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         current.work_notes = 'Version and Patch: ' + versionAndPatch </span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">                   + '\ndate: ' +   buildDate;</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">         current.update();</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: 'Courier New';">}</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"></p></pre><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">29. Click on the Submit button to save your work.</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><img   class="image-11 jive-image" src="331fd4cadb985344e9737a9e0f961975.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>TESTING</strong></span></p><p></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">Now that we have finished our new utility up, let's go test it!</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">1. Navigate to Incident &gt; Open, and open your favorite incident from the list view.   You should now see the new Add Patch Info button at the top of the form.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">2. Click on the Add Patch Info button.   Two messages will appear at the top of the form informing you that Execute and Write operations have been given cross scope privileges for your application.   This is normal, and automatically added to your System Functions application.   This is in case you ever decide to publish it; the application will have the correct privileges.</span></p><p></p><p><img   class="jive-image image-10" src="d8f0c9c2db1897041dcaf3231f961930.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">3. Scroll down to the Work Notes field and note that the Version, Build and Patch information along with the Patch Date were added to the work notes.   Cool beans!</span></p><p></p><p><img   class="image-9 jive-image" src="8d3425c6db50d7049c9ffb651f961999.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">4. You may want to now inactivate that button.   <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="7891.22119140625_342.7130432128906_16_16" src="/8.0.4.21bdc7e/images/emoticons/happy.png"></span></span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">5. You may now also want to close your Studio.</span></p><p></p><p></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>ANALYSIS</strong></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">Since there is only one record we really don't have to use "setLimit" or "while".   The setLimit is shown here as an example of how to limit the record set to the first record found.   You will notice that there is an "if" instead of a "while" as we are only dealing with one record.   This gives two techniques to work with only the first record found.   </span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">We parse the XML field "stats" into an XMLDocument2 object (which is Scope safe) in order to be able to more easily retrieve the information we want. Notice how easy it is to now reference the version, patch and date information rather than searching one long XML string and parsing it ourselves?</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">Use gs.info instead of gs.log as it is also Scope safe.   </span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">There you go!   As you can see things can get somewhat convoluted, but this is a good example of "chasing-the-chain" down to the desired data.</span></p><p></p><p style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: arial, helvetica, sans-serif;">Steven Bell</span></p><p></p><p style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: arial, helvetica, sans-serif;"><a _jive_internal="true" href="/servlet/JiveServlet/downloadImage/38-6574-262081/Combined Logo Graphic_Operations.png" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><img  __jive_id="267940" alt="Combined Logo Graphic_Operations.png" class="jive-image" height="92" src="c484240edb505f048c8ef4621f9619d6.iix" style="margin: 10px 10px 10px 0; border-width: 0px; font-weight: inherit; font-style: inherit; font-family: inherit;" width="340"/></a></span></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><a _jive_internal="true" data-containerid="-1" data-containertype="-1" data-objectid="261212" data-objecttype="111" href="/servlet/JiveServlet/downloadImage/38-6432-261212/Combined Logo Graphic_Operations.png" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><span style="font-weight: bold; font-style: inherit; font-family: Arial; color: #666666;">For a list of all of my articles:   </span></a><a _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/23/community-code-snippets-articles-list-to-date" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><span style="font-weight: bold; font-style: inherit; font-family: Arial;">Community Code Snippets: Articles List to Date</span></a><a _jive_internal="true" data-containerid="-1" data-containertype="-1" data-objectid="261212" data-objecttype="111" href="/servlet/JiveServlet/downloadImage/38-6432-261212/Combined Logo Graphic_Operations.png" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><br/></a></p><p dir="ltr"></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 14.6667px; font-family: Arial; color: #eb7a3d;">Please Share, Like, Bookmark, Mark Helpful, or Comment this blog if you've found it helpful or insightful.</span></p><p dir="ltr"></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 14.6667px; font-family: Arial; color: #eb7a3d;">Also, if you are not already, I would like to encourage you to become a member of our blog!</span></p>