---
title: "Utilizing variable information in notifications"
date: 2017-02-04T00:20:22.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=53bd2ea9dbd0dbc01dcaf3231f96198d"
---
<p>It is common for administrators to want to add variable information from a record producer or catalog item into the generated email notification. Conducting this is as simple as being familiar with the syntax and common methods required.</p><p></p><h1>How to add variable data to a notification on the given record (incident, requested item)</h1><p><span style="line-height: 1.5;">You can simply use the syntax <strong>${variables.VARIABLE_NAME}</strong> to add the data into a notification.</span></p><p></p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="157.53472900390625_7.986111640930176_1191_62"><p>Note: <strong>VARIABLE_NAME</strong> is the name of the variable, not the short description or display value. You can see the name of a variable by pressing the cog field in the variables related list and adding the Name column.</p></pre><p></p><h2><span style="font-size: 14px; font-weight: normal; line-height: 1.5;">There is one common exception to this syntax: when you send a notification for an approval record (sysapproval_approver table), the actual record being approved is stored in a task reference in the</span><span style="font-size: 14px; line-height: 1.5;"><strong> sysapproval</strong></span><span style="font-size: 14px; font-weight: normal; line-height: 1.5;"> field. So, to access the variable data you can use </span><span style="font-size: 14px; line-height: 1.5;"><strong>${sysapproval.variables.VARIABLE_NAME}</strong></span><span style="font-size: 14px; font-weight: normal; line-height: 1.5;">.</span></h2><p></p><h3>Let's take a look at an example using the Development Laptop Catalog Item.</h3><ol><li>Observe that there is a Variable with the Name <strong>hard_drive</strong>.<br/><img   alt="variable data notification example.png" class="image-4 jive-image" src="ee40c40edb985704ed6af3231f9619df.iix" style="width: 620px; height: 315px; display: block; margin-left: auto; margin-right: auto;"/></li><li>We can see that there is a requested item record, where a 250GB hard drive was selected.<br/><img   alt="variable data notification requested item.png" class="image-5 jive-image" src="bdc02bf5db5093041dcaf3231f96191f.iix" style="width: 620px; height: 325px; display: block; margin-left: auto; margin-right: auto;"/></li><li>We can see from the requested item approval notification that the value is accessible using the syntax mentioned.<br/><img   alt="variable+data+notification+preview.png" class="image-8 jive-image" src="dbcb6482dbd45f048c8ef4621f9619c1.iix" style="width: 620px; height: 260px; display: block; margin-left: auto; margin-right: auto;"/></li></ol><p><img   alt="message HTML for approval.png" class="image-7 jive-image" src="224b41cadbd0d344e9737a9e0f9619b0.iix" style="display: block; margin-left: auto; margin-right: auto;"/></p><p></p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="1581.84033203125_7.986111640930176_1191_62"><p>Request notifications and approvals running on requests will require scripting to access requested item variable data. I recommend using <strong>${mail_script:requested_items_summary_with_options}</strong> on the request, or as a baseline example of a mail script that pulls variable data from child items.</p></pre><p><span style="color: #3d3d3d;"><span>Note that <a title="ocs.servicenow.com/bundle/helsinki-servicenow-platform/page/script/server-scripting/reference/r_ExScptEmlNtfn.html" href="https://docs.servicenow.com/bundle/helsinki-servicenow-platform/page/script/server-scripting/reference/r_ExScptEmlNtfn.html">Mail scripts</a> are the best approach when you want to make dynamic emails, e.g. one standard email template that is used for all requested items.</span></span></p><pre class="prettyprint prettyprinted" style="padding: 2px; margin-bottom: 10px; font-family: monospace, serif; font-size: 16px; color: #333333; background-color: #f5f5f5;"><span class="kwd" style="color: #000088;">template</span><span class="pun" style="color: #666600;">.</span><span class="kwd" style="color: #000088;">print</span><span class="pun" style="color: #666600;">(</span><span class="str" style="color: #008800;">"Summary of Requested items:"</span><span class="pun" style="color: #666600;">);</span><span class="pln" style="color: #000000;"> <br/></span><span class="kwd" style="color: #000088;">var</span><span class="pln" style="color: #000000;"> gr </span><span class="pun" style="color: #666600;">=</span><span class="kwd" style="color: #000088;">new</span><span class="pln" style="color: #000000;"> </span><span class="typ" style="color: #660066;">GlideRecord</span><span class="pun" style="color: #666600;">(</span><span class="str" style="color: #008800;">"sc_req_item"</span><span class="pun" style="color: #666600;">);</span><span class="pln" style="color: #000000;"> <br/>gr</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">addQuery</span><span class="pun" style="color: #666600;">(</span><span class="str" style="color: #008800;">"request"</span><span class="pun" style="color: #666600;">,</span><span class="pln" style="color: #000000;"> current</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">sysapproval</span><span class="pun" style="color: #666600;">);</span><span class="pln" style="color: #000000;"> <br/>gr</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">query</span><span class="pun" style="color: #666600;">();</span><span class="pln" style="color: #000000;"> <br/></span><span class="kwd" style="color: #000088;">         while</span><span class="pun" style="color: #666600;">(</span><span class="pln" style="color: #000000;">gr</span><span class="pun" style="color: #666600;">.</span><span class="kwd" style="color: #000088;">next</span><span class="pun" style="color: #666600;">()){</span><span class="pln" style="color: #000000;"> <br/></span><span class="kwd" style="color: #000088;">                   var</span><span class="pln" style="color: #000000;"> nicePrice </span><span class="pun" style="color: #666600;">=</span><span class="pln" style="color: #000000;"> gr</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">price</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">toString</span><span class="pun" style="color: #666600;">();<br/></span><span class="pln" style="color: #000000;"></span><span class="kwd" style="color: #000088;">                   if</span><span class="pun" style="color: #666600;">(</span><span class="pln" style="color: #000000;">nicePrice </span><span class="pun" style="color: #666600;">!=){</span><span class="pln" style="color: #000000;"> <br/>                             nicePrice </span><span class="pun" style="color: #666600;">=</span><span class="pln" style="color: #000000;"> parseFloat</span><span class="pun" style="color: #666600;">(</span><span class="pln" style="color: #000000;">nicePrice</span><span class="pun" style="color: #666600;">);</span><span class="pln" style="color: #000000;"> <br/>                             nicePrice </span><span class="pun" style="color: #666600;">=</span><span class="pln" style="color: #000000;"> nicePrice</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">toFixed</span><span class="pun" style="color: #666600;">(</span><span class="lit" style="color: #006666;">2</span><span class="pun" style="color: #666600;">);}</span><span class="pln" style="color: #000000;"> <br/></span><span class="kwd" style="color: #000088;">                   template</span><span class="pun" style="color: #666600;">.</span><span class="kwd" style="color: #000088;">print</span><span class="pun" style="color: #666600;">(</span><span class="pln" style="color: #000000;">gr</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">number</span><span class="pun" style="color: #666600;">+</span><span class="str" style="color: #008800;">":   "</span><span class="pun" style="color: #666600;">+</span><span class="pln" style="color: #000000;"> gr</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">quantity</span><span class="pun" style="color: #666600;">+</span><span class="str" style="color: #008800;">" X "</span><span class="pun" style="color: #666600;">+</span><span class="pln" style="color: #000000;"> gr</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">cat_item</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">getDisplayValue</span><span class="pun" style="color: #666600;">()+</span><span class="str" style="color: #008800;">" at $"</span><span class="pun" style="color: #666600;">+</span><span class="pln" style="color: #000000;"> nicePrice </span><span class="pun" style="color: #666600;">+</span><span class="str" style="color: #008800;">" each"</span><span class="pun" style="color: #666600;">);</span><span class="pln" style="color: #000000;"> <br/></span><span class="kwd" style="color: #000088;">                   template</span><span class="pun" style="color: #666600;">.</span><span class="kwd" style="color: #000088;">print</span><span class="pun" style="color: #666600;">(</span><span class="str" style="color: #008800;">"       Options:"</span><span class="pun" style="color: #666600;">);</span><span class="pln" style="color: #000000;"> <br/></span><span class="kwd" style="color: #000088;">                   for</span><span class="pun" style="color: #666600;">(</span><span class="pln" style="color: #000000;">key </span><span class="kwd" style="color: #000088;">in</span><span class="pln" style="color: #000000;"> gr</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">variables</span><span class="pun" style="color: #666600;">){</span><span class="kwd" style="color: #000088;">var</span><span class="pln" style="color: #000000;"> v </span><span class="pun" style="color: #666600;">=</span><span class="pln" style="color: #000000;"> gr</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">variables</span><span class="pun" style="color: #666600;">[</span><span class="pln" style="color: #000000;">key</span><span class="pun" style="color: #666600;">];</span><span class="pln" style="color: #000000;"> <br/></span><span class="kwd" style="color: #000088;">                             if</span><span class="pun" style="color: #666600;">(</span><span class="pln" style="color: #000000;">v</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">getGlideObject</span><span class="pun" style="color: #666600;">().</span><span class="pln" style="color: #000000;">getQuestion</span><span class="pun" style="color: #666600;">().</span><span class="pln" style="color: #000000;">getLabel</span><span class="pun" style="color: #666600;">()!=</span><span class="str" style="color: #008800;">''</span><span class="pun" style="color: #666600;">){</span><span class="pln" style="color: #000000;"> <br/></span><span class="kwd" style="color: #000088;">                                       template</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">space</span><span class="pun" style="color: #666600;">(</span><span class="lit" style="color: #006666;">4</span><span class="pun" style="color: #666600;">);</span><span class="pln" style="color: #000000;"> <br/></span><span class="kwd" style="color: #000088;">                                       template</span><span class="pun" style="color: #666600;">.</span><span class="kwd" style="color: #000088;">print</span><span class="pun" style="color: #666600;">(</span><span class="str" style="color: #008800;">'         '</span><span class="pun" style="color: #666600;">+</span><span class="pln" style="color: #000000;">   v</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">getGlideObject</span><span class="pun" style="color: #666600;">().</span><span class="pln" style="color: #000000;">getQuestion</span><span class="pun" style="color: #666600;">().</span><span class="pln" style="color: #000000;">getLabel</span><span class="pun" style="color: #666600;">()+</span><span class="str" style="color: #008800;">" = "</span><span class="pun" style="color: #666600;">+</span><span class="pln" style="color: #000000;"> v</span><span class="pun" style="color: #666600;">.</span><span class="pln" style="color: #000000;">getDisplayValue</span><span class="pun" style="color: #666600;">());}}}</span></pre><p></p><p><span style="color: #e23d39;"><span style="color: #3d3d3d;">But when dealing with specialized notifications for items, the syntax above allows you to explicitly call the values you need</span>.</span></p><p></p><p><span style="color: #3d3d3d;">Visit the docs for more information on <a title="ocs.servicenow.com/bundle/helsinki-it-service-management/page/product/service-catalog-management/reference/r_VariableTypes.html" href="https://docs.servicenow.com/bundle/helsinki-it-service-management/page/product/service-catalog-management/reference/r_VariableTypes.html">service catalog variables</a>.</span></p>