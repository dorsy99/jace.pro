---
title: "Enhance your custom applications with Zing text search"
date: 2017-06-29T20:17:12.000Z
authors: ["Tom Cullen"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=d62da6e5dbd0dbc01dcaf3231f96190e"
---
<p>How many times a day do you "google"? It's where we go for information.   I'm not exactly sure how many times I use the search engine, but if you're interested in what everyone else is doing .. check out this link (<a title="w.internetlivestats.com/google-search-statistics/" href="http://www.internetlivestats.com/google-search-statistics/">http://www.internetlivestats.com/google-search-statistics/</a>).   Pretty wild.</p><p></p><p>I thought about this the other day when I needed to search for some text in a custom application I was building.   I   considered using a list search with a   "contains" clause, but in this case I needed data from two different tables (Site and Event).   I ended up writing a GlideRecord query to get the data I needed.   Then I realized the users of this application would not have access to write these native queries, and even if they did ... what kind of a user experience is that.</p><p></p><p>I've been meaning to dig into Zing Text Search but didn't have a real need to until now.   The rest of this blog contains the steps I took to add value for this particular application.</p><p>NOTE:   The information I mention is a subset of the full power of the Zing Text Search.   For more information here is the documentation reference (<a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/search-administration/concept/c_ZingTextSearch.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/search-administration/concept/c_ZingTextSearch.html">https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/search-administration/concept/c_ZingTextSearch.html</a>).</p><p></p><h2>The Application</h2><p>I'm part of a team working on a city guide application.   You   know, the application you'd use if you went to a new city that helps you find local sites and events.   Turns out there's more to building this type of application than just a slick mobile interface although we do have this as well (done via portal by the way).   Behind the scenes, there is a site and event discovery engine.   As this application discovers activities it creates corresponding records in the guide application.   A workflow kicks off and scans the content for application compliance and auto-approves the site/event or routes it to the site administrator for a manual approval.   There is also a customer service group that monitors and maintains the quality and integrity of this information.   We are focused on making it easy for these groups to quickly get the information they need.</p><p></p><h2>The Issue</h2><p>The bulk of information for this application is stored in text fields.   Site and event names are important, but site and event description fields are where the information lives. A list lookup using a "name contains" or a "description contains" filter will not cut it.</p><p><img   alt="Screen Shot 2017-06-29 at 8.02.49 AM.png" class="image-1 jive-image" src="47e92442dbd09304b322f4621f961919.iix" style="width: 620px; height: 258px;"/><img   alt="Screen Shot 2017-06-29 at 8.02.14 AM.png" class="image-2 jive-image" src="2657484edb981304b322f4621f9619b8.iix" style="width: 620px; height: 222px;"/></p><p>Writing a GlideRecord query is not an option either.   Note even though these two queries returned the same records, they are in a different order. An "order by" or sort won't help either because we need to somehow understand what's in the name and description fields. How can we be more like google?   How can the application respond with relevant information in a logical order?</p><p></p><h2>The Solution</h2><p>Apply Zing text search to our tables of course! Here's how to do it:</p><ol><li>Enable text indexing for a table<ol><li>Navigate to System Definition &gt; Dictionary</li><li>Open the Table   (column name is empty)</li><li>Select the Text Index checkbox</li><li>UPDATE</li><li>Click Generate Text Index (related list)</li></ol></li><li><strong>Set the relative weight of a field   <span __jive_emoticon_name="check" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="1310.800048828125_256.01251220703125_16_16" src="/8.0.4.21bdc7e/images/emoticons/check.png"></span></strong><ol><li>Open the System Dictionary entry for the field</li><li>In the Attributes section enter "ts_weight=&lt;weight&gt;"   where the value is the relative weight of the field.<ol><li>Zing awards a record more points if the field in which it appears is weighted.   Zing applies a multiplier to frequency points based on the value of the   ts_weight attribute for the field.</li><li>By default, each field has a weight of 1. A field with a weight of 50 (ts_weight=50) would add 50 points each time a search term appeared in the field.   The maximum possible weight value is 255.   For more information see Document Scoring: <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/search-administration/concept/c_DocumentScoring.html#c_DocumentScoring" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/search-administration/concept/c_DocumentScoring.html#c_DocumentScoring">https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/search-administration/concept/c_DocumentScoring.html#c_DocumentScoring</a></li><li><img   alt="Screen Shot 2017-06-29 at 8.15.12 AM.png" class="image-6 jive-image" src="0b7c0546dbd0d304b322f4621f9619f2.iix" style="width: 620px; height: 310px;"/></li></ol></li></ol></li><li>Add a search group<ol><li>Navigate to System Definition &gt; Search Groups</li><li>Click NEW</li><li>Complete the form<ol><li>Name</li><li>Roles (optional) ... this is what I used to allow only the "guide admin" role</li><li>User group (optional)</li><li>Active</li><li>Order</li></ol></li><li>Right click the form header and select SAVE</li><li>In the Text Search Tables related list click NEW</li><li>Complete the form</li><li>click SUBMIT</li><li>Add any other text search tables to the include in the search group<ol><li>In my example I looped back to step 5 and added the Site table</li><li><img   alt="Screen Shot 2017-06-29 at 10.52.37 AM.png" class="image-5 jive-image" src="2512a7b5db985b048c8ef4621f9619c5.iix" style="width: 620px; height: 500px;"/></li></ol></li></ol></li><li>** VERY IMPORTANT ** Register your scoped role(s) with Global Text Search <span __jive_emoticon_name="check" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="2721.199951171875_517.9125366210938_16_16" src="/8.0.4.21bdc7e/images/emoticons/check.png"></span><ol><li>Navigate to System Properties &gt; Global Text Search</li><li>Find the property: "List of roles(comma-separated) that can use the Global Text Search capability"</li><li>Add your scoped role(s) to this list</li></ol></li></ol><p><img   alt="Screen Shot 2017-06-29 at 10.39.50 AM.png" class="image-3 jive-image" src="c7432b3ddb141fc03eb27a9e0f961919.iix" style="width: 620px; height: 277px;"/></p><p></p><h2>The Result</h2><p>When calls come in or research has to be done, the guide administrators can use ServiceNow global search to retrieve all relevant records quickly and in order.   If necessary the weights of any field can be adjusted to return expected results.</p><p><img   alt="Screen Shot 2017-06-29 at 8.03.40 AM.png" class="image-4 jive-image" src="ffe9a80edb545f048c8ef4621f96192b.iix" style="width: 620px; height: 195px;"/></p><p></p><p>Pretty straight forward.   Every custom application may not need to use Zing Text Search, but it's nice to know you've got it when it counts!</p>