---
title: "Web Service Service Now Consultando um incidente utilizando C"
date: 2017-10-17T18:30:31.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=3a5da629dbd0dbc01dcaf3231f9619d8"
---
<p>.</p><p></p><pre __default_attr="c#" __jive_macro_name="code" class="_jivemacro_uid_15082469369206512 jive_macro_code jive_text_macro" data-renderedposition="49.815338134765625_7.997159004211426_1078_989" jivemacro_uid="_15082469369206512"><p>//msdn.microsoft.com/en-us/library/7314433t(v=vs.90).aspx</p><p>//Classes incluí­das // Project ... Add References</p><p></p><p></p><p>using System.Net;</p><p>using System.Net.Http;</p><p></p><p></p><p>using Newtonsoft.Json.Linq;</p><p></p><p> private void ServiceNow()               {</p><p>                       this.rtbOutput.Text = " Iniciando...";</p><p>                       HttpWebRequest request = (HttpWebRequest)WebRequest.Create(txtURL.Text);</p><p>                       request.Method = "Get";</p><p>                       request.KeepAlive = true;</p><p>                       request.Proxy.Credentials = System.Net.CredentialCache.DefaultCredentials;</p><p>                       request.UseDefaultCredentials = true;</p><p>                       request.Credentials = new NetworkCredential(txtUser.Text, txtPassword.Text, "");</p><p>                       request.ContentType = "application/json";</p><p>                       //request.ContentType = "application/x-www-form-urlencoded";</p><p></p><p></p><p>                       string myResponse = "";</p><p>                       try</p><p>                       {</p><p>                               //get cookie from Web API</p><p>                               HttpWebResponse response = (HttpWebResponse)request.GetResponse();</p><p>                               //get content</p><p>                               using (System.IO.StreamReader reader = new System.IO.StreamReader(response.GetResponseStream()))</p><p>                               {</p><p>                                       myResponse = reader.ReadToEnd();</p><p>                               }</p><p>                       }</p><p>                       catch(InvalidCastException e)</p><p>                       {</p><p>                               //Log Error</p><p>                               this.rtbOutput.AppendText("ERRO: " + e.Source);</p><p>                       }</p><p></p><p></p><p>                       this.rtbOutput.AppendText("\r\n");</p><p>   </p><p></p><p></p><p>                       JObject rss = JObject.Parse(myResponse);</p><p></p><p></p><p>                       this.rtbOutput.AppendText(myResponse);</p><p></p><p>                       //"Project" -&gt; "Manage NuGet packages" -&gt; "Search for "newtonsoft json". -&gt; click "install".</p><p>                       Newtonsoft.Json.Linq.JToken objToken;</p><p>                       objToken = rss.SelectToken("result");</p><p></p><p>                       string made_sla = (string)rss["result"][0]["made_sla"];</p><p>                       string short_description = (string)rss["result"][0]["short_description"]; </p><p></p><p></p><p>                       this.rtbOutput.AppendText("\r\n");</p><p>                       this.rtbOutput.AppendText("\r\n");</p><p>                       this.rtbOutput.AppendText("\r\n");</p><p>                       this.rtbOutput.AppendText("short_description==&gt; " + short_description);</p><p>                       this.rtbOutput.AppendText("\r\n");</p><p>                       this.rtbOutput.AppendText("made_sla==&gt; " + made_sla);</p><p>               }</p></pre><p></p><p><a href="https://github.com/Tiagomacul/WFA_ServiceNow" title="https://github.com/Tiagomacul/WFA_ServiceNow">GitHub - ServiceNow: Webservice REST Service Now</a></p><p></p><p><a title="A .Net client for ServiceNow's REST TableAPI in C#" __default_attr="5751" __jive_macro_name="document" class="jive_macro jive_macro_document" data-orig-content="A .Net client for ServiceNow's REST TableAPI in C#" data-renderedposition="1104.3607177734375_7.997159004211426_340_15" href="/community?id=community_article&sys_id=ffcce265dbd0dbc01dcaf3231f96199a">A .Net client for ServiceNow's REST TableAPI in C#</a></p><p><a href="http://wiki.servicenow.com/index.php?title=Web_Services_C_Sharp_.NET_End_to_End_Tutorial#gsc.tab=0" title="http://wiki.servicenow.com/index.php?title=Web_Services_C_Sharp_.NET_End_to_End_Tutorial#gsc.tab=0">Web Services C Sharp .NET End to End Tutorial - ServiceNow Wiki</a></p><p><a href="http://wiki.servicenow.com/index.php?title=Microsoft_.NET_Web_Services_Client_Examples#gsc.tab=0" title="http://wiki.servicenow.com/index.php?title=Microsoft_.NET_Web_Services_Client_Examples#gsc.tab=0">Microsoft .NET Web Services Client Examples - ServiceNow Wiki</a></p><p><a href="https://www.youtube.com/watch?v=Es6Bm5hgqXk" title="https://www.youtube.com/watch?v=Es6Bm5hgqXk">REST tool for ServiceNow APIs - YouTube</a></p><p><a href="https://www.youtube.com/watch?v=UQ0lqGkVMJU" title="https://www.youtube.com/watch?v=UQ0lqGkVMJU">C# .NET Client consuming a ServiceNow SOAP Web Service - YouTube</a> <a href="https://www.google.com.br/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=11&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwjUqsWJ5fzWAhVIi5AKHbgQB244ChC3AggnMAA&amp;url=https%3A//www.youtube.com/watch%3Fv%3DEs6Bm5hgqXk&amp;usg=AOvVaw340BkgusGtdu-PYPnPY-CE" title="https://www.google.com.br/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=11&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwjUqsWJ5fzWAhVIi5AKHbgQB244ChC3AggnMAA&amp;url=https%3A//www.youtube.com/watch%3Fv%3DEs6Bm5hgqXk&amp;usg=AOvVaw340BkgusGtdu-PYPnPY-CE"><br/></a></p><p><a title="appysys.com/blog/how-to-read-data-from-servicenow-rest-api-ssis/" href="https://zappysys.com/blog/how-to-read-data-from-servicenow-rest-api-ssis/">How to read data from ServiceNow REST API using SSIS</a>   <a href="https://zappysys.com/blog/how-to-read-data-from-servicenow-rest-api-ssis/" title="https://zappysys.com/blog/how-to-read-data-from-servicenow-rest-api-ssis/"><br/></a></p><p><a href="http://wiki.servicenow.com/index.php?title=Web_Services_Integrations_Best_Practices#gsc.tab=0" title="http://wiki.servicenow.com/index.php?title=Web_Services_Integrations_Best_Practices#gsc.tab=0">Web Services Integrations Best Practices - ServiceNow Wiki</a> </p><p><a href="https://servicenowdev.wordpress.com/2015/04/17/servicenow-integration-technology-stack/" title="https://servicenowdev.wordpress.com/2015/04/17/servicenow-integration-technology-stack/">ServiceNow Integration Technology Stack — ServiceNow Developer Blog</a> </p><p></p><p></p><p><a title="" _jive_internal="true" data-containerid="-1" data-containertype="-1" data-objectid="85842" data-objecttype="3" href="/people/tiagomacul/content" style="font-family: arial, sans-serif; color: #3778c7;">Outros documentos em português</a></p>