---
title: "Debug slow performance on the client side using Chrome"
date: 2017-06-09T03:55:30.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=590e6a2ddbd0dbc01dcaf3231f9619b7"
---
<p>One of the most frustrating things you can encounter is a slow-loading page or form. Oftentimes when a page/form is loading slowly, it can be due to the server or client-side JavaScript. In this blog I will help you identify the source of the slowness and how to debug it.</p><p></p><h2><span style="color: #505050;">Is the page loading slow on the server or client side?</span></h2><p><span style="color: #505050;"> One way to identify whether the slow page is due to client scripts or something on the server side is to look at the top of the page. While it is loading, if you see something like this that shows the running transaction time, that means it is the server that is taking its time:</span></p><p style="text-align: center;"><img   alt="load time.png" class="image-10 jive-image" src="ce3e1c46dbdc9704ed6af3231f961909.iix" style="width: 620px; height: 50px;"/></p><p></p><p><span style="color: #505050;">If you see that page is loaded but the browser is still spinning, that means something on the client side is slow. Once the page is finished loading, you can always check the response time on the clock at the bottom right corner to see the server and browser times. If the source of the slow load is on</span><span style="color: #505050;"> the client side, Chrome dev tools can be used to pinpoint the slow JavaScript. Let's take a closer look at how to do this.</span></p><p></p><h3><span style="font-size: 14pt; color: #505050;">Troubleshooting slow client scripts</span></h3><p><span style="color: #505050;">Let's take an example of an incident form. When I try to load incident form it takes ~2.5 seconds, out of which ~1.5 seconds is browser time and ~800 ms server time. This is not that bad, but let's see if we can optimize it further.</span></p><p></p><p><span style="color: #505050;">This is the response time that displays when I click on the clock icon at the bottom right corner:</span></p><p style="text-align: center;"><span style="font-size: 10.6667px; color: #505050;"><img   alt="load time 2.png" class="image-11 jive-image" src="603b3f71dbd45704ed6af3231f961944.iix" style="width: 620px; height: 122px;"/><br/></span></p><p></p><p><span style="color: #505050;">Now let's open the Chrome developer tools on the incident form for <a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=5becee65dbd0dbc01dcaf3231f961940">more debugging</a>.</span></p><p></p><h2><span style="color: #505050;">How to open Chrome developer tools to debug client-side slowness</span></h2><p><span style="color: #505050;">There are two methods to opening Chrome dev tools:</span></p><p style="padding-left: 30px;"><span style="color: #505050;">Option 1: When you are on the form you want to debug, right-click the form and do inspect.</span></p><p style="padding-left: 30px;"><span style="color: #505050;">Option 2: In the Chrome menu, go to <strong>More</strong> <span style="font-style: inherit; font-family: inherit;"><strong>Tools &gt; Developer Tools</strong></span>. Depending on which version of Chrome you are on, it may be in a different location but usually clicking the wrench icon in the upper right will get you to this option.</span></p><p></p><h3><span style="color: #505050;">Use Chrome to continue debugging</span></h3><ol><li><span style="color: #505050;">In the developer tool, click the <strong>Performance </strong>panel and click the record button to capture a new recording.</span><img   alt="debugging step 1.png" class="image-12 jive-image" src="105e9586db54d7041dcaf3231f96195d.iix" style="width: 620px; height: 111px; display: block; margin-left: auto; margin-right: auto;"/></li><li><span style="color: #505050;">While recording the transaction, reload the form again. Once the form is loaded, stop recording. This will capture the screenshot of the performance of transaction. The summary contains a number of tabs, and the first tab displays a breakdown of the time. In this case, most of the time was while rendering scripting. Based on this we know there is some Javascript that is causing   slowness.<br/></span><img   alt="debugging step 2.png" class="image-13 jive-image" src="bfc2eccedb10dfc068c1fb651f9619c7.iix" style="width: 620px; height: 174px; display: block; margin-left: auto; margin-right: auto;"/></li><li><span style="color: #505050;">Now, let's find out exactly which client script is slow. Click on third tab labeled <strong>Call Tree</strong>. Let's sort it on Total Time as I am interested in seeing the one with maximum time. I can see that the Parse HTML Activity took ~60% of time, so let's drill down into this activity to see what it has. Keep clicking in this activity until you find something interesting.<img   alt="debugging step 3.png" class="image-14 jive-image" src="e1558c86db9cd3049c9ffb651f96193b.iix" style="color: #3d3d3d; width: 620px; height: 87px; display: block; margin-left: auto; margin-right: auto;"/></span></li><li><span style="color: #505050;">I stopped drilling down when I saw these functions: <strong>onLoad_df2c8a16db43b2002f1e596e5e9619b3</strong>. To determine exactly what this is, click on the link directly across the first <span style="color: #505050;"><strong>onLoad_df2c8a16db43b2002f1e596e5e9619b3</strong></span> function to go to the source code. In this case it redirected me to this line:<br/><br/></span><span style="color: #505050;">addRenderEventLogged(onLoad_df2c8a16db43b2002f1e596e5e9619b3, 'onLoad VIP Assignment Group','onLoad_df2c8a16db43b2002f1e596e5e9619b3');g_event_handlers_onLoad['onLoad_df2c8a16db43b2002f1e596e5e9619b3'] = 'VIP Assignment Group';g_event_handler_ids['onLoad_df2c8a16db43b2002f1e596e5e9619b3'] = 'f94ce56adb5efe002f1e596e5e96193c';function onLoad_132c8a16db43b2002f1e596e5e9619b4() {</span></li></ol><p style="padding-left: 90px;"><span style="color: #505050;">     var caller = g_form.getReference('caller_id');</span></p><p style="padding-left: 90px;"><span style="color: #505050;">     if (caller.vip == 'true')</span></p><p style="padding-left: 90px;"><span style="color: #505050;">             g_form.setValue('location', caller.location);</span></p><p style="padding-left: 90px;"><span style="color: #505050;">}</span></p><p style="padding-left: 30px;"><span style="color: #505050;">5. This looks like a client script to me, so I will search this client script in my instance. To look for the client script:</span></p><ul><ul><li><span style="color: #505050;">Use sys_id (['onLoad_df2c8a16db43b2002f1e596e5e9619b3'] = '<strong>f94ce56adb5efe002f1e596e5e96193c</strong>')</span></li><li><span style="color: #505050;">Use the script contains we are seeing in code</span></li><li><span style="color: #505050;">This looks like a name: onLoad <strong>VIP Assignment Group</strong>'</span></li></ul></ul><p></p><p><span style="color: #505050;">I am able to find the client script using the sys_id, its On Load client script (<strong><a class="formlink linked" href="https://empstyagi1.service-now.com/sys_script_client.do?sys_id=f94ce56adb5efe002f1e596e5e96193c&amp;sysparm_record_target=sys_script_client&amp;sysparm_record_row=1&amp;sysparm_record_rows=1&amp;sysparm_record_list=sys_idCONTAINSf94ce56adb5efe002f1e596e5e96193c%5EORDERBYDESCsys_updated_on" style="color: #343d47; background-position: initial; font-family: SourceSansPro, 'Helvetica Neue', Arial; font-size: 13px;"><span style="color: #505050;">VIP Assignment Group</span></a></strong>) on the Incident table.</span></p><p></p><p style="padding-left: 30px;"><span style="color: #505050;">6. Let's check the script in the client script. Here is my code:</span></p><p style="text-align: center;"><img   alt="debugging step 6.png" class="image-15 jive-image" src="14f26771db9093049c9ffb651f9619da.iix" style="width: 620px; height: 179px;"/></p><p><span style="color: #505050;">Looks like a bad code - we are doing a server call from the client script to set the assignment group. To avoid the server call add display value, I will rewrite the code as per <span class="j-search-result-title" style="font-weight: inherit; font-style: inherit; font-family: inherit;"><a _jive_internal="true" class="j-search-result-value" href="/community?id=community_blog&sys_id=f27ce2e1dbd0dbc01dcaf3231f961912" style="font-size: 15px; font-family: arial, sans-serif; color: #3778c7;"><span class="jive-hilite" style="font-weight: 600; font-family: inherit;">Client</span> <span class="jive-hilite" style="font-weight: 600; font-family: inherit;">Script</span> <span class="jive-hilite" style="font-weight: 600; font-family: inherit;">Best</span> <span class="jive-hilite" style="font-weight: 600; font-family: inherit;">Practices</span></a> by <a title="jake.gillespie" __default_attr="14580" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="jake.gillespie" data-renderedposition="1945.382080078125_134.42709350585938_99_17" href="/community?id=community_user_profile&user=6762de69dbd81fc09c9ffb651f961926">jake.gillespie</a></span></span><span style="color: #505050;">. Here is my updated code:</span></p><p style="text-align: center;"><span style="color: #505050;"><img   alt="debugging step 6-2.png" class="image-16 jive-image" src="a16c4d0edbd497049c9ffb651f96197b.iix" style="width: 620px; height: 102px;"/><br/></span></p><p></p><p><span style="color: #505050;">As we can see in my rewritten code above, there are three client scripts that were slow. I fixed all three of them using the same steps (1 through 6) and now my incident form is loading 1.2 seconds, out of which browser time is dropped down to 130 ms. Not bad. <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="2130.9375_473.45489501953125_16_16" src="/8.0.4.21bdc7e/images/emoticons/happy.png"></span></span></p><p></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #666666;"><span style="color: #505050;">In this example it was the client script that was causing slowness. Please note the client-side script<span style="font-family: inherit; font-style: inherit; font-weight: inherit;"> is also coming from UI scripts or the script sections in UI Policies. Bottom line here is if you have a slow form load due to client-side scripting, take a moment to debug slowness using the browser performance tool.</span></span></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #666666;"></p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="2246.041748046875_7.986111640930176_1174_82"><p><span style="color: #1287b5;"><span style="font-family: inherit; font-style: inherit; font-weight: inherit;">Note: </span>This example assumes that you are using the Chrome browser, but the other browsers have JavaScript consoles. I recommend you use Chrome when it comes to debugging and troubleshooting as it is pretty simple and easy to use. Also please note, I am on Chrome Version 58. If you are not on latest version of Chrome, use Timeline and Profile Panel as they are similar to the performance panel we just used.</span></p></pre>