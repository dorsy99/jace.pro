---
title: "Service Account for Retrieving Update Sets"
date: 2017-05-05T23:27:04.000Z
authors: ["Jim Coyne"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=20dc2665dbd0dbc01dcaf3231f9619ed"
---
<p>I don't like using a real user's credentials when setting up a new Remote Instance (or Update Source) record:</p><p></p><p><img   class="image-1 jive-image" src="cb9a884adbd81344e9737a9e0f9619a9.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p>This can become a problem when the user changes their password or changes positions internally or even leaves the company entirely.   You would then have to change the Remote Instance record for each of your instances.   Usually the person who creates the record ends up using their own credentials because it's easier and faster to do so, but it's not the best way.   Creating a new user and assigning them the "admin" or "teamdev_user" roles just gives them more access than what is needed. Creating a service account with just the right access will save you from future headaches.   For more information about service accounts, see this post - <a title="User account or service account? What to use for web service tasks" __default_attr="6512" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="User account or service account? What to use for web service tasks" data-renderedposition="548_509.53125_445_16" href="/community?id=community_blog&sys_id=b4fca2a5dbd0dbc01dcaf3231f961900">User account or service account? What to use for web service tasks</a>.</p><p></p><p><strong>Spoiler alert</strong> - I've attached an Update Set XML export to save you from creating the records manually, but wanted to describe what needs to be done anyways.</p><p></p><p>I create a new User record with the following details:</p><p>User ID - #update.sets.integration</p><p>First name - Update Sets</p><p>Last name - Integration</p><p>Password - follow your established security rules to create a secure password</p><p>Active - checked</p><p>Web service access only - checked (important)</p><p></p><p><img   class="image-2 jive-image" src="7a352775db90dfc0b322f4621f961955.iix" style="max-width: 1200px; max-height: 900px;"/></p><p>Checking the "Web service access only" check box will only allow that "user" to login to the instance using API calls and not into the regular user interface.</p><p></p><p>The next thing to do is create a new Role called "u_update_sets_integration".   Once you save the new record, add the "soap_query" Role as a Contained Role so that users with the new Role will inherit the "soap_query" Role as well:</p><p></p><p><img   class="image-3 jive-image" src="557e8d0edb9413043eb27a9e0f961920.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p>Once you do that, assign the new Role to the "Update Sets Integration" user:</p><p><img   class="jive-image image-4" src="d5a96c42db94dfc03eb27a9e0f961901.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p>Next, you need to assign the "u_update_sets_integration" Role to two different Access Control records, one each for the "sys_update_set" and "sys_update_xml" tables.   You can use the following URL to find the appropriate ones (change "instancename" to your own name of course):</p><p><a href="https://instancename.service-now.com/sys_security_acl_list.do?sysparm_query=GOTOname%3Dsys_update_set%5EORname%3Dsys_update_xml%5Eoperation%3Dread" title="https://instancename.service-now.com/sys_security_acl_list.do?sysparm_query=GOTOname%3Dsys_update_set%5EORname%3Dsys_update_xml%5Eoperation%3Dread">https://instancename.service-now.com/sys_security_acl_list.do?sysparm_query=GOTOname%3Dsys_update_set%5EORname%3Dsys_upd…</a></p><p></p><p>You need to add the "u_update_sets_integration" Role to the Requires Role Related List for both of the Access Control records:</p><p><img   class="image-6 jive-image" src="3817408adb981304b322f4621f9619a5.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p>The last thing you need to do is update the Remote Instance record with the new credentials.   There will, however, be an issue when you try to save it:</p><p><img   class="image-5 jive-image" height="304" src="44170442db1017049c9ffb651f96197e.iix" style="height: 304px; width: 753.92px;" width="754"/></p><p></p><p>ServiceNow will validate the credentials are correct and will verify what roles the user has in the remote instance instead of verifying if it can perform the required operations.   So you will have to temporarily give the Update Sets Integration User the "teamdev_user" role.   You can remove it once the Remote Instance record has been updated.</p><p></p><p>So now you have a user with just the right amount of access to import your Update Sets and it should not count as a licensed user (always check with your ServiceNow sales rep).   Obviously performing all these steps manually does not make sense and would negate any gains this would give you so you should use the attached Update Set XML file instead.   Import it into your personal dev instance to see all the records that are created and feel comfortable with the changes before adding it to your instances.</p><p></p><p>And don't forget to change the password for the new User record if you import the attached XML file (it is blank in the Update Set).</p>