---
title: "Unlearn Series  Nudge Workflow Timer"
date: 2017-06-02T17:14:43.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=230e6e2ddbd0dbc01dcaf3231f96191f"
---
<p>Timer activities are used in ServiceNow workflows for lots of things. Adding a wait period in the workflow, to deal with autoclosure of requests are some of the uses.</p><p>But testing the workflows with Timer could be challenging, if you have wait for the said period for the request to move forward. And it can be frustrating experience unless you change the wait period manually.</p><p></p><p>Well, you neither need to wait for the timer to complete nor need to change the timer value. This below will show you one of the way where you can manually nudge the timer activity forward and also attempts at explaining how these system tables are related.</p><p></p><p>Internally, all the timer activities from a active workflow context are converted into schedule jobs and names of these jobs start with <strong>'WFTimer'</strong></p><p><strong>The workflow activities that are currently being executed for a workflow context are stored <strong>wf_executing</strong>.</strong></p><p>There does not appear to be a direct way for traversing the sys_trigger table (this has the list of scheduled jobs that are pending execution) and find the appropriate timer job.</p><p>But luckily we can use nested queries and use the relationships between these tables to get the job corresponding to the timer activity. </p><p></p><p>You can use a script like below to nudge your timer activity forward.</p><p></p><p><em>var getContext = new GlideRecord('wf_executing');</em></p><p><em>getContext.addEncodedQuery('context.table=sc_req_item^context.id=0a1ec3c110a6760004a5d6b7f3ddbe83^activity=f0e7c1aab92e2200b07e1a8041ef01b6');</em></p><p><em>getContext.query();</em></p><p><em>if(getContext.next()) {</em></p><p><em>var getTimer = new GlideRecord('sys_trigger');</em></p><p><em>getTimer.addEncodedQuery('name=WFTimer'+getContext.sys_id);</em></p><p><em>getTimer.query();</em></p><p><em>if(getTimer.next()) {</em></p><p><em>getTimer.next_action=gs.nowDateTime(); //Set the current time to nudge it forward</em></p><p><em>getTimer.update();</em></p><p><em>}</em></p><p><em>}</em></p><p></p><p>The outer query will get the currently executing workflow context activity related to the timer.You will need to pass the sys_id of the RITM for <strong>context.id</strong> and sys_id of the activity related to timer. </p><p>You will need to pass the timer's sys_id to <strong>activity<em>. </em></strong>The timer sys_id can be easily obtained by opening the current workflow version record from <strong>wf_workflow_version</strong> table. Look into the <strong>Workflow Activities</strong> related list and copy the sys_id of the timer activity.</p><p></p><p>The script above will set the execution time with current time. Once the scheduled job is executed, the workflow will resume and will transition forward through as defined.</p><p></p><p><strong>Note:</strong> Nested queries should be avoided since they might cause performance hit. I have used this pattern for simplicity. You can find a good blog <a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=557c62e1dbd0dbc01dcaf3231f96191d">here</a> by <a title="tltoulson" __default_attr="5690" __jive_macro_name="user" class="jive-link-profile-small jive_macro jive_macro_user" data-id="5690" data-objecttype="3" data-orig-content="tltoulson" data-renderedposition="724_976.671875_72_16" data-type="person" href="/community?id=community_user_profile&user=825f0229db181fc09c9ffb651f961945">tltoulson</a> that explains it.</p>