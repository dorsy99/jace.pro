---
title: "MiniLab Scoped Debugging and Logging  Part "
date: 2017-04-20T01:21:04.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=49dd66e9dbd0dbc01dcaf3231f9619a2"
---
<p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-size: 10.5pt; font-family: inherit; font-style: inherit; background-position: initial;"><strong>NOTE</strong></span><span style="font-weight: inherit; font-style: inherit; font-size: 10.5pt; font-family: Arial, sans-serif; background-position: initial;">: MY POSTINGS REFLECT MY OWN VIEWS AND DO NOT NECESSARILY REPRESENT THE VIEWS OF MY EMPLOYER, ACCENTURE.</span></p><p></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 11pt; font-family: Arial, sans-serif; background-position: initial;">DIFFICULTY LEVEL:   </span><span style="color: #7f6000; font-weight: inherit; font-size: 14.6667px; font-family: inherit; font-style: inherit; background-position: initial;"><strong>INTERMEDIATE</strong></span></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 11pt; font-family: Arial, sans-serif; background-position: initial;">Assumes basic knowledge and/or familiarity of the Studio IDE, and Scripting in ServiceNow.</span></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 10.5pt; font-family: Arial, sans-serif; background-position: initial;">____________________________________________________________________________</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">In my previous </span><a _jive_internal="true" href="/community?id=community_blog&sys_id=cd3e2e6ddbd0dbc01dcaf3231f9619a9"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">article</span></a><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"> I describe the various console logs, and client-side debugging tools available to developers.   We created a Studio application to help us test these features.   I also described a bit of the Client Script debugging. In this article I will show some of the server-side tools available to the client-side, and how they can be utilized for debugging.</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Pre-requisite:   Work through the labs in my previous article.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 16.0pt; font-family: 'Arial','sans-serif';"><strong>Client Side Debugging of Scripts</strong></span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">The first tool for debugging server-side scripts on the client can be found under System Diagnostics.   This basically allows you to debug Business Rules and a handful of other things.   While not necessarily a Scoped Scripting debugging tool; it still needs to be included in a survey of ServiceNow debugging tools.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">1. Navigate to System Application &gt; Studio and open your <strong>Debugging Logger</strong> application from the previous article.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">2. Click on <strong>Create Application File</strong> and create a new <strong>Business Rule</strong>.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">3. Fill out the form with the following:</span></p><p></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong>: Debugging — Scoped</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Table</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Incident</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Active</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Checked</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Advanced</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Checked</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Under the When to Run Tab:</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>When</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Before</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Update</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Checked</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Order</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: 100</span></p><p></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Under the Advanced Tab:</span></p><p></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Script</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_1492632241068915 jive_text_macro" data-renderedposition="892_8_1193_112" jivemacro_uid="_1492632241068915"><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Courier New';">(function executeRule(current, previous /*null when async*/) {</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Courier New';">         var number = current.number;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Courier New';">         gs.info('---&gt; Number: {0}', [number]);</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Courier New';">})(current, previous);</span></p><p style="margin-bottom: .0001pt;"></p></pre><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. Click on the Submit button to save your work.</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><img   class="image-1 jive-image" height="305" src="cdefe0c2dbd49304b322f4621f96198e.iix" style="max-width: 1200px; max-height: 900px; width: 579px; height: 304.346px;" width="579"/></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. From your Instance navigate to System Diagnostics &gt; Session Debug &gt; Debug Business Rule.   The Business Rule Debugger will be activated.</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong>Note</strong>: Debug Business Rule (Details) expands, considerably, what is logged to the client-side interface.   I rarely use this feature as there is usually just too much info to sort through.   Try it out though.   It has its uses.</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><img   class="image-2 jive-image" height="295" src="6653d04edbd417041dcaf3231f9619f7.iix" style="max-width: 1200px; max-height: 900px; height: 294px; width: 580.858px;" width="581"/></span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">6. Navigate to Incidents and open your favorite incident.</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">7. To execute our Business Rule we need to update the record.   Change one of the fields and <strong>save,</strong> don't update, the Incident record.</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">8. On the Incident form scroll to the bottom of the form past the related lists.   You will see debugging information listed.   This is really useful to see if, and in what order, your Business Rules fire.   Note the millisecond indicator on the log entries.   Gosh I wish we had this in the System Log!</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><img   class="image-3 jive-image" height="348" src="33bc45c6dbd0d304b322f4621f961903.iix" style="max-width: 1200px; max-height: 900px; width: 596px; height: 347.801px;" width="596"/>   </span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">9. Scroll down a bit further and you will see that our business rule was executed.   You won't see the output here though.   That will appear in our system log.</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><img   class="jive-image image-4" height="193" src="68cc688adb1c57041dcaf3231f961925.iix" style="max-width: 1200px; max-height: 900px; width: 599px; height: 192.179px;" width="599"/>   </span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">10. Navigate to System Logs &gt; System Log &gt; All and search for message contains "---&gt;".   You log message should look something like this:</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-family: 'Arial','sans-serif';"> <img   class="image-5 jive-image" height="65" src="f1198c06db1017041dcaf3231f961914.iix" style="max-width: 1200px; max-height: 900px; width: 617px; height: 64.785px;" width="617"/> </span></p><p></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Ok, so that was interesting, and it has its uses.   Now let's move onto something really cool that was re-introduced with the Istanbul release:   The Script Debugger!</span></p><p></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 16.0pt; font-family: 'Arial','sans-serif';"><strong>Script Debugger — Breakpoints</strong></span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Re-introduced in that it made its first appearance in the Fuji release, but the big User Interface changes in Geneva appear to have cause problems, and we lost this really useful tool for a couple of releases.   Now it's back!   Whoop!</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">So how do we use it?</span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">1. From the Studio open our new Business Rule: Debugging — Scoped.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">2. Click on line number 3 of your script.   A blue highlight will appear.   This is your breakpoint.   You can set one of these per line.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">3. Now click on the Script Debugger button (last icon on the Script field) to open the debugger window.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-11 jive-image" height="300" src="5b5390cedb549fc03eb27a9e0f961941.iix" style="max-width: 1200px; max-height: 900px; width: 649px; height: 300.163px;" width="649"/> </span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   </span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. When the Script Debugger window opens you will see your Business Rule's script with the breakpoint highlighted. This window MUST be open in order for debugging to work.   So do not close this window.   It is okay for it to be minimized though.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-12 jive-image" height="311" src="8e6d27bddb54df04e9737a9e0f961928.iix" style="max-width: 1200px; max-height: 900px; width: 649px; height: 310.438px;" width="649"/>   </span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. Back in your instance open your favorite Incident again, change something on the form, and save - to cause our Business Rule to fire.   Because we have the Script Debugger window still open it causes the ServiceNow Script Debugger popup to be shown.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">6. Click on the Start Debugging button.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="jive-image image-8" height="310" src="410eaf75db58dfc0b322f4621f961998.iix" style="max-width: 1200px; max-height: 900px; width: 507px; height: 310.17px;" width="507"/>   </span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">7. This will cause the Script Debugger to be brought up to the forefront, and will cause execution to stop on the specified breakpoint.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-9 jive-image" height="346" src="c1819506db581b04ed6af3231f96190c.iix" style="max-width: 1200px; max-height: 900px; width: 646px; height: 346.475px;" width="646"/>   </span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">8. Here you will be able to see all sorts of information about everything currently executing.   Note the Call Stack in the upper left corner.   This lets us see what function is calling what (it is in reverse order). Below that is the Transaction Detail. Here you can look down through all of the request parameters used when executing the script.   Finally on the upper right side you can see all of the variables that have been populated.   In this case since we are using a Business Rule you can see both the Current and Previous objects and their property values.   I really find this tool useful.   One note of caution:   If you leave it sitting very long the breakpoint will timeout and execution will cease.   </span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>NOTE</strong>: You can only stop on breakpoints set in script executed by synchronous calls.   Therefore anything Async (i.e. Ajax, Events, Scheduled Jobs) will not fire the debugger even if you have everything set up right.   <strong>Also</strong>, the Script Debugger does NOT work in Fix Scripts even though they are Async.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">9. Click on the Start button to continue and finish execution.   You can close the Script Debugger window now.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="jive-image image-10" height="45" src="7def28cedbd857049c9ffb651f961933.iix" style="width: 176px; height: 44.4052px;" width="176"/>   </span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">That introduces the Script Debugger.   You can set breakpoints and bring up the Script Debugger window from the Studio, but in order to get it all to work you have to execute, some script that has a breakpoint, from the instance.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">In my next, and final article (<a title="Mini-Lab: Scoped Debugging and Logging — Part 3" __default_attr="6675" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Mini-Lab: Scoped Debugging and Logging — Part 3" data-renderedposition="5376_208.0749969482422_378_18" href="/community?id=community_blog&sys_id=7ecda2e9dbd0dbc01dcaf3231f961944">Mini-Lab: Scoped Debugging and Logging — Part 3</a>)   on this topic, I will be covering:</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Scoped Logging</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Scoped Debug Logging</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Fix Scripts</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Server-Side Logging Techniques</span></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666;"></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: arial, helvetica, sans-serif;">Steven Bell</span></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666;"></p><p style="font-family: arial, sans-serif; color: #666666;"><a _jive_internal="true" href="/servlet/JiveServlet/downloadImage/38-6655-272187/Combined Logo Graphic_Operations.png" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><img   alt="Combined Logo Graphic_Operations.png" class="jive-image" height="92" src="28815506db581b04ed6af3231f961917.iix" style="margin: 10px 10px 10px 0; border-width: 0px; font-weight: inherit; font-style: inherit; font-family: inherit;" width="340"/></a></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><a _jive_internal="true" data-containerid="-1" data-containertype="-1" data-objectid="261212" data-objecttype="111" href="/servlet/JiveServlet/downloadImage/38-6432-261212/Combined Logo Graphic_Operations.png" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><span style="font-weight: bold; font-style: inherit; font-family: Arial; color: #666666;">For a list of all of my articles:   </span></a><a _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/23/community-code-snippets-articles-list-to-date" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><span style="font-weight: bold; font-style: inherit; font-family: Arial;">Community Code Snippets: Articles List to Date</span></a><a _jive_internal="true" data-containerid="-1" data-containertype="-1" data-objectid="261212" data-objecttype="111" href="/servlet/JiveServlet/downloadImage/38-6432-261212/Combined Logo Graphic_Operations.png" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><br/></a></p><p dir="ltr"></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 14.6667px; font-family: Arial; color: #eb7a3d;">Please Share, Like, Bookmark, Mark Helpful, or Comment this blog if you've found it helpful or insightful.</span></p><p dir="ltr"></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 14.6667px; font-family: Arial; color: #eb7a3d;">Also, if you are not already, I would like to encourage you to become a member of our blog!</span></p>