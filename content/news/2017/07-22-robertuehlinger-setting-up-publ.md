---
title: "Setting up public surveys in Service Portal"
date: 2017-07-21T23:30:48.000Z
authors: ["robertuehlinger"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=720e2e2ddbd0dbc01dcaf3231f96193a"
---
<p>In our Istanbul release, we introduced the ability for users to <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/survey-administration/concept/c_SurveyServicePortal.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/survey-administration/concept/c_SurveyServicePortal.html" rel="nofollow">take surveys on our Service Portal</a>. We have also improved the ability of a user taking the survey without having to log in. <span style="font-size: 10pt;">In this blog, I will go over how to view surveys in the Service Portal as well as how to send surveys through an email notification so a non-roled user can take the survey. With this implementation in Istanbul came the ability for users who are not logged in to take surveys, broadening the idea of the public survey. It also delivers a responsive environment for the user, allowing a survey to be taken on any device they choose.</span></p>
<p> </p>
<h1>Overview of surveys in Service Portal</h1>
<p>Before going into the steps to setting up a public survey, I will go over surveys within the <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/build/service-portal/concept/c_ServicePortal.html#c_ServicePortal" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/build/service-portal/concept/c_ServicePortal.html#c_ServicePortal" rel="nofollow">Service Portal</a>. In Service Portal, you can use the Survey widget (which is provided in the base instance) to set up surveys and create an intuitive interface for users. <span style="font-family: Source_Sans_Pro, Gotham, Helvetica, Arial, sans-serif; font-size: 13.3333px;">Surveys for users on mobile devices are fully supported in Service Portal. Once you have installed the Service Portal, <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/build/service-portal/task/t_ConfigureAPage.html#t_CustomizeAPage" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/build/service-portal/task/t_ConfigureAPage.html#t_CustomizeAPage" rel="nofollow">configure the Survey widget</a> on the page and then users will be able to access surveys that are assigned to them on their Service Portal.</span></p>
<p style="text-align: center;"><img class="image-20 jive-image" style="width: 620px; height: 316px;" src="002ba84edb1857049c9ffb651f961923.iix" alt="service portal survey widget.png" /></p>
<p>In the above image, you can see the <strong>Customer Satisfaction Survey</strong> displayed under <strong>My Surveys</strong>, as well as the incident number that is related to that survey. You can view the incident record by clicking on the incident number.</p>
<p> </p>
<p>Once you click on the survey, you are taken to the Survey Preview screen, which displays the incident number and the short description of the incident:<img class="image-22 jive-image" style="width: 620px; height: 316px; display: block; margin-left: auto; margin-right: auto;" src="3c190c0edb5017049c9ffb651f96198e.iix" alt="service portal survey preview.png" /></p>
<p>It also displays the introduction text that was defined in the Survey record:</p>
<p> </p>
<p><img class="image-3 jive-image" style="width: 620px; height: 157px; display: block; margin-left: auto; margin-right: auto;" src="40e26739db141fc03eb27a9e0f961960.iix" alt="Screen Shot 2017-04-30 at 9.19.20 AM.png" /></p>
<p> </p>
<p>Once the user clicks the <strong>Get Started </strong>button, the survey is displayed:</p>
<p style="text-align: center;"><img class="image-19 jive-image" style="text-align: left; width: 620px; height: 315px;" src="b86f0dc6db181b04ed6af3231f9619dc.iix" alt="customer satisfaction survey.png" /></p>
<p> </p>
<p>From there, the user will submit the survey and records will be recorded.</p>
<p> </p>
<h1>How to set up public surveys in Service Portal</h1>
<p>In Istanbul, we have improved the Public Survey function to enable all users to take a survey that is either sent to them regarding an incident or not through the Service Portal. To enable sending a public survey through an email notification, you must first set the System Property &#39;<strong>sp_survey.email_redirection</strong>&#39; to <strong>true</strong> and then follow these steps:</p>
<p> </p>
<h2>Step 1. Create a survey</h2>
<ol><li>You can create a survey or use one of the default surveys that come with the base system, listed below:
<ul><li>Change Request Satisfaction</li><li>Customer Satisfaction Indicator</li><li>Customer Satisfaction</li><li>Help Desk Satisfaction</li><li>Service Desk Satisfaction</li><li>Service Request Satisfaction</li><li>Session Feedback</li></ul>
</li><li>Mark the survey as public by clicking the <strong>Enable Public Access</strong> link on the survey record. (Make sure the survey is also published and has questions populated.)<br /><img class="image-18 jive-image" style="display: block; margin-left: auto; margin-right: auto; height: 170px; width: 407.042px;" src="f830a735db1c9f04e9737a9e0f9619fb.iix" alt="survey_enable public access.png" width="407" height="170" /></li><li>Check the <strong>Send Notifications</strong> box on the Survey form.</li></ol>
<p> </p>
<h2>Step 2. Create a trigger condition</h2>
<p>After you enable public access, create a <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/survey-administration/concept/c_TriggerConditions.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/survey-administration/concept/c_TriggerConditions.html" rel="nofollow">trigger condition</a> that will create the survey instance when the conditions are met.</p>
<ol><li>Navigate to <strong>Survey &gt; Trigger Conditions</strong>.</li><li>Click <strong>New </strong>and complete the form. For detailed information on what each of the fields represents on this form, you can view this documentation: <a title="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/survey-administration/task/t_CreateATriggerCondition.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/survey-administration/task/t_CreateATriggerCondition.html" rel="nofollow">Configure a trigger condition for a survey</a> <br /><span style="font-size: 10pt;"><img class="image-15 jive-image" style="width: 620px; height: 355px; display: block; margin-left: auto; margin-right: auto;" src="599309cadbdc9304b322f4621f96190f.iix" alt="survey_trigger condition.png" /></span></li></ol>
<h2>Step 3. Create an email notification for the survey</h2>
<p>Once an incident meets the trigger condition you created in the previous step, a survey instance will be created. Once the instance is created, the <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/notification/task/t_CreateANotification.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/notification/task/t_CreateANotification.html" rel="nofollow">email notification conditions</a> will be met and will send an email to the user(s). We provide some email notifications in the base instance here: <a title="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/reference-pages/reference/r_BaselineEmailNotifications.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/reference-pages/reference/r_BaselineEmailNotifications.html" rel="nofollow">Baseline email notifications</a></p>
<p style="text-align: center;"><br /><img class="image-16 jive-image" style="width: 620px; height: 326px;" src="76b2a4c2db9c5304b322f4621f9619c2.iix" alt="survey_email notification.png" /></p>
<ol><li>Navigate to <strong>System Notification &gt; Email &gt; Notifications</strong>.</li><li>Click <strong>New </strong>and complete the form.</li><li>Specify who you want to send emails to in the <strong>Who will receive</strong> tab.</li><li>Notice the table it is looking for is <strong>asmt_assessment_instance</strong>. This is because it is looking for the assessment instance that is created from the trigger condition meeting the conditions, and the conditions on the email notification must match the assessment instance before the email is sent.</li><li>Once the email notification is created, you can click the <strong>Preview</strong> notification button to see how it will appear to the end user.</li></ol>
<p> </p>
<h2>Step 4. Test the survey email notification</h2>
<p>Now that you have set up a trigger condition and email notification, you can test this by closing an incident.</p>
<ol><li>Create an incident as a test and close the incident. Make sure it matches the conditions you set up in Step 2.</li><li>Once the incident is closed, check the <strong>asmt_assessment_instance</strong> table to verify that the assessment instance has been created.</li><li>If it has, then an email should be sent shortly after to whomever you specified on the <strong>Who will receive</strong> tab of the email notification.</li><li>Once the user receives the email notification, you can test the public functionality by having the user click on the link and very that the survey is publicly accessible. This is what the user should see:<br /><img class="image-17 jive-image" style="width: 620px; height: 316px; display: block; margin-left: auto; margin-right: auto;" src="3bb5c84adb9c5704ed6af3231f96192d.iix" alt="survey_public access preview.png" /></li></ol>
<p> </p>
<p>By following these steps, you can set up surveys in the Service Portal so users can log in to their portal and quickly view the surveys that are assigned to them and ready to take. We also showed how to send emails to users to notify them to take surveys that were related to their incident - all without requiring them to log in. Do keep in mind that if your Service Portal is not public ($YOURPORTALURL is set to <strong>false</strong> in the sys_public table), users will have to log in to take a survey that was sent to them. Also, make sure that the Portal Pages you will be using are also set to &#34;true&#34; using the checkbox on the sp_page.do form. Currently, you can only allow public surveys through a public Service Portal, but the feature to allow public surveys through the assessment_take2 UI page is started in our Jakarta release.</p>
<p> </p>
<p>For additional information on surveys in Istanbul, see: <a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/survey-administration/concept/c_SurveyManagement.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/survey-administration/concept/c_SurveyManagement.html" rel="nofollow">Survey Administration</a></p>
<p> </p>
<p>If you have any questions or issues about setting up a public survey in Service Portal, please share a comment below.</p>