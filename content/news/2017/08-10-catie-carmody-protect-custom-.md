---
title: "Protect custom scripts from unwanted behavior using this system property"
date: 2017-08-10T02:50:53.000Z
authors: ["catie.carmody"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=a6ac6625dbd0dbc01dcaf3231f96196b"
---
<p>There is a functionality in GlideRecord such that you can end up querying the entire table instead of a specific subset of records if an invalid query is accidentally passed into GlideRecord query methods. When the invalid query is run, the invalid part of the query condition is dropped, and the results are based on the valid part of the query, which may return all records from the table. Using an insert(), update(), deleteRecord(), or deleteMultiple() method on bad query results can result in data loss! The good news is that there is a quick and easy way to avoid this. Simply set the <strong>glide.invalid_query.returns_no_rows</strong> system property to true to return no rows (instead of all rows) when the query is invalid.</p><p></p><h1>Use this glide sys property to prevent data loss and other issues with custom scripts</h1><p><span style="color: #3d3d3d;">Here is an example of where we can end up in a situation where we return all rows instead of specific ones because we don't validate the query parameter: </span></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_15023151417543704 jive_text_macro" data-renderedposition="171_8_1192_160" jivemacro_uid="_15023151417543704"><p><span style="font-size: 10pt;">var a;</span></p><p><span style="font-size: 10pt;">var gr = new GlideRecord("incident");</span></p><p><span style="font-size: 10pt;">gr.addQuery("number", a);</span></p><p><span style="font-size: 10pt;">gr.addQuery("caller", a)</span></p><p><span style="font-size: 10pt;">gr.query();</span></p><p></p><p><span style="font-size: 10pt;">while(gr.next()) {</span></p><p><span style="font-size: 10pt;">         gs.print(gr.number);   //Printing all incident numbers but would expect 0 records back, if this called deleteMultiple() you could delete ALL incidents!</span></p><p><span style="font-size: 10pt;">} </span></p></pre><p>To protect yourself from the above scenario, set the <span class="s1"><strong>glide.invalid_query.returns_no_rows</strong> system property to <strong>true.</strong></span></p><p></p><h2><strong>What is the glide.invalid_query.returns_no_rows system property?</strong></h2><p><span style="font-size: 13.3333px;">The </span><strong>glide.invalid_query.returns_no_rows</strong> <span style="font-size: 13.3333px;">system property controls how invalid GlideRecord queries are handled. When this property is <strong>true</strong>, invalid queries always return no rows. When this property is <strong>false</strong> (default), if a query is incorrect, such as by including an invalid field name, the invalid part of the query condition is ignored and results are based on the valid part of the query. You can find more information about this sys property, as well as all the sys properties available in the platform, here: <a title="ocs.servicenow.com/bundle/jakarta-servicenow-platform/page/administer/reference-pages/reference/r_AvailableSystemProperties.html" href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/administer/reference-pages/reference/r_AvailableSystemProperties.html">Available System Properties</a></span></p><p></p><h2><strong>How to set this system property</strong></h2><ol><li>Navigate to &lt;instance_name&gt;.service-now.com/sys_properties_list.do</li><li>Create a New sys_properties record with the following parameters set:<ul><li>Name: <span class="s1">glide.invalid_query.returns_no_rows</span></li><li>Type: true | false</li><li>Value: true</li></ul></li></ol><p style="text-align: left;"><img   alt="new system property.png" class="image-2 jive-image" src="a477b846dbdc57049c9ffb651f961939.iix" style="width: 620px; height: 321px; display: block; margin-left: auto; margin-right: auto;"/></p><p style="text-align: left;">By setting <span style="color: #505050;"><strong>glide.invalid_query.returns_no_rows </strong></span>to <strong>true</strong>, you can prevent data loss and other issues with custom scripts.</p>