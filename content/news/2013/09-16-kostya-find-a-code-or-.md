---
title: "Find a code or a character string in the database"
date: 2013-09-16T00:29:51.000Z
authors: ["Kostya"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=f6fc66a5dbd0dbc01dcaf3231f961996"
---
<p>I have often a problem analyzing unfamiliar implementation that I don't know, where a function call or a log trace is placed. Because there may be a "couple" of scripts in ServiceNow you can spend hours studying the source code. Unfortunately, there are no global search function for script code. <br /><br />I would like to share a background script allow you to get all possible scripts implemented in ServiceNow, custom as well, and than look for a {searchstring}.<br />It is possible to extend the function with Regular Expression search to searchh more complicated search terms.<br /><br /><strong>Global code search</strong><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br />// Please write here what are you looking for:<br />var searchstring = 'test';<br /><br />(function(searchstring) {<br />  // just used for printing results later<br />  var log = new Array();<br /><br />  log.push('Search for character string ' + searchstring + '');<br /><br />  // get all dictionary elements defined with any of script types<br />  var grdict = new GlideRecord('sys_dictionary');<br />  grdict.addQuery('internal_type', 'CONTAINS', 'script');<br />  grdict.addORQuery('internal_type', 'CONTAINS', 'condition');<br />  grdict.addORQuery('internal_type', 'CONTAINS', 'XML');<br /><br />  grdict.addEncodedQuery('nameNOT LIKEvar__m_'); // exclude variable tables<br />  grdict.query();<br /><br />  while(grdict.next()) {<br />    var table = grdict.getValue('name');<br />    var field = grdict.getValue('element');<br /><br />    log.push('Search in ' + table + '.' + field + ' (' + grdict.sys_id + '): ');<br /><br />    // get the records containing the search term in the script field<br />    var gr = new GlideRecord(table);<br />    gr.addQuery(field, 'CONTAINS', searchstring);<br />    gr.query();<br /><br />    while(gr.next()) {<br />        log.push('\tFound in ' + gr.name + '');<br />    }<br />  }<br /><br />  // ... print out<br />  gs.log(log.join('\n'));<br />})(searchstring);</pre></p>