---
title: "View other KB articles within KB Articles without leaving the page"
date: 2013-04-17T10:19:04.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=de7d6269dbd0dbc01dcaf3231f961971"
---
<p>Alright the title may sound a little odd, but I think the concept is kind of cool. Many years ago I talked to some people at Microsoft who had an internal operations knowledge base called "Octane" (if I remember the name correctly). One concept they utilized really stood out to me. They made their Knowledge base very modular. Within one of their operations group when an incident occurred they would reference a "TSG" or Trouble Shooting Guide to follow steps to resolve the incident. Now there may be tons of TSG's that talk about restarting a particular service, or rebooting a server, or whatever. Rather than assume everyone knew how to restart a service or reboot the server, they would create a step by step process to accomplish this task. <br /><p><i>By now you may be saying that if an operations person does not know how to restart a service, they should not be working there. Don't worry about that, I am just trying to get the concept across.</i></p><br />If you can imagine the amount of TSG's that potentially would make reference to how to restart a service. That would be an immense amount of duplicate documentation. So they modularized. When creating a new TSG, if needed, it would reference the step by step process how to restart a service. The key is that it was not a link that took them to another page, but rather an in-line link that opened up the process within the KB article.<br /><br />This similar concept is what I have created. Here is the simplicity visually. I create a KB Article and create a couple links in it like so.<br /><img  alt="" class="jive-image" src="c5baf335db901304b322f4621f9619f2.iix" /><br /><br />When I then click on one of the links, a box opens up below containing the KB content in-line to the article. Click on the link again, and the box goes away.<br /><img  alt="" class="jive-image" src="d201e54adb94d7041dcaf3231f9619a8.iix" /><br /><br />Now this is merely a simple example with little or no formatting involved. The key is wherever you place the link, the reference KB text will appear immediately below. Here is how I did it.<br /><br /><b>Modify an Existing UI Script</b><br />Whenever a Knowledge article is loaded, it also loads a UI Script called "KnowledgeFunctions". So we merely add in some javascript functionality into this file, and boom, it loads when the article loads as well. Here is what you will need to append to the end of the file.<br /><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />addLoadEvent(KBArticleReferenceLink);<br /><br />function KBArticleReferenceLink(){<br />   $$('a[href^="#KBREF_"]').each(function(item){<br />      item.on("click", function(event){<br />         var lk = event.target;<br />         if(lk.next() &amp;amp;&amp;amp; lk.next().hasClassName("kbarticlecontent")){<br />            lk.next().remove();<br />         }<br />         else{<br />            var kbid = lk.href.substring(item.href.lastIndexOf("#KBREF_")+7);<br />            var kcah = new GlideAjax('KnowledgeCustomAjaxHelpers');<br />            kcah.addParam('sysparm_name','getKBText');<br />            kcah.addParam('sysparm_kb_number', kbid);<br />            kcah.getXML(setKBArticleReferenceLinkText, null, lk);<br />         }<br />      });<br />   });<br />}<br /><br />function setKBArticleReferenceLinkText(response,elem){<br />   var answer = response.responseXML.documentElement.getAttribute("answer");<br />   //alert(answer);<br />   var content = document.createElement("p");<br />   content.setAttribute("class", "kbarticlecontent");<br />   content.style.border="1px solid black";<br />   content.style.padding="10px";<br />   content.innerHTML = answer;<br />   elem.insert({<br />      after: content});<br />   }<br /></pre><br /><br /><b>Create a new Script Include</b><br />We need a script include to facilitate an ajax call to get the text of a KB article.<br /><br />Name: KnowledgeCustomAjaxHelpers<br />Client Callable: True<br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />var KnowledgeCustomAjaxHelpers = Class.create();<br /><br />KnowledgeCustomAjaxHelpers.prototype = Object.extendsObject(AbstractAjaxProcessor, {<br /><br />   getKBText: function(){<br />      var kb_number = this.getParameter("sysparm_kb_number"); <br />  var kb = new GlideRecord("kb_knowledge");<br />      kb.addQuery("number", kb_number);<br />      kb.query();<br />      if (kb.next()) {<br />         return kb.text;<br />      }<br />  else{<br />return "No KB Article Found";<br />  }<br />     <br />   },<br />  <br />   type: 'KnowledgeCustomAjaxHelpers'<br />});<br /></pre><br /> <br /><b>Finally add links into your KB article this way</b><br />When you add a link into your KB article you would click on the link icon and get this window.<br /><img  alt="" class="jive-image" src="c852c506dbdc9304b322f4621f96194b.iix" /><br /><br />The Link URL needs to start with <b>#KBREF_</b> followed by the KB article number like so. <b>#KBREF_KB0000017</b><br /><br />View your KB Article and give it a go..... In-line KB Article Reference.<br /><br />Enjoy!<br /><br />&lt;script&gt;&lt;/script&gt;<br /> var _gaq = _gaq || [];<br /> _gaq.push(['_setAccount', 'UA-22945975-1']);<br /> _gaq.push(['_trackPageview']);<br /><br /> (function() {<br /> var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;<br /> ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';<br /> var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);<br /> })();<br /><br /></p>