---
title: "Dealing with XML API  Parsing the SOAP response"
date: 2013-04-24T01:45:36.000Z
authors: ["Christopher.Maloy"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=c15e2aaddbd0dbc01dcaf3231f9619b9"
---
<p>Not gonna really try and show off anything here - but the documentation for XML API is a bit foggy and I want to share this. I tried to use a few common XML API calls that are a bit of a challenge to find out about.<br /><br />Lets pretend you get a SOAP response and you want to manually iterate through that response envelope that has this structure: <br /><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />&lt;s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"&gt;<br />   &lt;s:Body&gt;<br />      &lt;ns0:Root xmlns:ns0="http://Schemas.SNResponse_RigData"&gt;<br />         &lt;Status&gt;Success&lt;/Status&gt;<br />         &lt;RigData&gt;Whatever&lt;/RigData&gt;<br />      &lt;/ns0:Root&gt;<br />   &lt;/s:Body&gt;<br />&lt;/s:Envelope&gt;<br /></pre><br /><br />Here are a few API calls you will need:<br /><br /><pre __default_attr="plain" __jive_macro_name="code" class="jive_text_macro jive_macro_code"><br /><br />      this.fSoapDoc = new XMLDocument(requestXML);<br />      var soapBody = this.fSoapDoc.getNode("/Envelope/Body/Root");<br />     <br />      var nodelist = soapBody.getChildNodes();<br />      for (var i=0; i &lt; nodelist.getLength(); i++) {<br />          var kidNode = nodelist.item(i);<br />          if (kidNode.getNodeType() == Packages.org.w3c.dom.Node.ELEMENT_NODE) {<br />            var fieldName = Packages.com.glide.util.XMLUtil.getNodeNameNS(kidNode);<br />            var fieldValue = Packages.com.glide.util.XMLUtil.getAllText(kidNode);<br />            gs.log("FIELD NAME: " + fieldName, "cmaloy");<br />            gs.log("FIELD VALUE: " + fieldValue, "cmaloy");<br />          }        <br />      }<br /></pre><br /><br />This is going to get the name and value of the Status and RigData fields.<br /><br />In this sample we would print to our log file:<br /><br />FIELD NAME: Status<br />FIELD VALUE: Success<br />FIELD NAME: RigData<br />FIELD VALUE: Whatever<br /><br />Of course you can do whatever at this point. If your status is Failure you can notify or update the log (etc.)</p>