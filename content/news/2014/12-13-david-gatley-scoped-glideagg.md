---
title: "Scoped GlideAggregate API Reference"
date: 2014-12-13T03:33:48.000Z
authors: ["David.Gatley"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=921e626ddbd0dbc01dcaf3231f96191c"
---
<h1 class="firstHeading" style="color: #000000; margin-top: 0.2em; margin-bottom: 0.1em; padding: 0.1em; font-family: Omnes-pro, Arial, Verdana, sans-serif; background-position: repeat;"><span>Scoped GlideAggregate API Reference</span></h1><p class="mw-body" style="color: #333333; font-family: Omnes-pro, Arial, Verdana, sans-serif; font-size: 14px;"></p><div style="border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #cccccc; padding-bottom: 4px;"><a href="https://lobo.servicenow.com/index.php?title=Main_Page" style="color: #031da7;" title="Main Page">Home</a> &gt; <a href="https://lobo.servicenow.com/index.php?title=Build" style="color: #031da7;" title="Build">Build</a>&gt; Scoped GlideAggregate API Reference<p></p><div style="font-size: 2em; color: red;"><p></p></div><p class="mw-content-ltr" dir="ltr" lang="en"></p><div class="noprint"><table class="topicbox" style="border: 1px solid #aaaaaa; margin-top: 10px; margin-left: 10px;"><tbody><tr><th style="text-align: center; padding: 5px 10px; background-color: #e0e0e0;">Application Scope Scripting</th></tr><tr><td style="padding: 5px 10px; background-color: #f6f6f6;"><div class="dtree"><div class="dtree"><div class="clip" style="padding-bottom: 1px;"><div class="dTreeNode"><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/empty.gif"/><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/page.gif"/>Scripting in Scoped Applications<p></p><p class="dTreeNode"><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/empty.gif"/><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/page.gif"/> Using Scoped Objects in Scripts</p><p class="dTreeNode"><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/empty.gif"/><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/page.gif"/> Logging</p></div></div></div><br/><p class="dtree"></p><div class="dtree"><div class="clip" style="padding-bottom: 1px;"><div class="dTreeNode"><a style="color: #031da7;"><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/nolines_plus.gif" style="border: 0px;"/></a><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/folder.gif"/><a class="node" style="color: #031da7; padding: 1px 2px;"> Scoped System API</a><p></p></div></div></div></div></td></tr><tr><th style="text-align: center; padding: 5px 10px; background-color: #e0e0e0;">Related Topics</th></tr><tr><td style="padding: 5px 10px; background-color: #f6f6f6;"><ul><li>Applications</li><li>Creating Custom Applications</li></ul></td></tr></tbody></table></div><h1 style="color: #000000; margin-top: 5px; margin-bottom: 0.6em; border-bottom-color: #333333; font-size: 20px; padding-top: 2em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">1 Overview</span></h1>The scoped GlideAggregate class is an extension of GlideRecord and allows database aggregation (COUNT, SUM, MIN, MAX, AVG) queries to be done. This can be helpful in creating customized reports or in calculations for calculated fields. GlideAggregation is an extension of GlideRecord and its use is probably best shown through a series of examples.<p style="margin-top: 0.4em; margin-bottom: 0.5em;">The scoped GlideAggregate API is available starting with the Fuji release.</p><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">1.1 Examples</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Here is an example that simply gets a count of the number of records in a table:</p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> incidents <span class="sy0" style="color: #339933;">=</span> <span class="nu0" style="color: #cc0000;">0</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">if</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> incidents <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;">There is no query associated with the above example but if you wanted to get a count of the incidents that were open then you simply add a query just as is done with GlideRecord. Here is an example to get a count of the number of active incidents.</p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addQuery</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'active'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'true'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> incidents <span class="sy0" style="color: #339933;">=</span> <span class="nu0" style="color: #cc0000;">0</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">if</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> incidents <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;">So in order to get a count of all of the open incidents by category the code would be:</p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addQuery</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'active'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'true'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">while</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> category <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">category</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> categoryCount <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">"The are currently "</span> <span class="sy0" style="color: #339933;">+</span> categoryCount <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" incidents with a category of "</span> <span class="sy0" style="color: #339933;">+</span> category<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;">The output will look like this:</p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: The are currently 1 incidents with a category of database x_custom_app: The are currently 3 incidents with a category of hardware x_custom_app: The are currently 6 incidents with a category of inquiry x_custom_app: The are currently 3 incidents with a category of network x_custom_app: The are currently 2 incidents with a category of request x_custom_app: The are currently 10 incidents with a category of software </pre><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Below is an example that is meant to show that you can ask for multiple aggregations. We are asking to see how many times records have been modified and we want the MIN, MAX, and AVG values.</p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MIN'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MAX'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'AVG'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">groupBy</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">while</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> min <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MIN'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> max <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MAX'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> avg <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'AVG'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> category <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">category</span>.<span class="me1" style="color: #660066;">getDisplayValue</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>category <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" Update counts: MIN = "</span> <span class="sy0" style="color: #339933;">+</span> min <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" MAX = "</span> <span class="sy0" style="color: #339933;">+</span> max <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" AVG = "</span> <span class="sy0" style="color: #339933;">+</span> avg<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;">The output will look like this:</p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: Database Update counts: MIN = 6 MAX = 46 AVG = 26.0000 x_custom_app: Hardware Update counts: MIN = 1 MAX = 7 AVG = 4.1667 x_custom_app: Inquiry / Help Update counts: MIN = 0 MAX = 33 AVG = 5.4000 x_custom_app: Network Update counts: MIN = 2 MAX = 36 AVG = 19.6000 x_custom_app: Request Update counts: MIN = 4 MAX = 31 AVG = 14.3333 x_custom_app: Software Update counts: MIN = 3 MAX = 94 AVG = 18.6000 </pre><h1 style="color: #000000; margin-top: 5px; margin-bottom: 0.6em; border-bottom-color: #333333; font-size: 20px; padding-top: 2em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">2 Method Summary</span></h1><table class="standard" style="border: 0px solid #777777; margin-top: 2em; margin-bottom: 2em;"><tbody><tr><th style="padding: 5px 10px; border: 1px solid #777777; background-color: #dfdbdc;">Return Type</th><th style="padding: 5px 10px; border: 1px solid #777777; background-color: #dfdbdc;">Method</th></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">void</td><td style="padding: 5px 10px; border: 1px solid #777777;">addAggregate(String agg, String name)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Adds an aggregate.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">void</td><td style="padding: 5px 10px; border: 1px solid #777777;">addEncodedQuery(String query)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Adds a query to the aggregate. Adds an encoded query to the other queries that may have been set for this aggregate.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">GlideQueryCondition</td><td style="padding: 5px 10px; border: 1px solid #777777;">addQuery(String name, String operator, String value)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Adds a query to the aggregate.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">GlideQueryCondition</td><td style="padding: 5px 10px; border: 1px solid #777777;">addNotNullQuery(String fieldName)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Adds a NOT NULL query to the aggregate.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">GlideQueryCondition</td><td style="padding: 5px 10px; border: 1px solid #777777;">addNullQuery(String fieldName)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Adds a NULL query to the aggregate.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">String</td><td style="padding: 5px 10px; border: 1px solid #777777;">getAggregate(String agg, String name)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Gets the value of the specified aggregate.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">void</td><td style="padding: 5px 10px; border: 1px solid #777777;">getAggregateEncodedQuery()<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Gets the query necessary to return the current aggregate.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">String</td><td style="padding: 5px 10px; border: 1px solid #777777;">getEncodedQuery()<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Retrieves the encoded query.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">Number</td><td style="padding: 5px 10px; border: 1px solid #777777;">getRowCount()<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Retrieves the number of rows in the GlideRecord.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">String</td><td style="padding: 5px 10px; border: 1px solid #777777;">getTableName()<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Retrieves the table name associated with this GlideRecord.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">String</td><td style="padding: 5px 10px; border: 1px solid #777777;">getValue(String name)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Gets the value of a field.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">void</td><td style="padding: 5px 10px; border: 1px solid #777777;">groupBy(String name)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Provides the name of a field to use in grouping the aggregates. May be called numerous times to set multiple group fields.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">Boolean</td><td style="padding: 5px 10px; border: 1px solid #777777;">hasNext()<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Determines if there are any more records in the GlideRecord.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">void</td><td style="padding: 5px 10px; border: 1px solid #777777;">next()<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Moves to the next record in the GlideAggregate.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">void</td><td style="padding: 5px 10px; border: 1px solid #777777;">orderBy(String name)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Orders the aggregates using the value of the specified field. The field will also be added to the group-by list.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">void</td><td style="padding: 5px 10px; border: 1px solid #777777;">orderByDesc(String name)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Sorts the aggregates into descending order based on the specified field.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">void</td><td style="padding: 5px 10px; border: 1px solid #777777;">query()<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Issues the query and gets the results.</dd></dl></td></tr></tbody></table><h1 style="color: #000000; margin-top: 5px; margin-bottom: 0.6em; border-bottom-color: #333333; font-size: 20px; padding-top: 2em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">3 Constructors</span></h1><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">3.1 GlideAggregate()</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Creates a GlideAggregate object.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>None</tt></li></ul><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">3.2 GlideAggregate(String tableName)</span></h2><span style="margin-top: 0.4em; margin-bottom: 0.5em;">Creates a GlideAggregate object on the specified table.</span><span style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></span><ul><li><tt>tableName</tt> - (String) the table.</li></ul><h1 style="color: #000000; margin-top: 5px; margin-bottom: 0.6em; border-bottom-color: #333333; font-size: 20px; padding-top: 2em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4 Method Detail</span></h1><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.1 addAggregate(String agg, String name)</span></h2><span style="margin-top: 0.4em; margin-bottom: 0.5em;">Adds an aggregate.</span><span style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></span><ul><li><tt>agg</tt> - (String) name of aggregate to add (for example, count, min, or max).</li><li><tt>name</tt> - (String) name of column to aggregate (by default, null).</li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>void</tt></dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> incidents <span class="sy0" style="color: #339933;">=</span> <span class="nu0" style="color: #cc0000;">0</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">if</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> incidents <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span> <span class="co1" style="color: #006600; font-style: italic;">//Number of incidents varies depending on the current state</span> <span class="co1" style="color: #006600; font-style: italic;">//of the incident table</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'Number of incidents: '</span> <span class="sy0" style="color: #339933;">+</span> incidents<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: Number of incidents: 63 </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.2 addEncodedQuery(String query)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Adds a query to the aggregate. Adds an encoded query to the other queries that may have been set for this aggregate.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>query</tt> - (String) an encoded query to add to the aggregate.</li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>void</tt></dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addEncodedQuery</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'active=true'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> incidents <span class="sy0" style="color: #339933;">=</span> <span class="nu0" style="color: #cc0000;">0</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">if</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> incidents <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="co1" style="color: #006600; font-style: italic;">//Number of incidents varies depending on the current state</span> <span class="co1" style="color: #006600; font-style: italic;">//of the incident table</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>incidents<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: 67 </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.3 addQuery(String name, String operator, String value)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Adds a query to the aggregate.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>name</tt> - (String) the query to add.</li><li><tt>operator</tt> - (String) the operator for the query.</li><li><tt>value</tt> - (String) the list of values to include in the query.</li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>GlideQueryCondition</tt> - the query condition.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="co1" style="color: #006600; font-style: italic;">//Output varies depending on the current state of the database</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addQuery</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'active'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'='</span><span class="sy0" style="color: #339933;">,</span><span class="st0" style="color: #3366cc;">'true'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">while</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> category <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">category</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> categoryCount <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">"There are currently "</span> <span class="sy0" style="color: #339933;">+</span> categoryCount <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" incidents with a category of "</span> <span class="sy0" style="color: #339933;">+</span> category<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: There are currently 1 incidents with a category of database x_custom_app: There are currently 5 incidents with a category of hardware x_custom_app: There are currently 42 incidents with a category of inquiry x_custom_app: There are currently 4 incidents with a category of network x_custom_app: There are currently 4 incidents with a category of request x_custom_app: There are currently 7 incidents with a category of software </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.4 addNotNullQuery(String fieldName)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Adds a NOT NULL query to the aggregate.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>fieldname</tt> - (String) the name of a field.</li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>GlideQueryCondition</tt> - the scoped query condition.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addNotNullQuery</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'short_description'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span>     <span class="co1" style="color: #006600; font-style: italic;">// Issue the query to the database to get all records</span> <span class="kw1" style="color: #000066; font-weight: bold;">while</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> <span class="co1" style="color: #006600; font-style: italic;">// add code here to process the aggregate</span> <span class="br0" style="color: #009900;">}</span></pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.5 addNullQuery(String fieldName)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Adds a NULL query to the aggregate.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>fieldname</tt> - (String) the name of a field.</li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>GlideQueryCondition</tt> - the scoped query condition.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addNullQuery</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'short_description'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span>     <span class="co1" style="color: #006600; font-style: italic;">// Issue the query to the database to get all records</span> <span class="kw1" style="color: #000066; font-weight: bold;">while</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> <span class="co1" style="color: #006600; font-style: italic;">// add code here to process the aggregate</span> <span class="br0" style="color: #009900;">}</span></pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.6 getAggregate(String agg, String name)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Gets the value of an aggregate from the current record.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>agg</tt> - (String) the type of the aggregate (e.g., SUM or COUNT).</li><li><tt>name</tt> - (String) the name of the field to get the aggregate from.</li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>String</tt> - the value of the aggregate.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> incidents <span class="sy0" style="color: #339933;">=</span> <span class="nu0" style="color: #cc0000;">0</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">if</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> incidents <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span> <span class="co1" style="color: #006600; font-style: italic;">//Number of incidents varies depending on the current state</span> <span class="co1" style="color: #006600; font-style: italic;">//of the incident table</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'Number of incidents: '</span> <span class="sy0" style="color: #339933;">+</span> incidents<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: Number of incidents: 63 </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.7 getAggregateEncodedQuery()</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Gets the query necessary to return the current aggregate.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>None</tt></li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>String</tt> - the encoded query to get the aggregate.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MIN'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">groupBy</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">while</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">getAggregateEncodedQuery</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: category=database x_custom_app: category=hardware x_custom_app: category=inquiry x_custom_app: category=network x_custom_app: category=request x_custom_app: category=software </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.8 getEncodedQuery()</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Retrieves the encoded query.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>None</tt></li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>String</tt> - the encoded query.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MIN'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MAX'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'AVG'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">groupBy</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">getEncodedQuery</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: ORDERBYcategory^GROUPBYcategory </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.9 getRowCount()</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Retrieves the number of rows in the GlideAggregate.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>None</tt></li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>Number</tt> - a count of rows.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MIN'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MAX'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'AVG'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">groupBy</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">getRowCount</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">while</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> min <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MIN'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> max <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MAX'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> avg <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'AVG'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> category <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">category</span>.<span class="me1" style="color: #660066;">getDisplayValue</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>category <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" Update counts: MIN = "</span> <span class="sy0" style="color: #339933;">+</span> min <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" MAX = "</span> <span class="sy0" style="color: #339933;">+</span> max <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" AVG = "</span> <span class="sy0" style="color: #339933;">+</span> avg<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: 6 x_custom_app: Database Update counts: MIN = 8 MAX = 48 AVG = 28.0000 x_custom_app: Hardware Update counts: MIN = 4 MAX = 14 AVG = 6.6250 x_custom_app: Inquiry / Help Update counts: MIN = 0 MAX = 34 AVG = 6.5714 x_custom_app: Network Update counts: MIN = 3 MAX = 37 AVG = 18.6000 x_custom_app: Request Update counts: MIN = 5 MAX = 39 AVG = 13.4000 x_custom_app: Software Update counts: MIN = 4 MAX = 98 AVG = 24.0000 </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.10 getTableName()</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Retrieves the table name associated with this GlideAggregate.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>None</tt></li></ul><strong>Returns:</strong><br/><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>String</tt> - the table name.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MIN'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MAX'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'AVG'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">groupBy</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">getTableName</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: incident </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.11 getValue(String name)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Gets the value of a field.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>name</tt> - (String) the name of the field.</li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>String</tt> - the value of the field.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MIN'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MAX'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'AVG'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">groupBy</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">while</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> min <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MIN'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> max <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MAX'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> avg <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'AVG'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> category <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">category</span>.<span class="me1" style="color: #660066;">getDisplayValue</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">"Current category is: "</span> <span class="sy0" style="color: #339933;">+</span> count.<span class="me1" style="color: #660066;">getValue</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: Current category is: software </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.12 groupBy(String name)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Provides the name of a field to use in grouping the aggregates. May be called numerous times to set multiple group fields.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>name</tt> - (String) name of the field to group-by.</li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>void</tt></dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MIN'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MAX'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'AVG'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">groupBy</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">while</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> min <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MIN'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> max <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'MAX'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> avg <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'AVG'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'sys_mod_count'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> category <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">category</span>.<span class="me1" style="color: #660066;">getDisplayValue</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>category <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" Update counts: MIN = "</span> <span class="sy0" style="color: #339933;">+</span> min <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" MAX = "</span> <span class="sy0" style="color: #339933;">+</span> max <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" AVG = "</span> <span class="sy0" style="color: #339933;">+</span> avg<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: Database Update counts: MIN = 8 MAX = 48 AVG = 28.0000 x_custom_app: Hardware Update counts: MIN = 4 MAX = 14 AVG = 6.6250 x_custom_app: Inquiry / Help Update counts: MIN = 0 MAX = 34 AVG = 6.5714 x_custom_app: Network Update counts: MIN = 3 MAX = 37 AVG = 18.6000 x_custom_app: Request Update counts: MIN = 5 MAX = 39 AVG = 13.4000 x_custom_app: Software Update counts: MIN = 4 MAX = 98 AVG = 24.0000 </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.13 hasNext()</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Determines if there are any more records in the GlideRecord.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>None</tt></li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>Boolean</tt> - true if there are more records in the query set.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw1" style="color: #000066; font-weight: bold;">if</span> <span class="br0" style="color: #009900;">(</span>agg.<span class="me1" style="color: #660066;">hasNext</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> dothis<span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="co1" style="color: #006600; font-style: italic;">// found it, do it</span> <span class="br0" style="color: #009900;">}</span> <span class="kw1" style="color: #000066; font-weight: bold;">else</span> <span class="br0" style="color: #009900;">{</span> dothat<span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="co1" style="color: #006600; font-style: italic;">// didn't find it</span> <span class="br0" style="color: #009900;">}</span></pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.14 next()</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Moves to the next record in the GlideAggregate.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>None</tt></li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>Boolean</tt> - true if there are more records in the query set, false if there are no more records in the query set.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> incidents <span class="sy0" style="color: #339933;">=</span> <span class="nu0" style="color: #cc0000;">0</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">if</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> incidents <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>incidents<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: 63 </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.15 orderBy(String name)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Orders the aggregates using the value of the specified field. The field will also be added to the group-by list.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>name</tt> - (String) name of the field to order the aggregates.</li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>void</tt></dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> agg <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> agg.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'count'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> agg.<span class="me1" style="color: #660066;">orderBy</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> agg.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">while</span> <span class="br0" style="color: #009900;">(</span>agg.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> category <span class="sy0" style="color: #339933;">=</span> agg.<span class="me1" style="color: #660066;">category</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> agg.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'count'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> agg2 <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> agg2.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'count'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> agg2.<span class="me1" style="color: #660066;">orderBy</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>category <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">": Current number of incidents:"</span> <span class="sy0" style="color: #339933;">+</span> count<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: database: Current number of incidents:2 x_custom_app: hardware: Current number of incidents:8 x_custom_app: inquiry: Current number of incidents:28 x_custom_app: network: Current number of incidents:5 x_custom_app: request: Current number of incidents:5 x_custom_app: software: Current number of incidents:11 </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.16 orderByDesc(String name)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Sorts the aggregates in descending order based on the specified field. The field will also be added to the group-by list.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>name</tt> - (String) name of the field to order the aggregates.</li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>void</tt></dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> agg <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> agg.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'count'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> agg.<span class="me1" style="color: #660066;">orderByDesc</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> agg.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">while</span> <span class="br0" style="color: #009900;">(</span>agg.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> category <span class="sy0" style="color: #339933;">=</span> agg.<span class="me1" style="color: #660066;">category</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> agg.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'count'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> agg2 <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> agg2.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'count'</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> agg2.<span class="me1" style="color: #660066;">orderBy</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'category'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>category <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">": Current number of incidents:"</span> <span class="sy0" style="color: #339933;">+</span> count<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: software: Current number of incidents:11 x_custom_app: request: Current number of incidents:5 x_custom_app: network: Current number of incidents:5 x_custom_app: inquiry: Current number of incidents:28 x_custom_app: hardware: Current number of incidents:8 x_custom_app: database: Current number of incidents:2 </pre></td></tr></tbody></table><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background-position: repeat;"><span class="mw-headline">4.17 query()</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Issues the query and gets the results.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>None</tt></li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>void</tt></dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><table style="border: 0px solid #777777; margin-top: 10px;"><tbody><tr><td style="padding: 5px 10px;"><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> count <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> GlideAggregate<span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'incident'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">addAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> count.<span class="me1" style="color: #660066;">query</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> incidents <span class="sy0" style="color: #339933;">=</span> <span class="nu0" style="color: #cc0000;">0</span><span class="sy0" style="color: #339933;">;</span> <span class="kw1" style="color: #000066; font-weight: bold;">if</span> <span class="br0" style="color: #009900;">(</span>count.<span class="me1" style="color: #660066;">next</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span> <span class="br0" style="color: #009900;">{</span> incidents <span class="sy0" style="color: #339933;">=</span> count.<span class="me1" style="color: #660066;">getAggregate</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'COUNT'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="br0" style="color: #009900;">}</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'Number of incidents: '</span> <span class="sy0" style="color: #339933;">+</span> incidents<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_app: Number of incidents: 63 </pre></td></tr></tbody></table></div>