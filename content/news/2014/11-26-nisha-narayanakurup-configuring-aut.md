---
title: "Configuring auto stop words and regenerate text indexes"
date: 2014-11-26T00:57:10.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=83bc6e25dbd0dbc01dcaf3231f961963"
---
<p>Text searching is one of the powerful tools within the ServiceNow application, which searches multiple tables within ServiceNow via a single transaction. Text search<span style="font-size: 10pt; line-height: 1.5em;"> enables us to find things easily without knowing which table or column the data is stored in. Search brings a logical collection of results grouped by table. I am going to show you how to configure the auto stop words and rebuild text indexes for a table.</span></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>You will find all the tables that are indexed under <strong>System definition &gt; Text indexes</strong>.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>A few months ago, <a title="" _jive_internal="true" class="jiveTT-hover-user jive-link-profile-small" data-containerid="-1" data-containertype="-1" data-objectid="23178" data-objecttype="3" href="/community?id=community_user_profile&user=c060d269db581fc09c9ffb651f961941">Britt Champeau</a> <span style="font-size: 13.63636302948px;">introduced us to </span><a title="" _jive_internal="true" data-containerid="2927" data-containertype="37" data-objectid="3234" data-objecttype="38" href="/community?id=community_blog&sys_id=1fdd6ae9dbd0dbc01dcaf3231f96199d">text index stop word searches</a><span style="font-size: 13.63636302948px;">.</span> Stop words are common words that are not indexed and won't appear in search results or be queried for search. <span style="font-size: 10pt; line-height: 1.5em;">Stop words are of 2 types, global stop words (implemented out of box) and automatic table specific stop words. Once the frequency of any word on a table reach a particular threshold, the </span><span style="font-size: 10pt; line-height: 1.5em;">system automatically designates it as a stop word. </span><span style="font-size: 10pt; line-height: 1.5em;">This auto stop threshold can be enabled by clicking the table names under System definition &gt; Text indexes. </span><span style="font-size: 10pt; line-height: 1.5em;">Enabling Stop Words on a table helps to reduce the size of the ts_ tables which will help to speed up the search process as well. The ServiceNow product documentation has</span><span style="font-size: 10pt; line-height: 1.5em;"> additional information on <a title="k-external-small" class="jive-link-external-small" href="http://wiki.servicenow.com/index.php?title=Administering_Zing_Text_Search" rel="nofollow" target="_blank">text search and stop words</a>.</span></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><h2>How to configure auto stop words followed by regeneration of text indexes: </h2><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p style="text-align: center;"><em>I am using this Task table as an example here</em></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p><strong>1. Set threshold for auto stop words:</strong></p><p>     a. Navigate to System Definition &gt; Text Indexes &gt; For eg: Open Task table record</p><p>     b. Check 'AutoStop' checkbox   and then set "Auto threshold" to 25,000.</p><p>     c. Save.</p><p>   <a _jive_internal="true" href="/servlet/JiveServlet/showImage/38-3652-15820/Screen Shot 2014-11-20 at 12.18.57 PM.png"><img  alt="Screen Shot 2014-11-20 at 12.18.57 PM.png" class="image-0 jive-image" height="474" src="37ef7882db9c9304b322f4621f96191f.iix" style="height: 184px; width: 620px; display: block; margin-left: auto; margin-right: auto;" width="1600"/></a></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p><strong>2. Reset Text Search Caches</strong></p><p>         Navigate to System Definition &gt; Text Indexes</p><p>         In Related links select "Reset Text Search Caches"</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p><a _jive_internal="true" href="/servlet/JiveServlet/showImage/38-3652-15821/Screen Shot 2014-11-20 at 12.21.33 PM.png"><img  alt="Screen Shot 2014-11-20 at 12.21.33 PM.png" class="image-1 jive-image" height="674" src="ba7cd4c6dbd81f048c8ef4621f961926.iix" style="height: 261px; width: 620px; display: block; margin-left: auto; margin-right: auto;" width="1600"/></a></p><p><strong>3. Run "TS Index Stats" job</strong></p><p>       a. Navigate to System Scheduler &gt; Scheduled Jobs &gt; Open the "TS Index Stats" record</p><p>       b. Select "Execute Now"</p><p>       c. Monitor job until it completes (either by watching the worker on the node that picks it up or checking the "state" from sys_trigger_list)</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p><strong>4. Set Stop Mode if stop words are generated. If the stop words are not generated lower the "auto threshold" value and repeat the above 3 steps.</strong></p><p>       a. Once "TS Index Stats" finishes, go back to the ts_index_name table</p><p>       b. Select the task record</p><p>       c. Scroll down to the stop words that were generated and go to the "Stop Mode" column, do a multi-select and change all the records to:"Neither Index Nor Query". </p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>See detailed instructions below:</p><p><a _jive_internal="true" href="/servlet/JiveServlet/showImage/38-3652-15864/Screen Shot 2014-11-20 at 4.10.56 PM.png"><img  alt="Screen Shot 2014-11-20 at 4.10.56 PM.png" class="image-0 jive-image" height="776" src="361abbf9db50db048c8ef4621f9619ca.iix" style="height: 301px; width: 620px; display: block; margin-left: auto; margin-right: auto;" width="1600"/></a></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>                               4.c.i.     Copy URL only for the stop words of a table and open in another window .</p><p>                               4.c.ii.     Right click on column header   "Stop Mode"</p><p>                               4.c.iii.   Select "Update All" ( This appears only if you open the stop words in new window )</p><p>                               4.c.iv.   A new form opens where select "Neither Index Nor Query" from drop down and click on "Update" ) (Neither index nor query tells the system not to index the word or be queried.)</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p><strong>5. Regenerate Indexes</strong></p><p>       a. Go back to the <strong>ts_index_name &gt; task record</strong>.   Select the related link 'Regenerate Text Index'</p><p>       b. Verify that the "<span style="color: #485563; font-family: Arial;">text index event process</span>" is processing and finishes, Monitor the job until it completes</p><p><span style="font-size: 10pt; line-height: 1.5em;"><br/></span></p><p><span style="font-size: 10pt; line-height: 1.5em;"> Repeat above steps for all tables you are planning to configure auto stop words and regenerate text indexes.</span></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>Regeneration of indexes may take a few hours depending on the size of tables and other factors. <span style="font-size: 10pt; line-height: 1.5em;">This can cause performance degradation during the process and should be planned after business hours. </span></p>