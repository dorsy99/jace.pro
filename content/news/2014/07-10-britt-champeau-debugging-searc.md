---
title: "Debugging Search"
date: 2014-07-10T01:19:58.000Z
authors: ["britt.champeau"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=1fdd6ae9dbd0dbc01dcaf3231f96199d"
---
<p style="margin-bottom: 12.0pt;"><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;">Searching in HI or any ServiceNow instance can feel like trying to find a grain of salt in a bucket of sand. As ServiceNow's Knowledge Engineer, one of my major focuses is debugging Zing, which means digging through the Search Log for problematic queries. After sifting through tens of thousands of searches, I've identified a few patterns I believe may be helpful to those of you who feel like giving up on that grain of salt:</span></p><p><span style="font-size: 10pt; font-family: Arial;"><br/></span></p><ol><li><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;">Search strings that include the word </span><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;"><strong>'null'</strong></span><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;"> do not return results. </span></li><li><span style="font-size: 10pt; font-family: Arial;"><strong>Text Index Stop Words</strong></span><span style="font-size: 10pt; font-family: Arial;"> can kill a search.</span></li><li><span style="font-size: 10pt; font-family: Arial;">Queries that contain <strong>mid-phrase/ mid-word punctuation</strong> do not consistently return results even when there is an exact match like an error.</span></li></ol><p><span style="font-size: 10pt; font-family: Arial;"><br/></span></p><p><span style="font-size: 10pt; font-family: Arial;"><strong>1. 'Null'-ified Searches</strong></span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 10pt; font-family: Arial;">When you are looking at any table and you filter out all the empty fields, the breadcrumb says to include results where the <em>field !=NULL</em>. Search uses the same types of filters as tables and to a table query 'null' refers to a non-existent value, so including the search term 'null' is roughly the same as asking for results that don't exist.   </span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 10pt; font-family: Arial;"><br/></span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 10pt; font-family: Arial;">When filtering the <em>Knowledge&gt;Edit</em> table for <em>Article Title contains null&gt; Audience = Public</em>, there are 6 results:</span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 10pt; font-family: Arial;"><br/></span></p><p style="margin-top: 2.4pt; margin-bottom: 2.4pt;"><span style="font-size: 10pt; font-family: Arial;"><a _jive_internal="true" href="/servlet/JiveServlet/showImage/38-3234-11668/Screen Shot 2014-07-09 at 10.52.17 AM.JPG"><img  alt="Screen Shot 2014-07-09 at 10.52.17 AM.JPG" class="image-0 jive-image" height="192" src="61cb7331dbd01304b322f4621f961994.iix" style="height: 191.68548387096774px; width: 417px; display: block; margin-left: auto; margin-right: auto;" width="417"/></a><br/></span></p><p><span style="font-size: 10pt; font-family: Arial;">However, when searching <em>Knowledge&gt; View</em> for null, no results are returned:</span></p><p><span style="font-size: 10pt; font-family: Arial;"><br/></span></p><p><a _jive_internal="true" href="/servlet/JiveServlet/showImage/38-3234-11669/Screen Shot 2014-07-09 at 10.57.18 AM.JPG"><img  alt="Screen Shot 2014-07-09 at 10.57.18 AM.JPG" class="image-0 jive-image" height="137" src="7c2429cedbdc13043eb27a9e0f96194d.iix" style="height: 136.86129032258066px; width: 418px; display: block; margin-left: auto; margin-right: auto;" width="418"/></a></p><p><span style="font-size: 10pt; font-family: Arial;">To be clear, it doesn't matter if 'null' is the only word or a term in an exact string phrase. The only time I saw results was when it was not surrounded by spaces. For example, </span><span style="font-size: 10pt; font-family: Courier;">"</span><span style="font-size: 10.0pt; font-family: Courier; color: #485563;">NullPointerException"</span><span style="font-size: 10.0pt; font-family: Arial; color: #485563;"> returns multiple results:</span></p><p><span style="font-size: 10.0pt; font-family: Arial; color: #485563;"><br/></span></p><p><span style="font-size: 10.0pt; font-family: Arial; color: #485563;"><a _jive_internal="true" href="/servlet/JiveServlet/showImage/38-3234-11670/Screen Shot 2014-07-09 at 10.58.43 AM.JPG"><img  alt="Screen Shot 2014-07-09 at 10.58.43 AM.JPG" class="image-1 jive-image" height="220" src="560c7c8edb1097049c9ffb651f9619df.iix" style="height: 219.93387096774194px; width: 417px; display: block; margin-left: auto; margin-right: auto;" width="417"/></a><br/></span></p><p><span style="font-size: 10.0pt; font-family: Arial; color: #485563;"> While </span><span style="font-size: 10pt; font-family: Arial;">"</span><span style="font-size: 10.0pt; font-family: Courier;">Email address converted to null</span><span style="font-size: 10pt; font-family: Arial;">" returned 0 results:</span></p><p><span style="font-size: 10pt; font-family: Arial;"><br/></span></p><p><span style="font-size: 10pt; font-family: Arial;"><a _jive_internal="true" href="/servlet/JiveServlet/showImage/38-3234-11671/Screen Shot 2014-07-09 at 11.00.04 AM.JPG"><img  alt="Screen Shot 2014-07-09 at 11.00.04 AM.JPG" class="jive-image image-2" height="134" src="8b9ad042dbd89fc03eb27a9e0f9619d1.iix" style="height: 133.8709677419355px; width: 415px; display: block; margin-left: auto; margin-right: auto;" width="415"/></a></span></p><p><span style="font-size: 10pt; font-family: Arial;">For more information on this issue, review the following HI Knowledge Article: <a title="k-external-small" class="jive-link-external-small" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0539504" rel="nofollow" target="_blank">KB0539504</a>.<br/></span></p><p><span style="font-size: 10pt; font-family: Arial;"><strong><br/></strong></span></p><p><span style="font-size: 10pt; font-family: Arial;"><strong>2. Text Indexes Stop Word Searches</strong></span></p><p><span style="font-size: 10pt; font-family: Arial;">Roughly a month ago, we were experiencing issues when searching for a specific product documentation article titled <em>"Transferring Update Sets."</em> Unfortunately, though the Short Description/ Article Title of the article was an exact match to the query, no results were returned. After a baffling few weeks, I finally checked the Text Index. The word 'update' was actually on the <em>kb_knowledge</em> Ts Index Stop Word Table. Always be aware of what words you have entered as Text Index Stop Words, ensuring you have checked the table-specific stop words.   </span></p><p><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;"><br/></span></p><p><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;">To check for table-specific stop words, open </span><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;"><em>System Definition&gt; Text Indexes</em></span><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;">, then filter for your table. For Knowledge Search, select table </span><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;"><em>kb_knowledge</em></span><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;">. At the bottom of the </span><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;"><em>kb_knowledge Ts Index</em></span><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;"> form, there is a related list with the </span><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;"><em>Ts Index Stops</em></span><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;"> for your table. If one of the words in your query is on this list, you may want to consider removing it. </span></p><p><span style="font-size: 10pt; font-family: Arial;"><a _jive_internal="true" href="/servlet/JiveServlet/showImage/38-3234-11672/Screen Shot 2014-07-09 at 11.00.46 AM.JPG"><img  alt="Screen Shot 2014-07-09 at 11.00.46 AM.JPG" class="jive-image image-3" height="219" src="30f9fb35db145fc03eb27a9e0f9619dd.iix" style="height: 219.06341463414634px; width: 412px; display: block; margin-left: auto; margin-right: auto;" width="412"/></a><br/></span></p><p><span style="font-size: 10pt; font-family: Arial;">After 'update' was removed from the list of <em>Ts Index Stops</em> for <em>kb_knowledge</em>, multiple results were retrieved: <span style="font-size: 10pt; font-family: Arial;"><a title="k-external-small" class="jive-link-external-small" href="https://hi.service-now.com/kb_find.do?sysparm_search=transferring+update+sets" rel="nofollow" target="_blank">Transferring Update Sets Search.</a></span><span style="font-size: 10pt; font-family: Arial;"><a title="k-external-small" class="jive-link-external-small" href="https://hi.service-now.com/kb_find.do?sysparm_ck=78fb41b96f752100d3500bae9f3ee407b6a9ed8a73a072f13dedd825477635dec87b8049&amp;sysparm_search=transferring+update+sets&amp;sysparm_nameofstack=&amp;sysparm_topic=&amp;ni.dependent.topic=kb_knowledge.category&amp;sysparm_category" rel="nofollow" target="_blank"> </a></span>Allowing the search to check for exact matches before removing stop words from the query can resolve this issue.</span></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p><span style="font-size: 10pt; font-family: Arial;"><strong>3. Mid-Phrase/ Mid-Word Punctuation Punctuates Results</strong></span></p><p><span style="font-size: 10pt; font-family: Arial;">Search query <em>"We are using "Default SLA workflow' to send the notification after 50%, 75% and 100% completion of,"</em> returns 0 results, but changing the apostrophe after <em>'workflow'</em> to a quotation mark and removing the comma after <em>'50%'</em> returns multiple results.</span></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p><span style="font-family: Arial; font-size: 10pt; line-height: 1.5em;"><strong>More Search Information to Come!</strong></span></p><p><span style="font-size: 10pt; font-family: Arial;">Hopefully this information helps you to not only find that grain of salt, but to turn it into a block of salt sitting on top of the bucket. To see future blogs, follow me on the Community. I'll keep the search issues coming as they are identified.</span></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p><span style="font-size: 10pt; font-family: Arial;">For additional information related to Search and Zing, see <a title="k-external-small" class="jive-link-external-small" href="http://wiki.servicenow.com/index.php?title=Administering_Zing_Text_Search" rel="nofollow" target="_blank">Administering Zing Text Search</a> and <a title="k-external-small" class="jive-link-external-small" href="http://wiki.servicenow.com/index.php?title=Document_scoring" rel="nofollow" target="_blank">Document Scoring</a> in the ServiceNow product documentation.</span></p>