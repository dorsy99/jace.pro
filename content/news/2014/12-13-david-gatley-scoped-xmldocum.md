---
title: "Scoped XMLDocument API Reference"
date: 2014-12-13T03:41:38.000Z
authors: ["David.Gatley"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=805de229dbd0dbc01dcaf3231f961943"
---
<h1 class="firstHeading" style="color: #000000; margin-top: 0.2em; margin-bottom: 0.1em; padding: 0.1em; background-position: repeat;"><span>Scoped XMLDocument2 API Reference</span></h1><p class="mw-body"></p><div style="font-size: 14px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #cccccc; padding-bottom: 4px; color: #333333; font-family: Omnes-pro, Arial, Verdana, sans-serif;"><a href="https://lobo.servicenow.com/index.php?title=Main_Page" style="color: #031da7;" title="Main Page">Home</a> &gt; <a href="https://lobo.servicenow.com/index.php?title=Script_in_ServiceNow" style="color: #031da7;" title="Script in ServiceNow">Script</a> &gt; <a href="https://lobo.servicenow.com/index.php?title=Server_API_Reference" style="color: #031da7;" title="Server API Reference">Server APIs</a>&gt; Glide Server APIs &gt; Scoped XMLDocument2 API Reference<div style="font-size: 2em; color: red;"><p></p></div><p class="mw-content-ltr" dir="ltr" lang="en" style="color: #333333; font-family: Omnes-pro, Arial, Verdana, sans-serif; font-size: 14px;"></p><div class="noprint"><table class="topicbox" style="border: 1px solid #aaaaaa; margin-top: 10px; margin-left: 10px;"><tbody><tr><th style="text-align: center; padding: 5px 10px; background-color: #e0e0e0;">Application Scope Scripting</th></tr><tr><td style="padding: 5px 10px; background-color: #f6f6f6;"><div class="dtree"><div class="dtree"><div class="clip" style="padding-bottom: 1px;"><div class="dTreeNode"><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/empty.gif"/><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/page.gif"/>Scripting in Scoped Applications<p></p><p class="dTreeNode"><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/empty.gif"/><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/page.gif"/> Using Scoped Objects in Scripts</p><p class="dTreeNode"><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/empty.gif"/><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/page.gif"/> Logging</p></div></div></div><br/><p class="dtree"></p><div class="dtree"><div class="clip" style="padding-bottom: 1px;"><div class="dTreeNode"><a style="color: #031da7;"><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/nolines_plus.gif" style="border: 0px;"/></a><img alt="" class="jiveImage" src="https://lobo.servicenow.com/extensions/TreeAndMenu/img/folder.gif"/><a class="node" style="color: #031da7; padding: 1px 2px;"> Scoped System API</a><p></p></div></div></div></div></td></tr><tr><th style="text-align: center; padding: 5px 10px; background-color: #e0e0e0;">Related Topics</th></tr><tr><td style="padding: 5px 10px; background-color: #f6f6f6;"><ul><li>Applications</li><li>Creating Custom Applications</li></ul></td></tr></tbody></table></div><h1 style="color: #000000; margin-top: 5px; margin-bottom: 0.6em; border-bottom-color: #333333; font-size: 20px; padding-top: 2em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">1 Overview</span></h1><span style="margin-top: 0.4em; margin-bottom: 0.5em;">XMLDocument2 is a JavaScript Object wrapper for parsing and extracting XML data from an XML document. Use this JavaScript class to instantiate an object from an XML string, usually a return value from a Web Service invocation, or the XML payload of ECC Queue. Using the XMLDocument object in a JavaScript business rule lets you query values from the XML elements and attributes directly.</span><span style="margin-top: 0.4em; margin-bottom: 0.5em;">The Scoped XMLDocument2 API is available starting with the Fuji release.</span><h1 style="color: #000000; margin-top: 5px; margin-bottom: 0.6em; border-bottom-color: #333333; font-size: 20px; padding-top: 2em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">2 Method Summary</span></h1><table class="standard sortable jquery-tablesorter" style="border: 0px solid #777777; margin-top: 2em; margin-bottom: 2em;"><thead><tr><th class="headerSort" style="padding: 5px 21px 5px 10px; border: 1px solid #777777; background-color: #dfdbdc; background-position: no-repeat;" title="Sort ascending">Return Type</th><th class="headerSort" style="padding: 5px 21px 5px 10px; border: 1px solid #777777; background-color: #dfdbdc; background-position: no-repeat;" title="Sort ascending">Method</th></tr></thead><tbody><tr><td style="padding: 5px 10px; border: 1px solid #777777;">void</td><td style="padding: 5px 10px; border: 1px solid #777777;">parseXML(String xmlDoc)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Parses the XML document.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">String</td><td style="padding: 5px 10px; border: 1px solid #777777;">getNodeText(String xpath)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Gets all the text children from the node referenced in the xpath.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">XMLNode</td><td style="padding: 5px 10px; border: 1px solid #777777;">getNode(String xpath)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Gets the node specified in the xpath.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">XMLNode</td><td style="padding: 5px 10px; border: 1px solid #777777;">getFirstNode(String xpath)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Gets the first node in the given xpath.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">XMLNode</td><td style="padding: 5px 10px; border: 1px solid #777777;">getNextNode(Object prev)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Gets the next node in the current xpath.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">XMLNode</td><td style="padding: 5px 10px; border: 1px solid #777777;">createElement(String name)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Creates an element for the current node.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">XMLNode</td><td style="padding: 5px 10px; border: 1px solid #777777;">createElementWithTextValue(String name, String value)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Creates an element with a text value for the current node.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">void</td><td style="padding: 5px 10px; border: 1px solid #777777;">setCurrentElement(XMLNode element)<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Sets the value of the current element.</dd></dl></td></tr><tr><td style="padding: 5px 10px; border: 1px solid #777777;">XMLNode</td><td style="padding: 5px 10px; border: 1px solid #777777;">getDocumentElement()<dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;">Gets the document element for the current node.</dd></dl></td></tr></tbody></table><h1 style="color: #000000; margin-top: 5px; margin-bottom: 0.6em; border-bottom-color: #333333; font-size: 20px; padding-top: 2em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">3 Constructors</span></h1><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">3.1 XMLDocument2()</span></h2><span style="margin-top: 0.4em; margin-bottom: 0.5em;">Instantiates an XMLDocument object.</span><span style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></span><ul><li>None</li></ul><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">3.2 XMLDocument2(XMLStreamDocument xmlDocument)</span></h2><span style="margin-top: 0.4em; margin-bottom: 0.5em;">Instantiates an XMLDocument object using a given XML document.</span><span style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></span><ul><li><tt>xmlDocument</tt> - (XMLStreamDocument) the XML document.</li></ul><h1 style="color: #000000; margin-top: 5px; margin-bottom: 0.6em; border-bottom-color: #333333; font-size: 20px; padding-top: 2em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">4 Method Details</span></h1><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">4.1 parseXML(String xmlDoc)</span></h2><span style="margin-top: 0.4em; margin-bottom: 0.5em;">Parses the XML document.</span><span style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></span><ul><li><tt>xmlDoc</tt> - (String) the document to parse.</li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>void</tt></dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;">The following code parses the string to org.w3c.dom.Document type:</p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlString <span class="sy0" style="color: #339933;">=</span> <span class="st0" style="color: #3366cc;">"&lt;test&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>xxx<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;abcd1234&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;three boo=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yah<span class="es0" style="color: #000099; font-weight: bold;">\"</span> att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yyy<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;1234abcd&lt;/three&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two&gt;another&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;/one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;number&gt;1234&lt;/number&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">"&lt;/test&gt;"</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlDoc <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> XMLDocument2<span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> xmlDoc.<span class="me1" style="color: #660066;">parseXML</span><span class="br0" style="color: #009900;">(</span>xmlString<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">4.2 getNodeText(String xpath)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Gets all the text children from the node referenced in the xpath.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>path</tt> - (String) the xpath.</li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>Scoped XMLNode</tt> - the text children in the xpath.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlString <span class="sy0" style="color: #339933;">=</span> <span class="st0" style="color: #3366cc;">"&lt;test&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>xxx<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;abcd1234&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;three boo=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yah<span class="es0" style="color: #000099; font-weight: bold;">\"</span> att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yyy<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;1234abcd&lt;/three&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two&gt;another&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;/one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;number&gt;1234&lt;/number&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">"&lt;/test&gt;"</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmldoc <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> XMLDocument2<span class="br0" style="color: #009900;">(</span>xmlString<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>xmldoc.<span class="me1" style="color: #660066;">getNodeText</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">"//two"</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_scope: abcd1234 </pre><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">4.3 getNode(String xpath)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Gets the node specified in the xpath.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>path</tt> - (String) the xpath.</li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>Scoped XMLNode</tt> - the current node.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlString <span class="sy0" style="color: #339933;">=</span> <span class="st0" style="color: #3366cc;">"&lt;test&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>xxx<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;abcd1234&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;three boo=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yah<span class="es0" style="color: #000099; font-weight: bold;">\"</span> att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yyy<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;1234abcd&lt;/three&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two&gt;another&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;/one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;number&gt;1234&lt;/number&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">"&lt;/test&gt;"</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmldoc <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> XMLDocument2<span class="br0" style="color: #009900;">(</span>xmlString<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> xmldoc.<span class="me1" style="color: #660066;">getNode</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">"/test/one/two"</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">4.4 getFirstNode(String xpath)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Gets the first node in the given xpath.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>path</tt> - (String) the xpath.</li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>Scoped XMLNode</tt> - the first node.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlString <span class="sy0" style="color: #339933;">=</span> <span class="st0" style="color: #3366cc;">"&lt;test&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>xxx<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;abcd1234&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;three boo=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yah<span class="es0" style="color: #000099; font-weight: bold;">\"</span> att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yyy<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;1234abcd&lt;/three&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two&gt;another&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;/one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;number&gt;1234&lt;/number&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">"&lt;/test&gt;"</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlDoc <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> XMLDocument2<span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> xmlDoc.<span class="me1" style="color: #660066;">parseXML</span><span class="br0" style="color: #009900;">(</span>xmlString<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> foo <span class="sy0" style="color: #339933;">=</span> xmlDoc. <span class="me1" style="color: #660066;">getFirstNode</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'/test/one/two'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>foo.<span class="me1" style="color: #660066;">getTextContent</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_scope: abcd1234 </pre><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">4.5 getNextNode(Object prev)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Gets the node after the given node.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>prev</tt> - (Object) the previous node.</li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>Scoped XMLNode</tt> - the next node.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlString <span class="sy0" style="color: #339933;">=</span> <span class="st0" style="color: #3366cc;">"&lt;test&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>xxx<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;abcd1234&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;three boo=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yah<span class="es0" style="color: #000099; font-weight: bold;">\"</span> att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yyy<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;1234abcd&lt;/three&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two&gt;another&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;/one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;number&gt;1234&lt;/number&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">"&lt;/test&gt;"</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlDoc <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> XMLDocument2<span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> xmlDoc.<span class="me1" style="color: #660066;">parseXML</span><span class="br0" style="color: #009900;">(</span>xmlString<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> foo <span class="sy0" style="color: #339933;">=</span> xmlDoc. <span class="me1" style="color: #660066;">getFirstNode</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">'/test'</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> foo2 <span class="sy0" style="color: #339933;">=</span> xmlDoc.<span class="me1" style="color: #660066;">getNextNode</span><span class="br0" style="color: #009900;">(</span>foo<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>foo.<span class="me1" style="color: #660066;">getTextContent</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_scope: abcd1234 1234abcd another 1234 </pre><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">4.6 createElement(String name)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Creates an element for the current node.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>name</tt> - (String) the element name.</li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>void</tt></dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlString <span class="sy0" style="color: #339933;">=</span> <span class="st0" style="color: #3366cc;">"&lt;test&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>xxx<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;abcd1234&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;three boo=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yah<span class="es0" style="color: #000099; font-weight: bold;">\"</span> att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yyy<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;1234abcd&lt;/three&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two&gt;another&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;/one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;number&gt;1234&lt;/number&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">"&lt;/test&gt;"</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmldoc <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> XMLDocument2<span class="br0" style="color: #009900;">(</span>xmlString<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> xmldoc.<span class="me1" style="color: #660066;">createElement</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">"new"</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">"test"</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="co1" style="color: #006600; font-style: italic;">// creates the new element at the document element level if setCurrent is never called</span> xmldoc.<span class="me1" style="color: #660066;">createElement</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">"new2"</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="co1" style="color: #006600; font-style: italic;">// calling without a value will create a new element by itself</span>     gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>xmldoc<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;test&gt; &lt;one&gt; &lt;two att="xxx"&gt;abcd1234&lt;/two&gt; &lt;three att="yyy" boo="yah"&gt;1234abcd&lt;/three&gt; &lt;two&gt;another&lt;/two&gt; &lt;/one&gt; &lt;number&gt;1234&lt;/number&gt; &lt;new&gt;test&lt;/new&gt; &lt;new2/&gt; &lt;/test&gt; </pre><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">4.7 createElementWithTextValue(String name, String value)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Creates an element with a text value for the current node.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>name</tt> - (String) the element name.</li><li><tt>value</tt> - (String) the element text value.</li></ul><strong>Returns:</strong><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>Scoped XMLNode</tt> - the current node.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlString <span class="sy0" style="color: #339933;">=</span> <span class="st0" style="color: #3366cc;">"&lt;test&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>xxx<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;abcd1234&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;three boo=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yah<span class="es0" style="color: #000099; font-weight: bold;">\"</span> att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yyy<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;1234abcd&lt;/three&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two&gt;another&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;/one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;number&gt;1234&lt;/number&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">"&lt;/test&gt;"</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmldoc <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> XMLDocument2<span class="br0" style="color: #009900;">(</span>xmlString<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> xmldoc.<span class="me1" style="color: #660066;">createElement</span><span class="br0" style="color: #009900;">(</span><span class="st0" style="color: #3366cc;">"new"</span><span class="sy0" style="color: #339933;">,</span> <span class="st0" style="color: #3366cc;">"test"</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;test&gt; &lt;one&gt; &lt;two att="xxx"&gt;abcd1234&lt;/two&gt; &lt;three att="yyy" boo="yah"&gt;1234abcd&lt;/three&gt; &lt;two&gt;another&lt;/two&gt; &lt;/one&gt; &lt;number&gt;1234&lt;/number&gt; &lt;new&gt;test&lt;/new&gt; &lt;/test&gt; </pre><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">4.8 setCurrentElement(XMLNode element)</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Sets the value of the current element.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li><tt>element</tt> - (Scoped XMLNode) the element to set as current.</li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>void</tt></dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlString <span class="sy0" style="color: #339933;">=</span> <span class="st0" style="color: #3366cc;">"&lt;test&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>xxx<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;abcd1234&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;three boo=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yah<span class="es0" style="color: #000099; font-weight: bold;">\"</span> att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yyy<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;1234abcd&lt;/three&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two&gt;another&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;/one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;number&gt;1234&lt;/number&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">"&lt;/test&gt;"</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlDoc <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> XMLDocument2<span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> xmlDoc.<span class="me1" style="color: #660066;">parseXML</span><span class="br0" style="color: #009900;">(</span>xmlString<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="co1" style="color: #006600; font-style: italic;">//returns the root of the document tree, and provides the primary access to the document's data.</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> documentelement <span class="sy0" style="color: #339933;">=</span> xmlDoc.<span class="me1" style="color: #660066;">getDocumentElement</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="co1" style="color: #006600; font-style: italic;">//returns org.w3c.dom.Element</span> xmlDoc.<span class="me1" style="color: #660066;">setCurrentElement</span><span class="br0" style="color: #009900;">(</span>documentelement<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><h2 style="border-top-style: solid; border-top-color: #000000; color: #000000; margin-top: 10px; font-size: 18px; padding-top: 1.4em; padding-bottom: 5px; background: none 0 0 repeat scroll transparent;"><span class="mw-headline">4.9 getDocumentElement()</span></h2><p style="margin-top: 0.4em; margin-bottom: 0.5em;">Gets the document element for the current node.</p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Parameters:</strong></p><ul><li>None</li></ul><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Returns:</strong></p><dl style="margin-bottom: 0.5em; margin-top: 0.2em;"><dd style="margin-bottom: 0.1em; margin-left: 1.6em;"><tt>Scoped XMLNode</tt> - the document element.</dd></dl><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Example:</strong></p><p class="javascript source-javascript" style="font-family: monospace;"></p><pre class="de1" style="font-family: monospace; color: #000000; background: none;"><span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlString <span class="sy0" style="color: #339933;">=</span> <span class="st0" style="color: #3366cc;">"&lt;test&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>xxx<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;abcd1234&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;three boo=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yah<span class="es0" style="color: #000099; font-weight: bold;">\"</span> att=<span class="es0" style="color: #000099; font-weight: bold;">\"</span>yyy<span class="es0" style="color: #000099; font-weight: bold;">\"</span>&gt;1234abcd&lt;/three&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;two&gt;another&lt;/two&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;/one&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">" &lt;number&gt;1234&lt;/number&gt;"</span> <span class="sy0" style="color: #339933;">+</span> <span class="st0" style="color: #3366cc;">"&lt;/test&gt;"</span><span class="sy0" style="color: #339933;">;</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> xmlDoc <span class="sy0" style="color: #339933;">=</span> <span class="kw2" style="color: #003366; font-weight: bold;">new</span> XMLDocument2<span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> xmlDoc.<span class="me1" style="color: #660066;">parseXML</span><span class="br0" style="color: #009900;">(</span>xmlString<span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="co1" style="color: #006600; font-style: italic;">//returns the root of the document tree, and provides the primary access to the document's data.</span> <span class="kw2" style="color: #003366; font-weight: bold;">var</span> documentelement <span class="sy0" style="color: #339933;">=</span> xmlDoc.<span class="me1" style="color: #660066;">getDocumentElement</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span> <span class="co1" style="color: #006600; font-style: italic;">//returns org.w3c.dom.Element</span> gs.<span class="me1" style="color: #660066;">info</span><span class="br0" style="color: #009900;">(</span>documentelement.<span class="me1" style="color: #660066;">getTextContent</span><span class="br0" style="color: #009900;">(</span><span class="br0" style="color: #009900;">)</span><span class="br0" style="color: #009900;">)</span><span class="sy0" style="color: #339933;">;</span></pre><p></p><p style="margin-top: 0.4em; margin-bottom: 0.5em;"><strong>Output:</strong></p><pre style="font-family: consolas, monaco, courier; border-left-width: 1px; color: #000000; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; background-color: #f9f9f9;">x_custom_scope: abcd1234       1234abcd       another       1234 </pre></div>