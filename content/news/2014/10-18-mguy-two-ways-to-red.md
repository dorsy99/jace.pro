---
title: "Two ways to Reduce Client Side lookups"
date: 2014-10-17T23:44:24.000Z
authors: ["mguy"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=6e3eee6ddbd0dbc01dcaf3231f961950"
---
<p>Have you found yourself frequently writing the same client scripts, glideAjax calls and Script Includes to access certain data about the current user? i.e. which groups they belong to, which roles they have in those groups, their country/location/manager etc.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>Well, if you do access the same data frequently, or find it hard to write particular client side scripts to capture this data, there is a method to actually set and store the <a title="k-external-small" class="jive-link-external-small" href="http://wiki.servicenow.com/index.php?title=Session_Client_Data" rel="nofollow" target="_blank">client session data</a>, then access it on demand in the client with one line. So I thought I would give a couple of practical examples where this can come in handy and help reduce those glideAjax calls even when they are running server side, asynchronously etc.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>The first thing you need to decide is which data would be useful to you in your client scripts. Once you know what is useful, you can create a <a title="k-external-small" class="jive-link-external-small" href="http://wiki.servicenow.com/index.php?title=Script_Actions" rel="nofollow" target="_blank">Script Action </a>to run on the event 'session.established' (i.e. when a user logs in).</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>Here are two examples of how you can reduce client side lookups.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><h3>Capture the groups the user belongs to plus a few other useful items that you can use later</h3><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p><a _jive_internal="true" href="/servlet/JiveServlet/showImage/38-3557-14722/Script Action.png"><img  alt="Script Action.png" class="image-0 jive-image" height="503" src="34461dcedb981b04ed6af3231f9619ad.iix" style="height: 503px; width: 807.9274611398964px;" width="808"/></a></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>So we now have this data being collected on login (note: this data is only collected once, so if a user changes groups or any other data, the data will still be the login data).</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>Now, how do we access this data? Well, it's just one line of code:</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p style="text-align: center;">var myGrps = g_user.getClientData('u_userGroupList');</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>It is a lot quicker than writing glideAjax to return users groups right?</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><h3></h3><h3><span style="font-size: 16px; line-height: 1.5em;"><br/></span></h3><h3><span style="font-size: 16px; line-height: 1.5em;">Use a client script to check if the current user is a member of the assignment group and prompt them be assigned to an incident</span></h3><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p><a _jive_internal="true" href="/servlet/JiveServlet/showImage/38-3557-14723/Client Script.png"><img  alt="Client Script.png" class="image-1 jive-image" height="505" src="9685b0c2db989344e9737a9e0f961933.iix" style="height: 505px; width: 828.3068783068783px;" width="828"/></a></p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p>I'm sure you can find many more uses for this method but checking for the groups the user belongs to is quite a common activity. Hopefully, this example will help and please let me know if you find other ways of using this and saving yourselves some time.</p><p style="min-height: 8pt; height: 8pt; padding: 0px;">  </p><p style="text-align: center;"><span style="font-size: 18pt;">What data are you constantly having to evaluate that could be stored in the session?</span></p>