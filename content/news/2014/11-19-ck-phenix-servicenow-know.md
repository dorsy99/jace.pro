---
title: "ServiceNow Knowledge Sharing  Task Flattening Server side scripting Import Sets"
date: 2014-11-18T12:44:44.000Z
authors: ["ck.phenix"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=44bc2a25dbd0dbc01dcaf3231f96192a"
---
<p><span style="font-size: 12pt; font-family: calibri, verdana, arial, sans-serif;">Here are some knowledge sharing info that can be followed when one is involved in ServiceNow development or any maintenance activity. The write up has 3 portions covering different topics as below:</span></p><p></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><strong style="font-size: 14pt;">Did you know?</strong></span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><strong style="font-size: 14pt;"><br/></strong></span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;">Task table flattening </span><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt; line-height: 1.5em;">is a concept of linking Task table with its child tables like Incident, Problem, and Change etc. as a single flat table at the database level. This is available OOB for MySQL databases starting from Dublin release. Oracle database requires ServiceNow technical support.</span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt; line-height: 1.5em;"><br/></span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><strong>What it means?</strong> Task table along with its child tables are now stored as single table in database without affecting the appearance or functionality in ServiceNow instance. This improves the query performance time over joined tables as compared to previous versions of ServiceNow. For example, querying both Incident and Problem table values would result in substantial improvement in response time.</span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><br/></span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><strong>What you need to verify before upgrading to Dublin?</strong> Custom applications extended from Task table needs to be limited, as the maximum size for a single row of a table in database (MySQL) is 65,535 bytes. For example, <code>utf8</code> characters requires 3 bytes per character, so for a 255 character set column, 255 * 3 = 765 bytes per value. A table cannot hold 65,535 / 765 = 85 such columns.</span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><br/></span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><strong style="font-size: 14pt;">ServiceNow Tips for Server-side Scripting</strong></span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><strong style="font-size: 14pt;"><br/></strong></span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;">Below are some useful tips while working on Business Rules, Workflows, Script Includes or any other server-side scripting:</span></p><ul style="list-style-type: disc;"><li><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;">Use indexed fields in your GlideRecord queries for faster response.</span></li><li><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;">Go to Content pane of a table and filter the records of your need. Right click on the filtered query and click on Copy query. Use this in your <strong>addEncodedQuery()</strong> method of GlideRecord for easy scripting.</span></li><li><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><strong>setLimit(<em>&lt;number&gt;</em>)</strong> method of GlideRecord allows you to query only the number of records.</span></li><li><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><strong>setWorkflow(false)</strong> method of GlideRecord helps you to turn off the Workflows, Business rules etc (in general all your server side scripts)</span></li><li><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;">Check the response time of your script by running it in Scripts-background module in your instance. Top of the Output screen shows the response in milliseconds.</span></li></ul><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><br/></span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><strong style="font-size: 14pt;">Best Practices in Import Sets Transformation</strong></span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;"><strong style="font-size: 14pt;"><br/></strong></span></p><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;">We recall some of the Best practices followed in ServiceNow Import Sets Transformation. Examples of applicability include LDAP integration, CMDB CI data import or any other integration with ServiceNow.</span></p><ul style="list-style-type: disc;"><li><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;">Choose indexed field for coalesce or index the coalesce field in the Transform map for faster performance of Import Set transformation.</span></li><li><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;">Set the Date time format <strong><em>&lt;yyyy-mm-dd HH:mm:ss&gt;</em> </strong>to preserve the 24 hour clock ServiceNow settings for mapping date time fields.</span></li><li><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;">It's always better to fill the Referenced value field name for reference field lookup mappings if the source data is other than display value of the table in Transform map.</span></li><li><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;">Choice action column in Transform map is always "create" by default. Make sure to change this to ignore or reject accordingly for reference and choice list fields to avoid invalid values in the referenced or choice list table.</span></li><li><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt; line-height: 1.5em;">Use Transform map variables like log, action, answer, error, ignore in relevant for your scripting for easy debugging.</span></li></ul><p><span style="font-family: calibri, verdana, arial, sans-serif; font-size: 12pt;">For any queries, contact us via <a title="rvicenow@blusurge.com" href="mailto:servicenow@blusurge.com">servicenow@blusurge.com</a> or <a title="fo@blusurge.com" href="mailto:info@blusurge.com">info@blusurge.com</a> </span></p>