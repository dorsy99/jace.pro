---
title: "Batch add all users to a Group"
date: 2014-11-06T01:41:21.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=9d8d2669dbd0dbc01dcaf3231f9619af"
---
<p>I just had to create a group which contains all 6000 users in our system. Here's a simple little script that can do just that:</p><p></p><p>//first create an empty group and get its sys_id</p><p>var group_sys_id = '&lt;sys_id here&gt;';</p><p></p><p>//the users table</p><p>var users = new GlideRecord('sys_user');</p><p>// Issue the query to the database to get all records</p><p></p><p>users.query(); </p><p>while (users.next()) {</p><p>         //put some filters here to get rid of any users you don't want to add</p><p>         if(users.email.indexOf('unfpa.org') != -1 &amp;&amp; users.active &amp;&amp; users.source.match(/ldap:uid=.+\, ou=People, o=UNFPA/)) {</p><p>               //the group members table</p><p>               var members = new GlideRecord('sys_user_grmember')</p><p>               members.initialize();</p><p>               members.group = group_sys_id;</p><p>               members.user = users.sys_id;</p><p>               if(members.insert() != null) {</p><p>                             gs.log("Updated: "+users.name);</p><p>                   } else {</p><p>                             gs.log("Failed to update: "+users.name);</p><p>                   }</p><p>         }</p><p>}</p>