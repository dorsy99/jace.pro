---
title: "Use a Read ACL on Database Views when Reporting in Fuji"
date: 2015-12-15T04:07:42.000Z
authors: ["sandra.villarreal"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=745d2629dbd0dbc01dcaf3231f96197c"
---
<p>Prior to Fuji, if a <a title="ki.servicenow.com/index.php?title=Database_Views" href="http://wiki.servicenow.com/index.php?title=Database_Views">database view</a> was defined and you had <a title="ki.servicenow.com/index.php?title=Using_Access_Control_Rules" href="http://wiki.servicenow.com/index.php?title=Using_Access_Control_Rules">ACL rights</a> to see the data in the underlying tables, you could view the results returned by the database view.   In Fuji, attempting to view the same information results in a "Security constraints prevent access to requested page" message.   The new behavior in Fuji is correct and is optimized to provide greater security.</p><p></p><p class="p1">Prior to Fuji, non-admin users were able to view the results returned by a database view, without having ACL rights on the database view directly.   This was incorrect behavior. Therefore, starting with Fuji, we are doing an additional tableLevelACLAllow() check when displaying a list.   The additional check ensures that users have access to the database view as well, just like it is done with other tables.   In order for a non-admin users to view the data, a read ACL will need to be <a title="i.service-now.com/kb_view.do?sysparm_article=KB0549634" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0549634">created directly on the database view.</a><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0549634"><br/></a></p><p class="p5"></p><p class="p1"><span class="s3">To workaround this, you will need to <strong>create a read ACL directly on the database view table</strong> to allow non-admin users to view database view records. </span></p><p class="p1"></p><h2 class="p1">To create an ACL rule:</h2><ol><li><a href="http://wiki.servicenow.com/index.php?title=High_Security_Settings#Elevated_Privilege" style="color: #031da7;" title="High Security Settings">Elevate privileges</a> to the security_admin role.</li><li>Navigate to <strong>System Security &gt; Access Control (ACL)</strong>.</li><li>Click <strong>New</strong>.</li><li>Define the <a title="ki.servicenow.com/index.php?title=Using_Access_Control_Rules#Matching_ACL_Rules_to_Objects" href="http://wiki.servicenow.com/index.php?title=Using_Access_Control_Rules#Matching_ACL_Rules_to_Objects" style="color: #031da7;">object</a> the ACL rule secures and the <a title="ki.servicenow.com/index.php?title=Using_Access_Control_Rules#Evaluating_ACL_Rule_Permission_Requirements" href="http://wiki.servicenow.com/index.php?title=Using_Access_Control_Rules#Evaluating_ACL_Rule_Permission_Requirements" style="color: #031da7;">permissions</a> required to access the object. See <a title="ki.servicenow.com/index.php?title=Using_Access_Control_Rules#Access_Control_Fields" href="http://wiki.servicenow.com/index.php?title=Using_Access_Control_Rules#Access_Control_Fields" style="color: #031da7;">Access Control Fields</a>.</li><li>Right-click the form header and select <strong>Save</strong>.<br/><br/></li></ol><h2 class="p1">Example of a read ACL on a view table:</h2><p class="p1"><img   alt="acl reporting database views.jpg" class="image-1 jive-image" src="825bb08adb1c9344e9737a9e0f96197f.iix" style="width: 620px; height: 411px; display: block; margin-left: auto; margin-right: auto;"/></p><p class="p1"></p><p class="p1"><span style="color: #333333; font-family: Omnes-pro, Arial, Verdana, sans-serif;">Please make sure the "Operation" field is set to "read" and the "Name" field is set to the </span><span style="color: #333333; font-family: Omnes-pro, Arial, Verdana, sans-serif;">&lt;</span><span style="color: #333333; font-family: Omnes-pro, Arial, Verdana, sans-serif;"><em>The name of the DB View</em></span><span style="color: #333333; font-family: Omnes-pro, Arial, Verdana, sans-serif;">&gt;.   In addition, the "Requires role" should be set to </span><span style="color: #333333; font-family: Omnes-pro, Arial, Verdana, sans-serif;">the role(s) that needs the access. </span><span style="color: #333333; font-family: Omnes-pro, Arial, Verdana, sans-serif;">Once the ACL is in place, the non-admin user will be able to view the database view records, either from the list or the report.</span></p><p class="p2"></p><p class="p2" style="text-align: center;"><em>For information on ACLs and Database views in the Geneva release see <a href="https://docs.servicenow.com/administer/contextual_security/concept/c_UseAccessControlRules.html" title="https://docs.servicenow.com/administer/contextual_security/concept/c_UseAccessControlRules.html">Access control list (ACL) rules</a> &amp; <a href="https://docs.servicenow.com/use/advanced_reporting/concept/c_DatabaseViews.html" title="https://docs.servicenow.com/use/advanced_reporting/concept/c_DatabaseViews.html">Database views</a>. </em></p>