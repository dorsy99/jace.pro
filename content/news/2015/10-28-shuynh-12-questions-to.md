---
title: " Questions to ask yourself when Troubleshooting CMS"
date: 2015-10-28T01:52:04.000Z
authors: ["shuynh"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=4c2ee26ddbd0dbc01dcaf3231f96191f"
---
<p>The Content Management System (CMS) is a ServiceNow application that allows you to create a custom interface.   The CMS application allows for you to be creative as it can be used for a wide variety of projects. You can create entire websites using CMS or integrate it with other products. Non-technical users can use the application as a website maintenance tool to make changes to a website.   As CMS features expand within the platform, it is not surprising that there is a need to troubleshoot and resolve content management issues effectively.</p><p></p><p>Once you have identified the appropriate steps to reproduce the issue, there are few questions you need to answer to troubleshoot effectively. These are 12 tips to troubleshoot, aid investigation, identify relief, or find a solution as quickly as possible. Within these 12 tips you will also understand when a CMS issue should probably involve ServiceNow technical support.</p><p></p><h4>1.Is it a Cache issue?</h4><p>First rule out a cache issue by flushing the instance cache across all nodes:</p><ul><li>Type the following command in the browser:   <a title="" _jive_internal="true" href="https:" rel="nofollow" target="_blank">https://</a>&lt;your instance&gt;.service-now.com/cache.do</li></ul><p style="padding-left: 30px;"><span><img   alt="Screen Shot 2015-10-22 at 2.59.27 PM.JPG" class="image-1 jive-image" height="23" src="84c3a1c6db90df048c8ef4621f961942.iix" style="width: 392px; height: 22.5191px;" width="392"/></span></p><ul><li>When output displays, click the browser back button, retest issue, confirm whether issue occurs and if not...easy win!</li></ul><p></p><h4>2. Is the issue Configuration related?</h4><p>Some commonly reported issues can be addressed by the <strong>Content Management &gt; Site record configuration</strong>:</p><ul><li>CMS Service Catalog missing header (ie search bar, breadcrumbs, and results per page choice list): <a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551789" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551789">ServiceNow KB: CMS Service Catalog missing header (KB0551789)</a></li><li>Shopping Cart not displayed in Service Catalog on CMS site: <a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551793" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551793">ServiceNow KB: Shopping Cart not displayed in Service Catalog on CMS site (KB0551793)</a></li><li>User expecting CMS site and gets directed to standard UI: <a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551801" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551801">ServiceNow KB: User expecting CMS site is directed to standard user interface (KB0551801)</a></li></ul><p></p><h4>3. Is the problem specific to a certain browser or browser version?</h4><p>Identify whether issue occurs for a specific browser or across other<a title="ki.servicenow.com/index.php?title=Administering_the_User_Interface#Browser_Support" href="http://wiki.servicenow.com/index.php?title=Administering_the_User_Interface#Browser_Support"> supported browsers</a>.</p><p></p><h4>4. Is security preventing you from moving forward?</h4><p>It's typically a security (aka ACL) related issue if you see a "Security constraint" message such as:</p><ul><li>"Security constraints prevent the display of this record."</li><li>"<span class="s1">Number of rows removed from this list by Security constraints."</span><p style="padding-left: 60px;"><span class="s1"><img   alt="Screen Shot 2015-10-22 at 3.44.32 PM.JPG" class="image-6 jive-image" height="77" src="c38e37bddb141304b322f4621f961907.iix" style="height: 77px; width: 943.012px;" width="944"/></span></p></li></ul><p>To debug security issues:</p><ul><li>Admin can toggle the 'Debug Security' module on:<p style="padding-left: 30px;"><img   alt="Screen Shot 2015-10-22 at 3.30.52 PM.JPG" class="image-4 jive-image" height="161" src="a890c58edb901b04ed6af3231f961948.iix" style="height: 161px; width: 113.255px;" width="114"/></p></li><li>Retest steps (including impersonating user with issue), scroll down to review output at bottom of the page and identify any failing ACL(s) (<a href="http://wiki.servicenow.com/index.php?title=Using_Access_Control_Rules" title="http://wiki.servicenow.com/index.php?title=Using_Access_Control_Rules">Using Access Control Rules - ServiceNow Wiki</a>):<p style="padding-left: 30px;"><img   alt="Screen Shot 2015-10-22 at 3.41.18 PM.JPG" class="image-5 jive-image" height="65" src="c902ec4edb50d704ed6af3231f9619ab.iix" style="width: 517px; height: 65.2179px;" width="517"/></p></li><li>Output above indicates ACL failure is on all 3 'incident' read ACLs and failure on each of the following is also indicated: Script, Roles and/or Condition.</li><li>To review ACLs, Admin must click 'lock' icon to elevate to Security Admin:<p style="padding-left: 30px;"><img   alt="Screen Shot 2015-10-26 at 10.16.16 AM.JPG" class="image-8 jive-image" src="bd0d3406db5c9344e9737a9e0f961926.iix" style="width: 620px; height: 168px;"/></p></li><li>Navigate to ACLs, filter on the ACLs indicated in the debug output, review and address issue within Script, Roles, Condition, etc:<p style="padding-left: 30px;"><img   alt="Screen Shot 2015-10-26 at 10.33.39 AM.JPG" class="image-9 jive-image" height="255" src="303edccedb5c9fc068c1fb651f9619b0.iix" style="width: 418px; height: 255.519px;" width="418"/></p></li></ul><p></p><h4>5. Client side errors causing unexpected behavior?</h4><p>Client side errors must be resolved.   For example, a client script error can break the UI in general thus preventing subsequent UI policies (ie visible, read-only, mandatory settings) from firing as expected.</p><p></p><p>To identify and <a title="" _jive_internal="true" href="/community/service-automation-platform/scripting/blog/2015/02/11/debugging-client-side-errors">debug Client Side errors using Chrome</a>:</p><ul><li>Use Chrome's Developer Tools to view the Console tab, reproduce the steps and verify whether an error is generated or not.</li><li>If an error is generated in the console, click on the related link to the right.</li><li>The failing code will be displayed.</li><li>In many cases, filtering or searching scripts (ie Client Scripts, UI Policies, UI Macros, UI Pages, UI Scripts) on this code snippet can identify an offending script.</li><li>Temporarily deactivate the identified script, retest and if console error doesn't occur -- that is the offending script that needs to be reviewed.</li></ul><p></p><h4>6. Are there any active, custom, global UI Scripts (executed on every page) beyond the out-of-box records?</h4><p>These are the UI Scripts on the latest Fuji instance:</p><p style="padding-left: 30px;"><img   alt="Screen Shot 2015-10-22 at 4.21.33 PM.JPG" class="image-7 jive-image" height="135" src="fbf5a5cadb105b04ed6af3231f9619a1.iix" style="height: 135px; width: 691.736px;" width="692"/></p><p>If there are any <em>other</em> active, global UI Scripts on the instance, temporarily deactivate them (ie set active=false), retest and if error doesn't occur -- that is the offending script.</p><p></p><h4>7. Is issue specific to the Service Catalog within CMS?</h4><p>If so, attempt to reproduce the issue with the non-CMS, standard UI Service Catalog.</p><p style="padding-left: 30px;"><img   alt="Screen Shot 2015-10-26 at 11.15.53 AM.JPG" class="image-12 jive-image" height="95" src="4a90898edb909f048c8ef4621f961946.iix" style="height: 95px; width: 97.9457px;" width="98"/></p><p>If issue is not specific to CMS, you can save time and continue to troubleshooting steps in the standard user interface.</p><p></p><h4>8. Is the problem Style or CSS related?</h4><p>If the issue is that some elements on a CMS page appear differently, it may be because of custom CSS applied to the CMS site or page.   Layout and Theme are configured on the entire site as well as individual pages.   The following is configured for the<a title="ki.servicenow.com/index.php?title=Employee_Self-Service#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=Employee_Self-Service#gsc.tab=0"> Employee Self-Service</a> CMS site:</p><p style="padding-left: 30px;"><img   alt="Screen Shot 2015-10-26 at 11.00.05 AM.JPG" class="image-10 jive-image" height="104" src="7860448edb985704ed6af3231f961901.iix" style="width: 699px; height: 103.083px;" width="699"/></p><p style="padding-left: 30px;"><img   alt="Screen Shot 2015-10-26 at 11.01.34 AM.JPG" class="image-11 jive-image" height="143" src="b58f150edbdc97049c9ffb651f96198d.iix" style="height: 143px; width: 698.11px;" width="698"/></p><p style="padding-left: 30px;"></p><ul><li>A quick test to determine if the issue is related to custom Themes and/or Layouts, is to switch back to the OOB values and re-test.   If the issue does not occur, then that typically indicates a need to review the custom Theme and/or Layout.</li><li><span style="line-height: 1.5;">Use Chrome's Developer Tools to view the Elements tab to address issues with the <a title="i.service-now.com/kb_view.do?sysparm_article=KB0546963" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0546963">CSS and conflict on CMS pages</a>.</span></li></ul><p style="padding-left: 30px;"></p><h4>9. Narrow issue down to a specific block and/or specific page?</h4><p>If you have narrowed down the issue to a specific content block on a page, isolate the block on a new CMS page and see if the same issue occurs. If the issue does not occur, this is likely a result of a customizations, layout, theme or other blocks on the custom page.   You should add elements back one at a time while testing to narrow down the cause of the issue.</p><p></p><h4>10. Is the issue related to the iFrame?</h4><p>When working with CMS you may experience your iFrame not expanding to fit the page or it is being truncated. Here are a few things to check:</p><ul><li><span style="color: #485563; font-family: Arial; font-size: 13px;">'ui_page_footer' UI Macro is up to date</span></li><li><span style="color: #485563; font-family: Arial; font-size: 13px;">Ensure the base style sheet within the CMS site's Default theme contains the following:<br/></span></li></ul><p style="padding-left: 60px;"><span style="color: #485563; font-family: Arial; font-size: 13px; line-height: 1.5;">BODY {</span></p><p style="padding-left: 60px;"><span style="color: #485563; font-family: Arial; font-size: 13px; line-height: 1.5;">height: auto;<br/></span></p><p style="padding-left: 30px;"><span style="color: #485563; font-family: Arial; font-size: 13px; line-height: 1.5;">Framebuster checkbox is enabled on the CMS page which contains the iFrame</span></p><p style="padding-left: 60px;"></p><p><span style="color: #485563; font-family: Arial; font-size: 13px; line-height: 1.5;">Does the iFrame call a catalog UI page which is truncated or cut off at the bottom?   Check out these posts:</span></p><ul><li><span style="color: #485563; font-family: Arial; font-size: 13px; line-height: 1.5;"><a title="How to fix Catalog UI style issues (CSS) in Fuji" __default_attr="4075" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="How to fix Catalog UI style issues (CSS) in Fuji" data-renderedposition="2993.76416015625_37.99715805053711_289_15" href="/community?id=community_blog&sys_id=246ceaa1dbd0dbc01dcaf3231f96190f">How to fix Catalog UI style issues (CSS) in Fuji</a> </span></li><li><span style="color: #485563; font-family: Arial; font-size: 13px; line-height: 1.5;"><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0547024" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0547024">ServiceNow KB: PRB621891: Upgrading to Fuji causes catalog UI pages to lose styling (CSS) and catalog CMS pages to appea…</a> </span></li></ul><p><br/>Perhaps your iFrame scroll bar is endless and you feel like you are on a constant loop of scrolling?</p><ul><li><a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551808" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551808">ServiceNow KB: Continuous and infinite loop where CSS height continues to scroll and expand on CMS page (KB0551808)<br/></a></li></ul><p><br/>If you're seeing double vertical scrollbars, this provides a suggestion for relief:</p><ul><li><a title="Use a style property to correct overlapping scrollbars on an iFrame in IE11" __default_attr="4807" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Use a style property to correct overlapping scrollbars on an iFrame in IE11" data-renderedposition="3147.755615234375_37.99715805053711_483_16" href="/community?id=community_blog&sys_id=3fbcae25dbd0dbc01dcaf3231f9619a7">Use a style property to correct overlapping scrollbars on an iFrame in IE11</a></li></ul><p></p><h4>11. Can the issue be reproduced on another instance (ie sub-prod), out-of-box or on a demo instance?</h4><ul><li>Test issue across all instances and if possible, investigate on sub-Prod instance versus Prod.</li><li>If issue does not occur on one instance, comparing records can help to isolate root cause.</li><li>Being able to reproduce out-of-box is a determining factor in order to classify issue as a defect.   All else typically considered customization or potential enhancement request.</li></ul><p></p><h4>12. When did the issue begin or was first reported?</h4><ul><li>Did the problem start occurring after migrating changes or applying an <a title="ki.servicenow.com/index.php?title=Using_Update_Sets" href="http://wiki.servicenow.com/index.php?title=Using_Update_Sets">update set</a>? If so, <a title="" _jive_internal="true" href="/community?id=community_question&sys_id=cc494325db5cdbc01dcaf3231f9619e4">review the Update Set</a> and verify all changes were brought over.</li><li>Did the issue begin after updating to a patch or an upgrade? <span style="line-height: 1.5;">The key thing to understand is that the support of customizations is a joint partnership. Sometimes the solution to a problem may come in the form of advice about how to troubleshoot an issue.   Sometimes we may provide the solution entirely.   </span><ul><li><span style="line-height: 1.5;">Questions to consider include: </span><ul><li><span style="line-height: 1.5;">Was a published API followed?   </span></li><li><span style="line-height: 1.5;">Were <a title="ki.servicenow.com/index.php?title=Client_Script_Best_Practices#Avoid_DOM_Manipulation" href="http://wiki.servicenow.com/index.php?title=Client_Script_Best_Practices#Avoid_DOM_Manipulation">best practices</a> followed</span><span style="line-height: 1.5;">?   </span></li><li><span style="line-height: 1.5;">Were changes made to Out-of-Box items done in a way that will protect them from changes to dependencies?</span></li></ul></li></ul></li></ul><p></p><p>ServiceNow <a title="ki.servicenow.com/index.php?title=Tracked_Customizations_in_Update_Sets#Determining_Which_Customizations_Are_Tracked" href="http://wiki.servicenow.com/index.php?title=Tracked_Customizations_in_Update_Sets#Determining_Which_Customizations_Are_Tracked">tracks most customizations</a> in your system using the Customer Updates table (sys_update_xml).   During the next upgrade, any changes that would otherwise be applied to customized records will be SKIPPED.   To see these items that will be SKIPPED, filter the records in this table as such:</p><p style="padding-left: 30px;"><img   alt="Screen Shot 2015-10-26 at 11.36.51 AM.JPG" class="image-13 jive-image" height="118" src="b6ca90c2dbd89fc03eb27a9e0f961956.iix" style="height: 118px; width: 724.356px;" width="725"/></p><p></p><p>The first step in troubleshooting upgrade conflicts is to use the <a title="ki.service-now.com/index.php?title=Upgrade_History" href="http://wiki.service-now.com/index.php?title=Upgrade_History">Upgrade History</a> module to see if any relevant updates have been skipped. If you determine that an issue is due to a skipped update then you should merge or overwrite the custom code with the new ServiceNow changes (i.e. the Out of Box code).</p>