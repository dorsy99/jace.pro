---
title: "Update references to style sheets with CatalogCssSelector in Geneva"
date: 2015-12-10T07:55:20.000Z
authors: ["april.mcgehee"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=ac6d6a29dbd0dbc01dcaf3231f9619d4"
---
<p><span class="s1">As part of the Geneva release we updated the Service Catalog's interface to bring it up-to-par with platform changes to the user interface. </span><span class="s1">One of the most obvious changes with Geneva is that we updated the look and feel of all catalog variables to match those found on forms. Historically there have been two style sheets used by the catalog for its UI Pages.</span></p><ol><li><span class="s1">js_includes_catalog.css</span></li><li><span class="s1"></span><span class="s1">sc_cat_only.css</span></li></ol><p></p><p class="p1"><span class="s1">These included stylesheets provide style for variables across the instance where they are present. For example, Â  sc_cat_only provides styling for catalog item pages such as search, checkout, and item pages. </span></p><p class="p1"></p><p class="p1"><span class="s1">In Geneva, two new versions of these files were created:</span></p><ol class="ol1"><li><span class="s1">js_includes_catalog_v2.css</span></li><li><span class="s1">sc_cat_only_v2.css</span></li></ol><p></p><p class="p1"><span class="s1">These files contain styling for the legacy pages but importantly include style for the improved interface that we have introduced.</span></p><p></p><p>Some instances being upgraded to Geneva might be experiencing an issue with the <a title="i.service-now.com/kb_view.do?sysparm_article=KB0551657" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551657">UI pages in the Service Catalog losing their style</a>. This problem is caused when you have customized or made changes to your out of box base system UI pages (for example, com.glideapp.servicecatalog_cat_item_view). When they're customized the newly introduced Geneva <a title="eneva-docs.servicenow.com/administer/content_management/concept/c_StyleSheets.html" href="https://geneva-docs.servicenow.com/administer/content_management/concept/c_StyleSheets.html">style sheets</a> don't update the Catalog. This Geneva change involves updating references to the style sheets by using a script include called CatalogCssSelector.</p><p></p><p><span class="s1">The script include, CatalogCssSelector, was created so that in the future, if we were to change the style sheets used across service catalog, we would be able to change a single value defined in the script include. This means that all pages that used to reference the style sheets directly were updated to make a call to one of the two functions (getVariableCss and getCatalogCss).</span></p><p><img   alt="Style+geneva+ui+lost.jpg" class="image-1 jive-image" src="97dbd002dbd81f048c8ef4621f961925.iix" style="width: 620px; height: 207px; display: block; margin-left: auto; margin-right: auto;"/></p><p>This new feature allows you to make changes to your stylesheet by allowing you to just update the script include instead of the legacy way of updating individual UI pages.</p><p></p><h2>Updating your Service Catalog with the Geneva style sheet</h2><p>To manage most of the CSS issues, each customized page must include lines to call the missing scripting files.</p><ol><li>Navigate to <strong>System UI &gt; UI Pages</strong>.</li><li>Search for the UI page with CSS issues.<br/>In the example below, the UI page is named com.glideapp.servicecatalog_cat_item_view.</li><li>Include the lines below just after the line <span style="font-family: 'courier new', courier;">&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;</span>.<br/><br/><span style="font-size: 10pt; font-family: 'courier new', courier;">&lt;g:requires name="scripts/js_includes_catalog.js" includes="true"/&gt;<br/></span><span style="font-family: 'courier new', courier; font-size: 10pt;">&lt;g:requires name="styles/${new CatalogCssSelector().getVariableCss()}" includes="true"/&gt;</span><br/><span style="font-family: 'courier new', courier; font-size: 10pt;">&lt;g:requires name="styles/${new CatalogCssSelector().getCatalogCss()}" includes="false"/&gt;</span><br/><span style="font-family: 'courier new', courier; font-size: 10pt;">&lt;g:inline template="sc_sanitize.xml"/&gt;</span><br/><br/></li><li>Save the record.</li></ol><p></p><p>You may need to make more adjustments depending on your customizations. Geneva offers a plethora of new functions and features that may take some time getting used to. Subscribe to the article <a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551657" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551657">ServiceNow KB: PRB648370: Upgrading to Geneva causes catalog UI Pages to lose styling (KB0551657)</a> to receive notifications when updates are made to the issue. Thank you <a title="arya" __default_attr="54252" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="arya" data-renderedposition="1152.4715576171875_631.9204711914062_45_16" href="/community?id=community_user_profile&user=69a25a6ddbd81fc09c9ffb651f96198e">arya</a> for sharing this solution with us!</p>