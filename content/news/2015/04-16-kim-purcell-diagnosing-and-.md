---
title: "Diagnosing and remedying stuck event processes"
date: 2015-04-16T03:13:32.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=f0dc6665dbd0dbc01dcaf3231f961955"
---
<p style="text-align: left;">If you are having trouble with processing events, such as inbound or outbound <a title="ki.servicenow.com/index.php?title=Events_and_Email_Notification" href="http://wiki.servicenow.com/index.php?title=Events_and_Email_Notification">emails not processing </a>or a scheduled events showing the past date/time, this may be because your <a title="i.service-now.com/kb_view.do?sysparm_article=KB0547784" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0547784">scheduled events or other events are stuck in the queue</a> as a result of an error processing one of the events.</p><p></p><h1><span style="font-size: 14pt;">Using the Diagnostics page to troubleshoot a stuck event:<br/></span></h1><ol><li>Navigate to <strong>System Diagnostics &gt; Diagnostics Page</strong>.</li><li>In the system overview section, check the number of events pending. This number <strong>should not exceed 1000</strong>. If it does, this likely means a large number of events are stuck in the instance. The system overview below shows only one event pending:<br/><br/></li></ol><p style="text-align: center;"><img   alt="Screen Shot 2015-04-15 at 1.09.43 PM.JPG" class="image-0 jive-image" src="f187000edb5c5fc03eb27a9e0f961988.iix" style="height: 146px; width: 620px; border: #BDBDBD 4px solid; border-radius: 15px;"/></p><p></p><p></p><p style="text-align: center;"><span style="text-align: center;"><em>See also <a title="Troubleshooting email notifications - Send to the Event Creator" __default_attr="3860" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Troubleshooting email notifications - Send to the Event Creator" href="/community?id=community_blog&sys_id=c8edaae9dbd0dbc01dcaf3231f96199b">Troubleshooting email notifications - Send to the Event Creator</a> if you are experiencing trouble confirming that notifications from an event are being sent.</em></span></p><h1></h1><h1></h1><h1><span style="font-size: 14pt;">Check the list of system events to identify what's not processing:<br/></span></h1><ol><li>In the application navigator, enter <strong>sysevent.list</strong> to display all the events.</li><li>Check the created and processed time for each event (this shouldn't be more than 30-40 seconds).</li><li>Add the <strong>Claimed By</strong> column to the list view. This displays the node where the events are processed (and helps you check for a particular node if there are a large number of active nodes on an instance.)</li></ol><p style="text-align: center;"><br/><img   alt="Screen Shot 2015-04-15 at 1.10.30 PM.JPG" class="image-1 jive-image" src="eeb72f35db14dfc0b322f4621f961950.iix" style="height: 353px; width: 620px; border: #BDBDBD 4px solid; border-radius: 15px;"/><br/><br/></p><ol start="4"><li>Go to<strong> stats.do</strong> of that particular node and check if the events process is stuck:<ol style="list-style-type: lower-alpha;"><li><span style="font-size: 10pt; line-height: 1.5em;">In the </span><span style="font-size: 10pt; line-height: 1.5em;"><strong>stats.do</strong></span><span style="font-size: 10pt; line-height: 1.5em;">, open the link for events process worker page. This displays the stacktrace for eventprocess.java.</span></li></ol></li><li>If your scheduled event process is stuck, you should kill the event process in the <strong>Claimed By</strong> node:<ol style="list-style-type: lower-alpha;"><li>Search for <strong>All Active Transaction</strong> in the left navigation filter.</li><li>Select the stuck events process row and from the <strong>Actions</strong> on the <strong>Selected Rows</strong> drop-down.</li><li>Select <strong>Kill</strong>.</li></ol></li></ol><p></p><p>You can analyze the worker stack from the <a title="ki.servicenow.com/index.php?title=Scheduling_Events" href="http://wiki.servicenow.com/index.php?title=Scheduling_Events">schedule events process</a> to identify how the events got stuck. Below is an example of the stack trace where an event is stuck because of a business rule:</p><p></p><p style="text-align: center;"><img   alt="Screen Shot 2015-03-26 at 4.13.35 PM.png" class="image-0 jive-image" src="417aab39db1893041dcaf3231f96193c.iix" style="height: 397px; width: 620px; border: #BDBDBD 4px solid; border-radius: 15px;"/></p><p></p><p></p><h1><span style="font-size: 14pt;">To fix an event stuck on the oldest unprocessed event:<br/></span></h1><ol><li>In the navigation filter, enter <strong>sysevent.list</strong> to display all events.</li><li>Filter by column <strong>[Processed] [is] [empty]</strong>. This lists all the unprocessed events.<br/><br/><img   alt="Screen Shot 2015-04-15 at 3.26.50 PM.JPG" class="jive-image image-2" src="c63015c2db5897049c9ffb651f961900.iix" style="height: 370px; width: 620px; display: block; margin-left: auto; margin-right: auto; border: #BDBDBD 4px solid; border-radius: 15px;"/><br/><br/></li><li>Sort the events by the oldest <strong>date/time</strong> at the top.</li><li>Mark the <strong>State</strong> field of the oldest event as <strong>Error</strong>. This helps process the other unprocessed events.</li><li>After this is fixed, change the <strong>State</strong> field of the oldest event to <strong>ready</strong>.<br/><br/></li></ol><p><img   alt="Screen Shot 2015-04-15 at 3.29.11 PM.JPG" class="jive-image image-3" src="87cc2806db18dfc03eb27a9e0f961939.iix" style="height: 360px; width: 620px; display: block; margin-left: auto; margin-right: auto; border: #BDBDBD 4px solid; border-radius: 15px;"/></p><p></p><p></p><h1><span style="font-size: 14pt;">Show the correct time on a scheduled event process:<br/></span></h1><p>If the scheduled events process shows the past date/time, this indicates errors in the events process schedule.</p><ol><li>In the navigation filter, enter <strong>sys_trigger.list</strong> to view all schedules.</li><li>Search for events process.</li><li>Check if the <strong>Next action</strong> field is showing as<em> future</em> date/time and the <strong>State</strong> field is not queued or error.<br/><br/><img   alt="Screen Shot 2015-04-16 at 12.36.56 PM.JPG" class="jive-image image-6" src="341dc80adb509fc03eb27a9e0f96194b.iix" style="height: 287px; width: 620px; display: block; margin-left: auto; margin-right: auto; border: #BDBDBD 4px solid; border-radius: 15px;"/><br/><br/></li><li>If the next action date/time is showing the <em>past</em> date/time and error as seen above, click <strong>Execute Now</strong> to execute the event. This should execute the event and put the future date/time in the <strong>Next action</strong> field.</li><li>If the <strong>State</strong> field is showing as queued or error, change the field to <strong>ready</strong> and <strong>Save</strong> the record.</li></ol><p></p><p>Working with notifications and your scheduled events can be tricky. My best advice to share with you regarding preventing events from getting stuck is to ch<span style="font-size: 10pt; line-height: 1.5em;">eck back regularly to see if events are getting processed. If you have checked your diagnostics page and your list of system events, check the knowledge base and the community to see if others have experienced a similar situation and have found a way to work around it. </span></p>