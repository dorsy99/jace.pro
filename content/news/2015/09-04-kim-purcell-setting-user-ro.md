---
title: "Setting user roles for service catalog items"
date: 2015-09-04T00:59:41.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=9b0e2e2ddbd0dbc01dcaf3231f9619cb"
---
<p>If you've encountered <a title="i.service-now.com/kb_view.do?sysparm_article=KB0529794" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0529794">an error message when updating a service catalog request</a>, the likely suspect is the write-only admin role that's been created for a catalog item. When you go to update a request, you'll receive this error message:</p><p></p><p><em>"Submit canceled due to a script error - please contact your System Administrator"</em></p><p></p><p>This specifically can happen when this write-only role admin role is applied to the checkbox variable. For example, if you update a hardware item, say your laptop, and make one of the checkbox variables write-only for admin, any updates made to this specific catalog request will result in this error. Â  The user essentially fails the Write access control list (ACL) on the checkbox variable.</p><p></p><p>Instead of restricting write access through the variable record, administrators can correct this by creating a catalog client script that checks for the user's roles and disables the field.</p><p></p><h2>How to create a catalog client script to check user roles:</h2><p></p><ol><li>Navigate to <strong>Service Catalog &gt; Catalog Policies &gt; Catalog Client Scripts</strong>.</li><li>Click <strong>New</strong>.</li><li>Fill in the fields, as appropriate (see <a title="ki.servicenow.com/index.php?title=Creating_a_Catalog_Client_Script" href="http://wiki.servicenow.com/index.php?title=Creating_a_Catalog_Client_Script">table</a>), and add this script:<br/><br/><p><span style="font-size: 10.0pt; font-family: 'Courier New';">function onLoad() {</span></p><p style="margin-top: auto; margin-bottom: auto;"><span style="font-size: 10.0pt; font-family: 'Courier New';">var isAdmin = g_user.hasRole('admin'); </span><span style="font-size: 10.0pt; font-family: Times;"><br/> </span><span style="font-size: 10.0pt; font-family: 'Courier New';">if (!isAdmin){ </span><span style="font-size: 10.0pt; font-family: Times;"><br/> </span><span style="font-size: 10.0pt; font-family: 'Courier New';">g_form.setReadOnly('VARIABLE_NAME', true); </span><span style="font-size: 10.0pt; font-family: Times;"><br/> </span><span style="font-size: 10.0pt; font-family: 'Courier New';">} </span><span style="font-size: 10.0pt; font-family: Times;"><br/> </span><span style="font-size: 10.0pt; font-family: 'Courier New';">else{ </span><span style="font-size: 10.0pt; font-family: Times;"><br/> </span><span style="font-size: 10.0pt; font-family: 'Courier New';">g_form.setReadOnly('VARIABLE_NAME', false); </span><span style="font-size: 10.0pt; font-family: Times;"><br/> </span><span style="font-size: 10.0pt; font-family: 'Courier New';">} </span></p><p style="margin-top: auto; margin-bottom: auto;"><span style="font-size: 10.0pt; font-family: 'Courier New';">}</span></p></li><li>Click <strong>Submit</strong>.</li></ol><p></p><p>With this method, you can also enable <strong>Applies on Catalog Tasks</strong> and <strong>Applies on Requested Items</strong> to make it work in other places:</p><p></p><p style="text-align: center;"><img  alt="Catalog Client Script.jpg" class="image-1 jive-image" src="e2124d0adbd01b04ed6af3231f961913.iix" style="height: 277px; width: 620px;"/></p><p></p><p>For more on service catalog items:</p><p><a title="ki.servicenow.com/index.php?title=Creating_a_Catalog_Client_Script#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=Creating_a_Catalog_Client_Script#gsc.tab=0">Creating a Catalog Client Scripts</a></p><p><a title="ki.servicenow.com/index.php?title=Defining_Catalog_Items#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=Defining_Catalog_Items#gsc.tab=0">Defining Catalog Items</a></p><p><a title="ki.servicenow.com/index.php?title=Adding_Content_Items_to_Service_Catalog#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=Adding_Content_Items_to_Service_Catalog#gsc.tab=0">Adding Content Items to Service Catalog</a></p>