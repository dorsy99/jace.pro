---
title: "Inbound action with Type and Target Table set to None"
date: 2015-12-12T02:00:09.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=9cbc2a25dbd0dbc01dcaf3231f961999"
---
<p>Incoming emails are the emails sent to the instance. The inbound emails are classified by <a title="" _jive_internal="true" href="/wiki.servicenow.com/images/7/77/Inbound_email_action_type.png" rel="nofollow" target="_blank">following an algorithm</a> as New, Reply or Forward. <a title="" _jive_internal="true" href="/wiki.servicenow.com/?title=Inbound_Email_Actions#gsc.tab=0" rel="nofollow" target="_blank">Inbound email actions</a> enable an administrator to define the actions ServiceNow takes when receiving emails. The feature itself offers a superb level for <a title="" _jive_internal="true" href="/wiki.servicenow.com/index.php?title=Script_in_ServiceNow#gsc.tab=0" rel="nofollow" target="_blank">scripting </a>and a well balanced design for the classified emails, saves you time on coding and guarantee a clear understanding to expand and keep your email actions up to date.</p><p></p><p><a title="" _jive_internal="true" href="/wiki.servicenow.com/?title=Inbound_Email_Actions#gsc.tab=0" rel="nofollow" target="_blank">Inbound email action</a> 'Type' field offers flexibility to the user with the ability to be set to None that matches all incoming emails. The 'Target table' field offers a similar feature. Those options are well positioned the top of the incoming action form so pay attention when setting them. Here are two tests I did to experiment with None matching all incoming emails on incoming email options 'Type' and 'Target table.'</p><p><img   alt="inboundaction.png" class="image-5 jive-image" height="154" src="e8b627bddb10df04e9737a9e0f9619b2.iix" style="width: 154px; height: 154px; display: block; margin-left: auto; margin-right: auto;" width="154"/></p><h3>Incoming email options 'Type' and 'Target table.'</h3><p>The 'Target table' selects the table where the action will be added or records updated. The 'Type' selects the message type required to run the action. The action runs only if the inbound email is of the selected type. Setting the inbound action type to None, increases the complexity as the rule matches all incoming email received types. This could be of advantage on may designs. e.g. if you are using them to stop certain executions based on conditions regardless of their type.</p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="476_8_917_43"><p>'Type' set to None matches all incoming emails</p></pre><p></p><p><img   alt="type target none.jpg" class="image-3 jive-image" src="0b692c86db545f048c8ef4621f9619f1.iix" style="width: 620px; height: 164px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p></p><h2>Testing the inbound actions with Type set to None</h2><p>I have created an inbound email action as follow:</p><table border="1" cellpadding="0" cellspacing="0" style="border: none; padding: 0 5.4pt 0 5.4pt;"><tbody><tr><td colspan="3" style="border: solid windowtext 1.0pt; background: #FFC000; padding: 0 5.4pt 0 5.4pt;" valign="top" width="438"><p style="margin-bottom: .0001pt;">Inbound Email action</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="80"><p style="margin-bottom: .0001pt;">Name</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="29"><p style="margin-bottom: .0001pt;">=</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="329"><p style="margin-bottom: .0001pt;">test_type_none</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="80"><p style="margin-bottom: .0001pt;">Target table</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="29"><p style="margin-bottom: .0001pt;">=</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="329"><p style="margin-bottom: .0001pt;">Incident</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="80"><p style="margin-bottom: .0001pt;">Type</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="29"><p style="margin-bottom: .0001pt;">=</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="329"><p style="margin-bottom: .0001pt;">None</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="80"><p style="margin-bottom: .0001pt;">Condition</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="29"><p style="margin-bottom: .0001pt;">=</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="329"><p>email.subject &amp;&amp; (email.subject.match(/\b(?:spam|loan|winning|bulk email|mortgage|free)\b/i) != null)</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; background: white; padding: 0 5.4pt 0 5.4pt;" valign="top" width="80"><p style="margin-bottom: .0001pt;">Order</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: white; padding: 0 5.4pt 0 5.4pt;" valign="top" width="29"><p style="margin-bottom: .0001pt;">=</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: white; padding: 0 5.4pt 0 5.4pt;" valign="top" width="329"><p style="margin-bottom: .0001pt;">10</p></td></tr></tbody></table><p></p><p>Script =</p><pre __default_attr="javascript" __jive_macro_name="code" class="_jivemacro_uid_14487109736467165 jive_macro_code jive_text_macro" data-renderedposition="1053_8_917_112" jivemacro_uid="_14487109736467165"><p>gs.log('CS - test_type_none start'); // dev only - remove on prod</p><p>// No further inbound actions are required - stopping them</p><p>sys_email.error_string += 'processing stopped by test_type_none by subject keyword: ' </p><p>       + email.subject.match(/\b(?:spam|loan|winning|bulk email|mortgage|free)\b/i) + '\n';</p><p>event.state="stop_processing";</p><p>gs.log('CS - test_type_none ends'); // dev only - remove on prod</p><p></p></pre><p></p><p>Then I have sent 3 emails with subject "... freeware offer" classified as new, reply and forward each.</p><p>Also   I have sent 3 emails with subject "... free " classified as new, reply and forward each.</p><p><img   alt="type set to none.jpg" class="image-4 jive-image" src="6bcc488adbdcdb048c8ef4621f96192f.iix" style="width: 620px; height: 270px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><pre __jive_macro_name="quote" class="jive_macro_quote jive_text_macro" data-renderedposition="1553_8_917_41"><p>Results: All incoming emails are processed as expected by the incoming action. As per condition, some processing is bypassed.</p></pre><p></p><p></p><h2>Testing the inbound actions with 'Target table' set to None</h2><p>I have created the following inbound action:</p><table border="1" cellpadding="0" cellspacing="0" style="border: none; padding: 0 5.4pt 0 5.4pt;"><tbody><tr><td colspan="3" style="border: solid windowtext 1.0pt; background: #FFC000; padding: 0 5.4pt 0 5.4pt;" valign="top" width="438"><p style="margin-bottom: 0.0001pt;">Inbound Email action</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="80"><p style="margin-bottom: 0.0001pt;">Name</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="29"><p style="margin-bottom: 0.0001pt;">=</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="329"><p style="margin-bottom: 0.0001pt;">test_target_table_none</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="80"><p style="margin-bottom: 0.0001pt;">Target table</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="29"><p style="margin-bottom: 0.0001pt;">=</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="329">None</td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="80"><p style="margin-bottom: 0.0001pt;">Type</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="29"><p style="margin-bottom: 0.0001pt;">=</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="329"><p style="margin-bottom: 0.0001pt;">None</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="80"><p style="margin-bottom: 0.0001pt;">Condition</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="29"><p style="margin-bottom: 0.0001pt;">=</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #F2F2F2; padding: 0 5.4pt 0 5.4pt;" valign="top" width="329"><p>(empty)</p></td></tr></tbody></table><p></p><p>Script:</p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14487134940947561" data-renderedposition="1851_8_917_48" jivemacro_uid="_14487134940947561"><p>gs.log('CS -test_target_table_none start'); // dev only - remove on prod</p><p>event.state="stop_processing";</p><p>gs.log('CS - test_target_table_none ends'); // dev only - remove on prod</p></pre><p></p><p>Then I have sent 3 emails that classify as new, reply and forward.</p><pre __jive_macro_name="quote" class="jive_macro_quote jive_text_macro" data-renderedposition="1951_8_917_41"><p>Results: Setting Target table to None, it will not execute the inbound action correctly.</p></pre><p>If Target table set to None the followings are the results of incoming emails :</p><table border="1" cellpadding="0" cellspacing="0" style="border: none; padding: 0 5.4pt 0 5.4pt;"><tbody><tr><td colspan="4" style="border: solid windowtext 1.0pt; background: #FFC000; padding: 0 5.4pt 0 5.4pt;" valign="top" width="572"><p style="margin-bottom: .0001pt;">Incoming emails</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; background: #FFC000; padding: 0 5.4pt 0 5.4pt;" valign="top" width="104"><p style="margin-bottom: .0001pt;">Classified as</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #FFC000; padding: 0 5.4pt 0 5.4pt;" valign="top" width="67"><p style="margin-bottom: .0001pt;">Target</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #FFC000; padding: 0 5.4pt 0 5.4pt;" valign="top" width="112"><p style="margin-bottom: .0001pt;">Notes</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #FFC000; padding: 0 5.4pt 0 5.4pt;" valign="top" width="289"><p style="margin-bottom: .0001pt;">Usual logs if there is no update</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="104"><p style="margin-bottom: .0001pt;">New</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="67"><p style="margin-bottom: .0001pt;">(empty)</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="112"><p style="margin-bottom: .0001pt;">Always error</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="289"><p style="margin-bottom: .0001pt;">Error while classifying message. org.mozilla.javascript.EvaluatorException: GlideRecord.setTableName - empty table name (&lt;refname&gt;; line 1)<br/> Skipping 'test_target_table_none', a suitable GlideRecord not found</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; background: #D9D9D9; padding: 0 5.4pt 0 5.4pt;" valign="top" width="104"><p style="margin-bottom: .0001pt;">Reply</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #D9D9D9; padding: 0 5.4pt 0 5.4pt;" valign="top" width="67"><p style="margin-bottom: .0001pt;">(empty)</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #D9D9D9; padding: 0 5.4pt 0 5.4pt;" valign="top" width="112"><p style="margin-bottom: .0001pt;">Always skipped</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; background: #D9D9D9; padding: 0 5.4pt 0 5.4pt;" valign="top" width="289"><p style="margin-bottom: .0001pt;">watermark's target table '&lt;found-table-by-watermark&gt;' does not match any Inbound Action table, setting to 'Ignored' state</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="104"><p style="margin-bottom: .0001pt;">Forward</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="67"><p style="margin-bottom: .0001pt;">(empty)</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="112"><p style="margin-bottom: .0001pt;">Always error</p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="289"><p style="margin-bottom: .0001pt;">Error while classifying message. org.mozilla.javascript.EvaluatorException: GlideRecord.setTableName - empty table name (&lt;refname&gt;; line 1)<br/> Skipping 'test_target_table_none', a suitable GlideRecord not found</p></td></tr></tbody></table><p></p><p>I advise that you always double check and make sure to select your Target table correctly and only set your Type appropriately to match the correct classified emails. Just because you have the option, does not mean you need to use it. Plan and validate.</p><p></p><p>I have tested this with Fuji and Chrome as the browser.</p><p></p><p>More information here:</p><ul><li><p><a title="i.service-now.com/kb_view.do?sysparm_article=KB0540674" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0540674">Email Resources Page (KB0540674)</a></p></li><li><a title="w.servicenowguru.com/system-definition/inbound-email-new-reply-forward/" href="http://www.servicenowguru.com/system-definition/inbound-email-new-reply-forward/">Inbound Email - New, Reply, and Forward - ServiceNow Guru</a></li><li><a title="i.service-now.com/kb_view.do?sysparm_article=KB0524472" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0524472">Inbound Email Troubleshooting (KB0524472)</a></li><li><p><a href="https://www.youtube.com/watch?v=tbeGSYFG828" title="https://www.youtube.com/watch?v=tbeGSYFG828">Part Three | Verifying Inbound Email User and Incident Creation Settings - YouTube</a></p></li><li><p><a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=bc7c22e1dbd0dbc01dcaf3231f961996">Incoming email classified as reply to 'null' via watermark</a></p></li><li><a href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/notification/concept/inbound-action-processing.html" title="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/notification/concept/inbound-action-processing.html">Docs: Inbound action processing</a></li><li><a href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/notification/concept/c_InboundEmailActions.html" title="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/notification/concept/c_InboundEmailActions.html">Docs: Inbound email actions</a></li><li><p><a title="" _jive_internal="true" href="/people/jonnyseymour/content?filterID=contentstatus%5Bpublished%5D%7Eobjecttype%7Eobjecttype%5Bblogpost%5D">My other blogs</a></p></li></ul>