---
title: "MiniLab  Limiting Field Display With a System Property"
date: 2015-09-15T05:03:43.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=bf6d6e29dbd0dbc01dcaf3231f9619d2"
---
<p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;">So here is a couple of techniques I found in the out-of-the-box code base, and thought I would bring them into the light.   You can constrain what fields are displayed on a form with a System Property, a Display Rule and a g_scratchpad variable.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span><strong style="font-size: 14pt;">Lab 1.1 — Limit Field and Section Display</strong></span></p><p></p><p><span style="line-height: 1.5em; font-size: 12pt;">1. <strong>Create a new system property</strong></span></p><p></p><p style="padding-left: 30px;"><span style="line-height: 1.5em; font-size: 12pt;">a. Navigate to the System Properties list view by typing the following into the navigation field: sys_properties.list</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">b. Click the New button.   The new System Property form will be displayed.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">c. Fill in the form with the following:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><ol style="list-style-type: lower-roman;"><li><span style="font-size: 12pt;"><strong>Name</strong>: incident.show.subcategory</span></li><li><span style="font-size: 12pt;"><strong>Description</strong>: Turn off Subcategory</span></li><li><span style="font-size: 12pt;"><strong>Choices</strong>: true/false</span></li><li><span style="font-size: 12pt;"><strong>Type</strong>: true | false</span></li><li><span style="line-height: 1.5em; font-size: 12pt;"><strong>Value</strong>: true</span></li></ol></ol></ol><p style="padding-left: 30px;"><span style="font-size: 12pt;">d. Right-click on the form header to display the context menu, and click Save.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">e. At the bottom of the form in Related Links click on the New button.   The new Category form will appear.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">f. Fill in the form with the following:</span></p><ol><ol style="list-style-type: lower-alpha;"><ol style="list-style-type: lower-roman;"><li><span style="font-size: 12pt;"><strong>Name</strong>: Incident</span></li><li><span style="font-size: 12pt;">Leave everything else as default</span></li></ol></ol></ol><p style="padding-left: 30px;"><span style="font-size: 12pt;">g. Click the Submit button</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><img  alt="1.mini-lab - Incident Properties_a.JPG" class="image-0 jive-image" src="73558c46db9c5704ed6af3231f961960.iix" style="height: 319px; width: 620px;"/></span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">2. <strong>Create a new Property Module For Incidents</strong></span></p><p><span style="font-size: 12pt;"><br/></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">a. Navigate to the Incidents application</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">b. Right-click on the application header to display the context menu, and pick Edit Application Menu.   The Incident Application module List View will be displayed.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">c. Click the New button to create a new module to display the new Module form.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">d. Fill in the form with the following:</span></p><p style="padding-left: 90px;"><span style="font-size: 12pt;">i. Title: Properties</span></p><p style="padding-left: 90px;"><span style="font-size: 12pt;">ii. Application Menu: Incident (should already be filled in)</span></p><p style="padding-left: 90px;"><span style="font-size: 12pt;">iii. Order: 900 or something way down.</span></p><p style="padding-left: 90px;"><span style="font-size: 12pt;">iv. Hint: Incident Properties</span></p><p style="padding-left: 90px;"><span style="font-size: 12pt;">v. Visibility:</span></p><ol><ol style="list-style-type: lower-alpha;"><ol><ol><li><span style="font-size: 12pt;">Roles: Admin</span></li><li><span style="font-size: 12pt;">Active: Checked</span></li></ol></ol></ol></ol><p style="padding-left: 90px;"><span style="font-size: 12pt;">vi. Link Type:</span></p><ol><ol><ol><ol><li><span style="font-size: 12pt;">Link Type: URL (from arguments)</span></li><li><span style="font-size: 12pt;">Arguments: system_properties_ui.do?sysparm_title=Incident&amp;sysparm_category=Incident</span></li></ol></ol></ol></ol><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">e. Click the Submit button to save.   The Properties module should immediately appear in the Incident Application.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">f. Click on the new Properties link and see that the new property is displayed and defaulted to checked.</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><img  alt="1.mini-lab - Incident Properties.JPG" class="image-0 jive-image" src="1f7467bddb1c5b048c8ef4621f9619fb.iix" style="height: auto;"/></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">3. <strong>Create a Display Business Rule</strong></span></p><p></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12pt;">Navigate to System Definition -&gt; Business Rules</span></li><li><span style="font-size: 12pt;">Click the New button to create a new Business Rule.   A blank Business Rule form will be displayed.</span></li><li><span style="font-size: 12pt;">Fill out the form with the following:</span><ol style="list-style-type: lower-roman;"><li><span style="font-size: 12pt;"><strong>Name</strong>: Show Subcategory</span></li><li><span style="font-size: 12pt;"><strong>Table</strong>: Incident</span></li><li><span style="font-size: 12pt;"><strong>Order</strong>: 900 or some such down toward the bottom</span></li><li><span style="font-size: 12pt;">When to run:</span><ol style="list-style-type: decimal;"><li><span style="font-size: 12pt;"><strong>When</strong>: display</span></li></ol></li><li><span style="font-size: 12pt;">Advanced:</span></li></ol><ul style="list-style-type: disc;"><ol style="list-style-type: decimal;"><li><span style="font-size: 12pt;"><strong>Script</strong>:</span></li></ol></ul></li></ol></ol><p style="margin-left: 2.0in; margin-bottom: .0001pt;"></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_text_macro jive_macro_code _jivemacro_uid_14422749592767797" jivemacro_uid="_14422749592767797">
<p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: 'Lucida Console'; font-size: 12pt;">function onDisplay(current, g_scratchpad) {</span></p>
<p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><span style="font-family: 'Lucida Console';">     g_scratchpad.showSubCategory = gs.getProperty('</span>incident.show.subcategory<span style="font-family: 'Lucida Console';">', true);</span></span></p>
<p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: 'Lucida Console'; font-size: 12pt;">}</span></p>
</pre><p><span style="font-size: 12pt;"><br/></span></p><p><span style="font-size: 12pt;">4. <strong>Create a Client Script to react to the g_scratchpad variable</strong></span></p><p></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12pt;">Navigate to System Definition -&gt; Client Scripts.   The client scripts list view will be displayed.</span></li><li><span style="font-size: 12pt;">Click the new button.   A blank client script form will be displayed.</span></li><li><span style="font-size: 12pt;">Fill in the form with the following:</span><ol style="list-style-type: lower-roman;"><li><span style="font-size: 12pt;"><strong>Name</strong>: Show Subcategory</span></li><li><span style="font-size: 12pt;"><strong>Table</strong>: Incident</span></li><li><span style="font-size: 12pt;"><strong>UI Type</strong>: Desktop</span></li><li><span style="font-size: 12pt;"><strong>Type</strong>: onLoad</span></li><li><span style="font-size: 12pt;"><strong>Active</strong>: checked</span></li><li><span style="font-size: 12pt;"><strong>Global</strong>: checked</span></li><li><span style="font-size: 12pt;"><strong>Script</strong>:</span></li></ol></li></ol></ol><p style="margin-left: 1.5in; margin-bottom: .0001pt;"></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_text_macro jive_macro_code _jivemacro_uid_14422750405387725" jivemacro_uid="_14422750405387725" modifiedtitle="true">
<p style="margin-bottom: .0001pt;"><span style="font-family: 'Lucida Console'; font-size: 12pt;">function onLoad() {</span></p>
<p style="margin-bottom: .0001pt; text-indent: .5in;"><span style="font-family: 'Lucida Console'; font-size: 12pt;">         g_form.setVisible('subcategory', g_scratchpad.showSubCategory == 'true'); </span></p>
<p style="margin-bottom: .0001pt; text-indent: .5in;"></p>
<p style="margin-bottom: 0.0001pt; text-indent: 0.5in; padding-left: 30px;"><span style="font-family: 'Lucida Console'; font-size: 12pt;">         // for grins let's turn off the Task SLAs section (tab) at the bottom of the form to show it can be done!</span></p>
<p style="margin-bottom: .0001pt;"><span style="font-family: 'Lucida Console'; font-size: 12pt;">         if (g_scratchpad.showSubCategory == 'false') {</span></p>
<p style="margin-bottom: .0001pt;"><span style="font-family: 'Lucida Console'; font-size: 12pt;">                       g_form.hideRelatedList('task_sla');</span></p>
<p style="margin-bottom: .0001pt;"><span style="font-family: 'Lucida Console'; font-size: 12pt;">         }</span></p>
<p style="margin-bottom: .0001pt;"><span style="font-family: 'Lucida Console'; font-size: 12pt;">}</span></p>
</pre><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">5. <strong>Test</strong></span></p><p></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12pt;">Our initial test will be to take the default of the property: true.   And make sure that normal functionality is there.</span></li><li><span style="font-size: 12pt;">Navigate to Incident -&gt; Open, and open an existing incident.   The Subcategory field should be present and the Task SLAs tab at the bottom of the form should be there.</span></li><li><span style="font-size: 12pt;">Now Navigate to Incident -&gt; Properties, and uncheck the Turn off Subcategory check box.</span></li><li><span style="font-size: 12pt;">Click the Save button.</span></li><li><span style="font-size: 12pt;">Navigate back to Incident -&gt; Open, and open and existing incident.   The Subcategory field should be missing, and the Task SLAs tab will be gone as well!</span></li></ol></ol><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;"><strong>Conclusion:</strong></span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;"><br/></span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;">So you see how using the combination of a System Property, a Display Business Rule, a g_scratchpad variable and a Client Script can be used to control what is displayed on a form. Cool huh?!</span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">Ok…now go out and turn it all off or you will get into trouble with your management.   :-)</span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt; font-family: arial,helvetica,sans-serif;">Steven Bell</span></p><p><span style="font-size: 12pt; font-family: arial,helvetica,sans-serif;"><br/></span></p><p><span style="color: #800080; font-size: 12pt; font-family: arial, sans-serif;">If you find this article helps you, don't forget to log in and "like" it!</span></p><p></p>