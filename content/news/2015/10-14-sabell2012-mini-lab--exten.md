---
title: "MiniLab Extending ServiceNow JavaScript Using ECMAScript  Polyfills"
date: 2015-10-13T18:02:33.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=fd5d6629dbd0dbc01dcaf3231f961989"
---
<p><span style="font-size: 12pt; line-height: 1.5em;">Building off of two of my recent articles (</span><a title="" _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/06/mini-lab-extending-the-gliderecord-object" style="font-size: 12pt; line-height: 1.5em;">Extending GlideRecord</a><span style="font-size: 12pt; line-height: 1.5em;">, and </span><a title="" _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/08/community-code-snippets-" style="font-size: 12pt; line-height: 1.5em;">Advanced Object Filter</a><span style="font-size: 12pt; line-height: 1.5em;">) I will show you how you can use <a title="eveloper.mozilla.org/en-US/docs/Web/JavaScript/New_in_JavaScript/ECMAScript_6_support_in_Mozilla" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/New_in_JavaScript/ECMAScript_6_support_in_Mozilla">MDN ECMAScript 6</a> Polyfill definitions to extend JavaScript in ServiceNow.</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">So, what does this mean exactly.   Well with JavaScript it is possible to define future functionality using what are called Polyfills.   A Polyfill implementation is simply a prototype that implements the new functionality.   Now using the method I described in Extending GlideRecord you can also extend the base JavaScript language!</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Here is how.</span></p><p></p><p><span style="font-size: 18pt;"><strong>Lab 1.1: Finding and Using the ECMAScript 6 Polyfills</strong></span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">1. Here is the location of a few useful polyfills:</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span>String.repeat - </span><a title="k-external-small" class="jive-link-external-small" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat</a></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span>String.startsWith - </span><a title="k-external-small" class="jive-link-external-small" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith</a></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span>String.includes - </span><a title="k-external-small" class="jive-link-external-small" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes</a></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span>String.endsWith - </span><a title="k-external-small" class="jive-link-external-small" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith</a></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span>Array.fill - </span><a title="k-external-small" class="jive-link-external-small" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/fill" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/fill</a></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><br/></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">a. Find the Polyfill in the referenced article.   </span></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">b. Copy the entire Polyfill script out of the article and paste it into your new Script Include (described in the next step).<br/></span></p><p></p><p><img   alt="2.polyfill location.png" class="image-1 jive-image" src="c191918adb54d304b322f4621f961965.iix" style="height: 272px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">2. We can copy this code out pretty much without modification into a single Script Include.</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">   <span style="font-size: 16px;">   </span>a. Navigate to System Definition -&gt; Script Includes.</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"> <span style="font-size: 16px;">       </span>b. Click on the New button to create a new Script Include</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span style="font-size: 16px;">   <span style="font-size: 16px;">   <span style="font-size: 16px;">   </span></span></span>   i.     <strong>Name</strong>: JavaScriptExtensions</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span style="font-size: 16px;">   <span style="font-size: 16px;">   <span style="font-size: 16px;">   </span></span></span>   ii.   <strong>Accessible from</strong>: All application Scopes</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span style="font-size: 16px;">   <span style="font-size: 16px;">   <span style="font-size: 16px;">   </span></span></span>   iii. <strong>Client callable</strong>: Checked</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span style="font-size: 16px;">   <span style="font-size: 16px;">   <span style="font-size: 16px;">   </span></span></span>   iv. <strong>Description</strong>: </span><span style="font-size: 12pt; line-height: 1.5em;">Add ECMAScript6 functionality to the ServiceNow JavaScript library</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><br/></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">v. <strong>Script</strong>:   Add the code exactly as you find it in each of the Polyfill locations at the referenced pages.   Place them one after the other in your Script Include.   With these we are creating a language extension library of functions.   You code should look a bit like this:</span></p><p>   <img   alt="1.js extension code.png" class="image-0 jive-image" src="beff9739db501fc068c1fb651f961907.iix" style="height: 296px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>NOTE</strong>: I have added this code out onto the share <a title="hare.servicenow.com/app.do#/detailV2/384375dd4543c2007c39bada468d18fd/overview" href="https://share.servicenow.com/app.do#/detailV2/384375dd4543c2007c39bada468d18fd/overview">here</a>.</span></p><p style="padding-left: 30px;"></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">             vi. Click the Submit button to save the new Script Include.</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><br/></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong style="color: #0000ff;">NOTE</strong><span style="color: #0000ff;">: All five Polyfills can be added to the same Script Include to form a function library.</span><br/></span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">3. Once we save this we can "include" this Script Include in any client or server-side script of our choosing.</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><br/></span></p><p></p><p></p><p style="font-size: 13px; font-family: arial, sans-serif; color: #666666;"><span style="font-size: 18pt; font-style: inherit; font-family: inherit; font-weight: inherit;"><strong>Lab 1.2: Testing the JavaScriptExtensions functionality</strong></span></p><p></p><p style="font-size: 13.3333px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong style="color: #ff0000;">NOTE</strong>: To fully test using this lab; all five of the Polyfills mentioned in Lab 1.1 must be present in the new Script Include.<br/></span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><br/></span></p><p style="font-size: 13px; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: inherit;">1. Navigate to System Definition -&gt; Fix Scripts.   The Fix Scripts List View will be displayed.</span></p><p></p><p style="font-size: 13px; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: inherit;">2. Click on the New button.   A new Fix Script form will be displayed.</span></p><p style="font-size: 13px; font-family: arial, sans-serif; color: #666666;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; color: #575757; line-height: 1.5em;">       </span><span style="font-size: 16px;"></span><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; color: #575757; line-height: 1.5em;">a.   </span><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; color: #575757; line-height: 1.5em;"><strong>Name</strong></span><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; color: #575757; line-height: 1.5em;">: JavaScript Extension Test</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">       b.   <strong>Active</strong>: checked</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">       c.   <strong>Description</strong>: This Fix Script is for testing the JavaScript ECMAScript 6 extensions.</span></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"> <span style="font-size: 16px;">       </span>d.   <strong>Script</strong>:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_text_macro jive_macro_code _jivemacro_uid_1444740604400588" jivemacro_uid="_1444740604400588">
<p>gs.include('JavaScriptExtensions');</p>
<p></p>
<p>// --- String.repeat extenstion</p>
<p>gs.print('----------- String repeat Extensions');</p>
<p>//'abc'.repeat(-1);     // RangeError</p>
<p>gs.print('abc'.repeat(0));       // ''</p>
<p>gs.print('abc'.repeat(1));       // 'abc'</p>
<p>gs.print('abc'.repeat(2));       // 'abcabc'</p>
<p>gs.print('abc'.repeat(3.5));   // 'abcabcabc' (count will be converted to integer)</p>
<p>var depth = 5;</p>
<p>gs.print('-'.repeat(4 * depth));</p>
<p>//'abc'.repeat(1/0);   // RangeError</p>
<p></p>
<p>var quote = 'To be, or not to be, that is the question.';</p>
<p></p>
<p>gs.print('\n----------- String startsWith Extensions');</p>
<p>// ---- String.startsWith extension</p>
<p>gs.print(quote.startsWith('To be'));                 // true</p>
<p>gs.print(quote.startsWith('not to be'));         // false</p>
<p>gs.print(quote.startsWith('not to be', 10)); // true</p>
<p></p>
<p>gs.print('\n----------- String includes Extensions');</p>
<p>// ---- String.includes extension</p>
<p>gs.print(quote.includes('To be'));             // true</p>
<p>gs.print(quote.includes('question'));       // true</p>
<p>gs.print(quote.includes('nonexistent')); // false</p>
<p>gs.print(quote.includes('To be', 1));       // false</p>
<p>gs.print(quote.includes('TO BE'));             // false</p>
<p></p>
<p>gs.print('\n----------- String endsWith Extensions');</p>
<p>// ---- String.endsWith extension</p>
<p>gs.print(quote.endsWith('question.')); // true</p>
<p>gs.print(quote.endsWith('to be'));         // false</p>
<p>gs.print(quote.endsWith('to be', 19)); // true</p>
<p></p>
<p>// ---- test the Array.fill extension</p>
<p>gs.print('\n----------- Array fill Extensions');</p>
<p>gs.print([1, 2, 3].fill(4));                             // [4, 4, 4]</p>
<p>gs.print([1, 2, 3].fill(4, 1));                       // [1, 4, 4]</p>
<p>gs.print([1, 2, 3].fill(4, 1, 2));                 // [1, 4, 3]</p>
<p>gs.print([1, 2, 3].fill(4, 1, 1));                 // [1, 2, 3]</p>
<p>gs.print([1, 2, 3].fill(4, -3, -2));             // [4, 2, 3]</p>
<p>gs.print([1, 2, 3].fill(4, NaN, NaN));         // [1, 2, 3]</p>
<p>gs.print(Array(3).fill(4));                               // [4, 4, 4]</p>
<p>var checkArray = [].fill.call({ length: 3 }, 4);   // {0: 4, 1: 4, 2: 4, length: 3}</p>
<p>for (var i=0; i &lt; checkArray.length; i++) {</p>
<p><span style="font-size: 13.3333px;">   </span>   gs.print(i + ': ' + checkArray[i]);</p>
<p>}</p>


</pre><p></p><p style="font-size: 13px; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: inherit;"><span style="font-weight: inherit; font-style: inherit; font-family: inherit;">   </span>   e. Right-click on the form header to bring up the context menu and choose Save to save your work.</span></p><p><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: inherit;"><br/></span></p><p style="font-size: 13px; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: inherit;">4. If you have not <a title="" _jive_internal="true" data-containerid="1027" data-containertype="37" data-objectid="4733" data-objecttype="38" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/01/mini-lab-fix-script-application-enhancement" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;">enhanced </a>your Fix Scripts form scroll down to the bottom of the form and click on the Run Fix Script related link to run the script.</span></p><p></p><p style="font-size: 13px; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: inherit;">5. Your results should look something like the following:</span></p><p style="font-size: 13px; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: inherit;"><br/></span></p><p style="font-size: 13px; font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: inherit;"><img   alt="4.run.png" class="image-1 jive-image" src="0c1ba84edbd09304b322f4621f9619a8.iix" style="height: 326px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/><br/></span></p><p></p><p><span style="font-size: 12pt;">I have posted the latest JavaScriptExtensions code out on the <a title="hare.servicenow.com/app.do#/detailV2/384375dd4543c2007c39bada468d18fd/overview" href="https://share.servicenow.com/app.do#/detailV2/384375dd4543c2007c39bada468d18fd/overview">share </a>with this functionality if you would like to download it.</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Steven Bell</span></p><p></p><p></p><p><span style="font-size: 16px; font-family: arial, sans-serif; color: #800080;"><strong>If you find this article helps you, don't forget to log in and "like" it!   I would also like to encourage you to become a member of our blog!</strong></span></p>