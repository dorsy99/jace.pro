---
title: "Known Error of the week Outofmemory conditions in Eureka"
date: 2015-05-19T04:54:31.000Z
authors: ["heidi.schnakenberg"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=c33e22addbd0dbc01dcaf3231f96191b"
---
<p>In recent weeks, we've been paying special attention to Known Errors that have high subscription rates and are closely watched by both customers and ServiceNow employees. One of those is <a title="i.service-now.com/kb_view.do?sys_kb_id=2daecd8e6f4b61402f250bae9f3ee4e5" href="https://hi.service-now.com/kb_view.do?sys_kb_id=2daecd8e6f4b61402f250bae9f3ee4e5">KB0541299: In Eureka, an out of memory condition occurs when null or zero length strings are entered into the search field</a>, which we'll examine a little more closely here.</p><p></p><p>This issue was found shortly after the launch of Eureka last summer. What we found, was that instances running on Eureka through Eureka Patch 3 were encountering an out-of-memory (OOM) condition when a null or zero length string was entered into the search field in Service Catalog. In some cases, one or more error messages indicating that Java memory utilization was high would also appear in the logs. (Please note that the error message does not appear via the UI. You must review the instance logs.) This resulted in unexpected node behavior, and in some cases, led to performance degradation or even an outage.</p><p></p><p>Here's what it looks like:</p><p></p><ol><li>Navigate to <strong>Self-Service &gt; Service Catalog</strong>.</li><li>Click in the search field.</li><li>Enter a space, and click the search icon.</li></ol><p></p><p>This error message appears:</p><p></p><p><span style="font-family: 'courier new', courier;">SEVERE *** ERROR *** OutOfMemoryError: Java heap space</span></p><p></p><p>We realized right away that this could have a high impact and cause significant issues for customers, and we implemented a fix for Eureka, Patch 4 and beyond, and we recommend customers upgrade to avoid this problem. But what can be done for customers still on Eureka through Eureka Patch 3? There are two good options that we suggest. Here they are:</p><p></p><hr width="70%"/><p></p><p>Option 1: Disable <strong>Search Suggest</strong></p><p></p><p><span style="color: #485563; font-family: Arial; font-size: 13px;">If you are a customer admin, you can disable the <strong>Search Suggest</strong> feature by turning off the system property. To do this, go to <strong>System Properties &gt; Service Catalog</strong> and search for <strong>Specify whether search suggestions should be enabled</strong>. Uncheck the box below it.</span><span style="color: #485563; font-family: Arial; font-size: 13px;"><span> Or, you can access the property directly by going to </span><a title="" _jive_internal="true" href="/" rel="nofollow" target="_blank">https://</a><span style="color: #008000;">&lt;instance_name&gt;</span>.service-now.com<span style="color: #0000ff;">/sys_properties_list.do?sysparm_query=name%3Dglide.sc.search.suggestions</span> and from there, set the property value to <strong>false</strong>. </span></p><p><span style="color: #485563; font-family: Arial; font-size: 13px;"><br/></span></p><hr width="70%"/><p><span style="color: #485563; font-family: Arial; font-size: 13px;"><br/></span></p><p><span style="color: #485563; font-family: Arial; font-size: 13px;">Option 2: Partially disable <strong>Search Suggest</strong></span></p><p><span style="color: #485563; font-family: Arial; font-size: 13px; line-height: 1.5em;"><br/></span></p><p><span style="color: #485563; font-family: Arial; font-size: 13px; line-height: 1.5em;">If it isn't practical to completely disable Search Suggest, your other option is to partially disable it by using a Global UI script to block the trigger of search suggestions when an empty string is detected. This option allows you to leave the Search Suggest feature<em> on</em> for all other queries.   </span></p><p><span style="color: #485563; font-family: Arial; font-size: 13px; line-height: 1.5em;"><br/></span></p><p style="margin-bottom: 9px; color: #485563; font-family: Arial; font-size: 13px;">To enable this workaround, go to <strong>System UI &gt; UI Scripts</strong> and create or edit the script as described here:</p><ol><li><strong>Name:</strong> Fix for empty term and autocomplete</li><li><strong>Global:</strong> true</li><li><strong>Script Content:</strong> Note the bold lines indicate lines to be added if modifying an existing script</li></ol><p></p><p><span style="font-family: 'courier new', courier;">function acReferenceKeyPress(element, evt) {</span></p><p><span style="font-family: 'courier new', courier;">   if (!element.ac)</span></p><p><span style="font-family: 'courier new', courier;">       return true;</span></p><p></p><p><span style="font-family: 'courier new', courier;"><strong>   var s = element.ac._getSearchChars();</strong></span></p><p><span style="font-family: 'courier new', courier;"><strong>   if (s == "")</strong></span></p><p><span style="font-family: 'courier new', courier;"><strong>       return true;</strong></span></p><p></p><p><span style="font-family: 'courier new', courier;">   var rv =   element.ac.keyPress(evt);</span></p><p><span style="font-family: 'courier new', courier;">   if (rv == false)</span></p><p><span style="font-family: 'courier new', courier;">       evt.cancelBubble = true;</span></p><p></p><p><span style="font-family: 'courier new', courier;">   return rv;</span></p><p><span style="font-family: 'courier new', courier;">}</span></p><p></p><p><span style="font-family: 'courier new', courier;">function acReferenceKeyUp(element, evt) {</span></p><p><span style="font-family: 'courier new', courier;">   if (!element.ac)</span></p><p><span style="font-family: 'courier new', courier;">       return true;</span></p><p></p><p><span style="font-family: 'courier new', courier;"><strong>   var s = element.ac._getSearchChars();</strong></span></p><p><span style="font-family: 'courier new', courier;"><strong>   if (s == "")</strong></span></p><p><span style="font-family: 'courier new', courier;"><strong>       return true;</strong></span></p><p></p><p><span style="font-family: 'courier new', courier;">   return element.ac.keyUp(evt);</span></p><p><span style="font-family: 'courier new', courier;">}</span></p><p><span style="color: #485563; font-family: Arial; font-size: 13px;"><br/></span></p><p><span style="color: #485563; font-family: Arial; font-size: 13px;">See also <a __default_attr="4044" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Avoid errors when entering null or zero length strings into the Search field in Eureka" href="/community?id=community_blog&sys_id=1d3daae5dbd0dbc01dcaf3231f961903" modifiedtitle="true" title="Avoid errors when entering null or zero length strings into the Search field in Eureka. ">Avoid errors when entering null or zero length strings into the Search field in Eureka</a>As always, don't hesitate to leave feedback and comments here, in the <a title="i.service-now.com/kb_home.do" href="https://hi.service-now.com/kb_home.do">Knowledge Base</a>, or in <a title="ki.servicenow.com/index.php?title=Main_Page#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=Main_Page#gsc.tab=0">Product Documentation</a> to let us know if and how this Known Error helps you and what we can do to improve your experience!<br/></span></p>