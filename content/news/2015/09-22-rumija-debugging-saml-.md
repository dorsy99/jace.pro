---
title: "Debugging SAML in ServiceNow and ADFS "
date: 2015-09-21T20:47:56.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=d6cd62e9dbd0dbc01dcaf3231f9619b7"
---
<p>Suppose the SAML related plugin is activated and external authentication is enabled in SAML properties of your ServiceNow instance, if you are facing trouble while logging in to the instance using SAML, you may need some help to enable the SAML related debug properties to identify the errors.   Activating SAML to debug in ServiceNow and ADFS 2.0 during set up of SSO can save you a ton of time in the case you receive errors. Once the debugging is enabled we can see the appropriate logs in the script logs statements. The logs will help you to point the exact error where the authentication failed while using SAML. Debugging early on can ensure that you are<a title="" _jive_internal="true" href="/community/service-automation-platform/authentication/blog/2015/02/10/troubleshooting-saml-errors"> troubleshooting within scope of activating SAML</a> and ADFS for SSO.</p><p></p><p>After SAML plugin activation and initial configuration, errors can appear that potentially generate P1 outages. We can refer to the <a title="i.service-now.com/kb_view.do?sysparm_article=KB0540617" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0540617">SAML error matrix after we find the error from the debug logs</a> on how to fix the corresponding issue.</p><p></p><h2>How to enable SAML Debug in ServiceNow<strong> </strong></h2><p><span><span>Debugging in ServiceNow is enabled at the bottom of the SAML setting page. Incase you have already activated the SAML external authentication in your instance and you try to access the </span><a title="k-external-small" class="jive-link-external-small" href="https://" rel="nofollow" target="_blank">https://</a><span> &lt; Instance-name &gt; .service-now.com   .you will be redirected to SAML login page. You have to use the below steps to login as ServiceNow local user id.</span></span></p><p></p><p>How to login as a local user:</p><ol><li><span>Access the instance using side_door.do </span><ol><li><span><a title="k-external-small" class="jive-link-external-small" href="https://" rel="nofollow" target="_blank">https://</a><span> &lt; Instance-name &gt; .service-now.com/side_door.do</span></span></li></ol></li><li>Enter ServiceNow local userid and password to login to the instance.</li></ol><p></p><p>If SAML 2.0 Single Sign-On Update 1 Security Enhancement plugin is activated in your instance, Please navigate to <strong>SAML 2.0 Single Sign-On &gt; Properties</strong> to enable the debug logs.</p><p><img   alt="sso.jpg" class="image-0 jive-image" src="22e74c02db1cdb048c8ef4621f961989.iix" style="height: 279px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/></p><p><span style="font-size: 13.3333330154419px; line-height: 1.5em;">You can use the following steps to activate SSO related logs incase you are using Multi-Provider SSO.</span></p><p><span style="font-size: 13.3333330154419px; line-height: 1.5em;"><img   alt="sso2.jpg" class="image-1 jive-image" src="b0182b31db581704ed6af3231f9619bf.iix" style="height: 185px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/><br/></span></p><p>This will help to put log entries in the logs, which can be seen under <span style="font-size: 10pt; line-height: 1.5em;"><strong>System Logs &gt; System Log &gt; Script Log Statements. </strong></span></p><p><span style="font-size: 10pt; line-height: 1.5em;"><strong><img   alt="sso3.jpg" class="jive-image image-2" src="bf58494edbd0130468c1fb651f96190c.iix" style="height: 433px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/><br/></strong></span></p><p><span style="font-size: 10pt; line-height: 1.5em;"><strong><br/></strong></span></p><p>We can copy the logs which starts with "SAML Response xml:" in to XMLSpear tool or any convenient XML viewer to verify the value of different XML parameters. <span style="font-size: 10pt; line-height: 1.5em;"><strong> </strong></span></p><p></p><p>Here is an example of a SAML Response XML:</p><p><img   alt="sso4.png" class="jive-image image-3" src="2056244adb109304b322f4621f96192d.iix" style="height: 404px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/></p><p><img   alt="sso5.png" class="jive-image image-4" src="8b5580c6db9cd3049c9ffb651f9619c2.iix" style="height: 345px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/></p><h2></h2><h2></h2><h2>How to enable debugging in ADFS</h2><ol><li>Launch the <strong>Event Viewer</strong> and locate the ADFS 2.0 tab.</li><li>Right click , select <strong>View</strong></li><li>Enable the <strong>Show Analytic and Debug Logs</strong></li></ol><p><strong><img   alt="sso6.jpg" class="jive-image image-5" src="e274ebb9db50dfc0b322f4621f9619e7.iix" style="height: 519px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/><br/></strong></p><p>A new folder called ADFS 2.0 Tracing will appear. Expand the folder, Select <strong>Debug</strong> , right click and <strong>Enable Log</strong>. <strong> </strong></p><p><img   alt="sso7.jpg" class="jive-image image-6" src="b4c64dc2db50d344e9737a9e0f96195b.iix" style="height: 658px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/></p><p>Remember to turn off debug once the troubleshooting completes otherwise the system will keep generating additional SAML related logs which results in bigger log files. It won't take a toll on your instance's performance if you leave the debugger on; however, it is recommended to disable the SAML debug in order to avoid large log files. The logs in the Scripts log Statement may not be logged in sequence if the logs were generated in the same second.</p><p></p><p>Helpful SAML and ADFS 2.0 integration resources:</p><p><a title="How to Configure ADFS 2.0 to Communicate with SAML 2.0" __default_attr="3801" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="How to Configure ADFS 2.0 to Communicate with SAML 2.0" href="/community?id=community_blog&sys_id=824d2229dbd0dbc01dcaf3231f9619d5">How to Configure ADFS 2.0 to Communicate with SAML 2.0</a></p><p><a title="LDAP, SAML, SSO...an alphabet soup of acronyms you should know if you can't log in" __default_attr="3213" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="LDAP, SAML, SSO...an alphabet soup of acronyms you should know if you can't log in" href="/community?id=community_blog&sys_id=276d6e29dbd0dbc01dcaf3231f961992">LDAP, SAML, SSO...an alphabet soup of acronyms you should know if you can't log in</a></p><p><a title="You Don't Need a VPN Part III - Using Single Sign-On for Authentication" __default_attr="3708" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="You Don't Need a VPN Part III - Using Single Sign-On for Authentication" href="/community?id=community_blog&sys_id=6adde6e9dbd0dbc01dcaf3231f9619e1">You Don't Need a VPN Part III - Using Single Sign-On for Authentication</a></p><p><a title="ki.servicenow.com/index.php?title=Configuring_ADFS_3.0_to_Communicate_with_SAML_2.0#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=Configuring_ADFS_3.0_to_Communicate_with_SAML_2.0#gsc.tab=0">Configuring ADFS 3.0 to Communicate with SAML 2.0</a></p>