---
title: "Community Code Snippets The JavaScript Error Object in ServiceNow"
date: 2015-11-03T19:49:50.000Z
authors: ["sabell2012"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=d09caae1dbd0dbc01dcaf3231f9619f7"
---
<p><span style="line-height: 1.5; font-size: 12pt;">The other day I wanted to detect exactly one type of error.   The question was how do you figure out and more importantly react to certain error types.   First I needed to know the current definition of the Error object.   So back to my old friend MDN to find that out.</span></p><p></p><p><span style="font-size: 12pt;"><a title="tps//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" href="http://https//developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">MDN Error Definition</a></span></p><p></p><p><span style="font-size: 12pt;">I scrolled down to the ErrorTypes section.   Here is the short list:</span></p><p></p><p><span style="font-size: 12pt;"><strong>EvalError</strong> - an error that occurs regarding the global function eval().</span></p><p><span style="font-size: 12pt;"><strong>InternalError</strong> - an error that occurs when an internal error in the JavaScript engine is thrown. E.g. "too much recursion".</span></p><p><span style="font-size: 12pt;"><strong>RangeError</strong> - error that occurs when a numeric variable or parameter is outside of its valid range.</span></p><p><span style="font-size: 12pt;"><strong>ReferenceError</strong> - error that occurs when de-referencing an invalid reference.</span></p><p><span style="font-size: 12pt;"><strong>SyntaxError</strong> - a syntax error that occurs while parsing code in eval().</span></p><p><span style="font-size: 12pt;"><strong>TypeError</strong> - an error that occurs when a variable or parameter is not of a valid type.</span></p><p><span style="font-size: 12pt;"><strong>URIError</strong> - an error that occurs when encodeURI() or decodeURI() are passed invalid parameters.</span></p><p></p><p><span style="font-size: 12pt;">So, theoretically we should be able to catch these kinds of errors.   Actually the only one I have seen consistently is SyntaxError.   I would have to play around to see if I could get the others to trigger and it may be that these are ECMAScript 3&gt;.   If so, they may not even be present yet in ServiceNow JavaScript.</span></p><p></p><p><span style="font-size: 12pt;">BTW, I have also seen this error in the past so we should be able to do a check for it:</span></p><p></p><p><span style="font-size: 12pt;">com.glideapp.workflow.model.ModelRunTimeException</span></p><p></p><p><span style="font-size: 12pt;">Armed with all of this I flew out to my handy-dandy personal instance.   Quickly I navigated to and create a new Fix Script!   Feverishly I typed out the following:</span></p><p></p><p><span style="font-size: 12pt;"><strong>Name</strong>: JavaScript Error Object Test</span></p><p><span style="font-size: 12pt;"><strong>Description</strong>:</span></p><p><span style="font-size: 12pt;">Quick script from:</span></p><p><span style="font-size: 12pt;"><a title="" _jive_internal="true" href="/developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError</a></span></p><p><span style="font-size: 12pt;"><strong>Script</strong>:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_1446556842456394 jive_text_macro" data-renderedposition="701_8_1192_384" jivemacro_uid="_1446556842456394"><p><span style="font-size: 12pt;">// Copy and paste these from the above link, and change console.write to gs.print</span></p><p><span style="font-size: 12pt;"><code class="language-js" style="font-weight: inherit; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;"><span class="keyword token" style="color: #0077aa;">try</span> <span class="punctuation token" style="color: #999999;">{</span><br/>   <span class="token function" style="color: #dd4a68;">eval</span><span class="punctuation token" style="color: #999999;">(</span><span class="string token" style="color: #669900;">'hoo bar'</span><span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span><br/><span class="punctuation token" style="color: #999999;">}</span> <span class="keyword token" style="color: #0077aa;">catch</span> <span class="punctuation token" style="color: #999999;">(</span><span class="token class-name">e</span><span class="punctuation token" style="color: #999999;">)</span> <span class="punctuation token" style="color: #999999;">{</span><br/>   gs.print<span class="punctuation token" style="color: #999999;">(</span>e <span class="keyword token" style="color: #0077aa;">instanceof</span> <span class="token class-name">SyntaxError</span><span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span> <span class="comment token" style="color: #708090;">// true</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>message<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// "missing ; before statement"</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>name<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// "SyntaxError"</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>fileName<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// "Scratchpad/1"</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>lineNumber<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// 1</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>columnNumber<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// 4</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>stack<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// "@Scratchpad/1:2:3\n"</span><br/><span class="punctuation token" style="color: #999999;">}</span></code></span></p><p></p><p><span style="font-size: 12pt;"><code class="language-js" style="font-weight: inherit; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;"><span class="keyword token" style="color: #0077aa;">try</span> <span class="punctuation token" style="color: #999999;">{</span><br/>   <span class="keyword token" style="color: #0077aa;">throw</span> <span class="keyword token" style="color: #0077aa;">new</span> <span class="token class-name">SyntaxError</span><span class="punctuation token" style="color: #999999;">(</span><span class="string token" style="color: #669900;">'Hello'</span><span class="punctuation token" style="color: #999999;">,</span> <span class="string token" style="color: #669900;">'someFile.js'</span><span class="punctuation token" style="color: #999999;">,</span> <span class="number token" style="color: #990055;">10</span><span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span><br/><span class="punctuation token" style="color: #999999;">}</span> <span class="keyword token" style="color: #0077aa;">catch</span> <span class="punctuation token" style="color: #999999;">(</span><span class="token class-name">e</span><span class="punctuation token" style="color: #999999;">)</span> <span class="punctuation token" style="color: #999999;">{</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e <span class="keyword token" style="color: #0077aa;">instanceof</span> <span class="token class-name">SyntaxError</span><span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span> <span class="comment token" style="color: #708090;">// true</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>message<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// "Hello"</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>name<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// "SyntaxError"</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>fileName<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// "someFile.js"</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>lineNumber<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// 10</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>columnNumber<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// 0</span><br/>   <span style="font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;">gs.print</span><span class="punctuation token" style="color: #999999;">(</span>e<span class="punctuation token" style="color: #999999;">.</span>stack<span class="punctuation token" style="color: #999999;">)</span><span class="punctuation token" style="color: #999999;">;</span>     <span class="comment token" style="color: #708090;">// "@Scratchpad/2:11:9\n"</span><br/><span class="punctuation token" style="color: #999999;">}</span></code></span></p></pre><p></p><p><span class="punctuation token" style="color: #3d3d3d; font-size: 12pt;">I clicked the submit button to save my work.</span></p><p></p><p><span class="punctuation token" style="color: #3d3d3d; font-size: 12pt;">I then ran the Fix Script.   Here were my results:</span></p><p></p><p><span class="punctuation token" style="color: #3d3d3d; font-size: 12pt;"><img   class="image-1 jive-image" src="e8f9904adb581f048c8ef4621f9619af.iix" style="width: auto; height: auto; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p><span class="punctuation token" style="color: #3d3d3d; font-size: 12pt;">Imagine my surprise when I found that the instanceof worked!   Wow!   No kidding.   I seriously thought it would break.   Hmmm, maybe I had it spelled wrong on my previous <a title="" _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/11/01/mini-lab-creating-a-workflow-cancel-for-the-active-context-list-view">article</a>...doh!</span></p><p></p><p><span class="punctuation token" style="color: #3d3d3d; font-size: 12pt;">Ok, so what failed?</span></p><p></p><p><span class="punctuation token" style="color: #3d3d3d; font-size: 12pt;"><strong>filename</strong>, <strong>column number</strong>, and (crying here) <strong>stack</strong>.   On the second try, catch the <strong>line-number</strong> failed.   I went back out to the MDN site and lo!   If you read the fine-print you find that these four have not yet been standardized!   Ah!   Well then, I am happy for what does work!</span></p><p></p><p><span class="punctuation token" style="color: #3d3d3d; font-size: 12pt;">With what worked I can now use the "instanceof" on an error in the catch and actually look at types of errors (a really good explanation of how to use instanceof can be found <a title="vascript.info/tutorial/exceptions" href="http://javascript.info/tutorial/exceptions">here</a> you will have to scroll down to the bottom of the article).   That failing I can at least look at the name and snag that.</span></p><p></p><p><span class="punctuation token" style="color: #3d3d3d; font-size: 12pt;">BTW, since we are throwing an error the syntax to throw will have to be looked at because it obviously does not work this way in ServiceNow.   More on throwing errors <a title="eveloper.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/throw" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/throw">here</a>.   You will have to play around with that and see how it works (my challenge to you!   Here is a good start: <a title="w.htmlgoodies.com/html5/javascript/handling-javascript-errors-by-type.html#fbid=J9jBawH9JmC" href="http://www.htmlgoodies.com/html5/javascript/handling-javascript-errors-by-type.html#fbid=J9jBawH9JmC">errors</a>).   <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="1929_845.71875_16_16" src="/8.0.1.35b65d4/images/emoticons/happy.png"></span></span></p><p></p><p><span class="punctuation token" style="color: #3d3d3d; font-size: 12pt;">Steven Bell.</span></p><p></p><p style="font-family: arial, sans-serif; color: #666666;"><span style="color: #800080; font-weight: inherit; font-size: 12pt; font-family: inherit; font-style: inherit;"><strong>If you find this article helps you, don't forget to log in and "like" it!</strong></span></p><p></p><p style="font-family: arial, sans-serif; color: #666666;"><span style="color: #800080; font-weight: inherit; font-size: 12pt; font-family: inherit; font-style: inherit;"><strong>I would also like to encourage you to become a member of our blog!</strong></span></p>