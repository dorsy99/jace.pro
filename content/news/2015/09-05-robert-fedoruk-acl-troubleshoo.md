---
title: "ACL Troubleshooting  A visual beginners guide"
date: 2015-09-05T01:09:07.000Z
authors: ["Robert Fedoruk"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=b73ea2addbd0dbc01dcaf3231f961905"
---
<p>ACL's have the perception of being hard because they aren't easy to see in action, and have several layers of interactivity.   This blog won't make you a master, but it should ramp up your troubleshooting competency in a hurry.   Before reading you should...</p><p></p><p>Understand how to <a title="ki.servicenow.com/index.php?title=Impersonating_a_User#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=Impersonating_a_User#gsc.tab=0">impersonate users</a></p><p>Understand <a title="ki.servicenow.com/index.php?title=Using_Access_Control_Rules#Debugging" href="http://wiki.servicenow.com/index.php?title=Using_Access_Control_Rules#Debugging">ACL basics</a></p><p></p><p>So you're minding your own business, impersonating a user for a new feature you're building when...</p><p><img   alt="SecurityConstraints.png" class="image-0 jive-image" src="47436102db101744e9737a9e0f961966.iix" style="height: 119px; width: 620px;"/></p><p>or...</p><p><img   alt="FieldSecurity.png" class="image-1 jive-image" src="8a91c5cedb9c9304b322f4621f961934.iix" style="height: 118px; width: 620px;"/></p><p></p><h1><strong>STEP 1 - TWO BROWSERS / TWO MODES</strong></h1><p>I usually have two Chrome browsers open, with one in Incognito mode, but you could easily do one FireFox / one Chrome.   The idea here is to allow two different sessions so one browser can simulate the problem, and the other can be used as admin.   We'll call these Debug Browser and Admin Browser respectively.</p><p></p><p>First, as an admin on the Debug Browser, turn on Debug Security.   You'll know its on when it gives you the following message</p><p><img   alt="DebugSecurity.png" class="jive-image image-3" height="220" src="db3dd0cadb9c9704ed6af3231f961993.iix" style="height: 220.479px; width: 222px;" width="222"/><img   alt="DebugSecurityConf.png" class="jive-image image-4" height="220" src="6e8e7b71db18d3049c9ffb651f961985.iix" style="height: 220.288px; width: 316px;" width="317"/></p><p>Then impersonate the user experiencing security issues on the Debug Browser</p><p></p><p></p><h1><strong>STEP 2 - EXPERIENCE THE ISSUE</strong></h1><p>Get to the same spot you were previously experiencing issues.   You should now see a TON of new information at the bottom of your screen.   For this post, as beginners, we're only interested in a small portion of it.</p><p></p><p><img   alt="DebugSecurity-Info.png" class="jive-image image-5" height="457" src="ec612106db9c13043eb27a9e0f9619cd.iix" style="height: 456.852px; width: 504px;" width="503"/></p><p></p><p></p><h1><strong>STEP 3 - MOUSE OVER ICONS TO DISCOVER FAILURE POINTS</strong></h1><p>Lets look at just one of the entries:</p><p><img   alt="DebugSecurity-Entry.png" class="jive-image image-6" src="403c74cedb1c9344e9737a9e0f9619e2.iix" style="height: 54px; width: 620px;"/></p><p>This tells us three things immediately</p><ul><li>Which record (context) was evaluating via the hyperlink on the first line</li><li>That it was evaluating a record ACL on the Problem table for the Read operation.</li><li>That there were two possible read ACLs, but both failed.</li></ul><p></p><p>But we can learn so much more!   Hover over the icons beside each of the ACL evaluations and it tells you *how* it failed.   Lets hover over the icons on the second ACL that evaluated...</p><p></p><p>Here we're being told the ACL was expecting the user to have no roles.   Our logged in user has no roles, so that part of the ACL was a success!</p><p><img   alt="2DebugSecurity-Hover1.png" class="jive-image image-8" src="610e94cedb585344e9737a9e0f961929.iix" style="height: auto;"/></p><p>The next icon tells us that there was a condition on the ACL.   Whatever it was, we passed.   Success!</p><p><img   alt="2DebugSecurity-Hover2.png" class="jive-image image-9" src="b59bb3b5dbd45704ed6af3231f961948.iix" style="height: auto;"/></p><p>But the third icon tells us the ACL had a script condition, which resulted in false, which caused the ACL to fail.</p><p><img   alt="2DebugSecurity-Hover3.png" class="image-10 jive-image" src="0c10a58adb9c1b04ed6af3231f9619b3.iix" style="height: auto;"/></p><p></p><p>In table ACLs, all we need is one full ACL success to get the rights, but in this case both ACLs failed, which means the whole record evaluation failed.</p><p></p><h1><strong><br/></strong></h1><h1><strong>STEP 4 - INVESTIGATE THE ACLs SPECIFICALLY</strong></h1><p>Notice anything interesting about the text after the icons that tell us the failure points?   They look like hyperlinks... because they are.</p><p>Unfortunately they're useless hyperlinks at this point because we're impersonating a user experiencing an ACL issue.   That user is likely NOT a security admin.   But by Crom, we're going to find out why these two ACLs failed</p><p></p><p>This is why we need two browsers.   First, copy one of the link addresses...</p><p><img   alt="CopyLinkAddress.png" class="jive-image image-11" src="5efe30c6dbd497041dcaf3231f96191b.iix" style="height: auto;"/></p><p>... then paste it into your Admin Browser.   Presto... the *exact* ACL that failed.</p><p><img   alt="ACL.png" class="image-0 jive-image" src="757d77b1db141304b322f4621f961915.iix" style="height: 655px; width: 620px;"/></p><p></p><p>Having the two browsers open (one in Incognito mode) will allow you to both experience and research the issue simultaneously in real time.   Without this method, you could spend hours bouncing back and forth between users and screens.</p><p></p><p>Hope that was of some value to you.   With all the time you're going to save, why not drop a bookmark or a like. <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_macro jive_emote" src="/6.0.3.0/images/emoticons/happy.png"></span></p><p></p><p>Oh, and remember to disable your security debugging too.</p><p><img   alt="Disable.png" class="image-13 jive-image" src="e019904adb989fc068c1fb651f9619f1.iix" style="height: auto;"/></p>