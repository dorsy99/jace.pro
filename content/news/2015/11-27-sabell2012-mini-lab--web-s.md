---
title: "MiniLab Web Services  Part  Writing a Simple Scripted Web Service"
date: 2015-11-26T10:02:17.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=cd1eae2ddbd0dbc01dcaf3231f9619de"
---
<p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Now that we have pretty much nailed down how to send query requests to the ServiceNow out-of-the-box default table WSDL let's move to something a bit more complex and useful!</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">In this article we will be constructing a simple scripted web service that will take an XML payload, and update a specified record in the CMDB Computer table (cmdb_ci_computer).   This will require, of course, sending the XML via a SOAP Client to our new web service.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">What is really cool about all of this is that we can set up this inbound XML to be anything we want.   It does not have to follow any OOtB ServiceNow standard.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">So, for this example I will be adding five new fields to the Computer table to hold additional CPU information that we might be able to garner from any Windows machine.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>Prerequisites:</strong></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">I highly recommend doing the Part 1 and Part 2 articles before proceeding with the labs in this article.</span></p><p style="margin-bottom: .0001pt;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">1. Some sort of SOAP Client installed on your test machine. In the lab I will be using SoapUI.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">2. Create a web service user with itil and soap roles in ServiceNow.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">3. Perform the first lab: <a _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/11/23/mini-lab-web-services-part-1-using-soapui-to-test-servicenow-wsdl"><span style="color: #266fc8; background: #F8FBFE;">Mini-Lab: Web Services — Part 1: Using SoapUI to Test ServiceNow WSDL</span></a></span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. Perform the second lab: <a _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/11/24/mini-lab-web-services-part-2-using-an-encoded-query"><span style="color: #266fc8; background: #F8FBFE;">Mini-Lab: Web Services — Part 2: Using an Encoded Query</span></a></span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. Some knowledge of ServiceNow Scripting would be useful.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">6. Some knowledge of Scripted Web Services would be a bonus as well. <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="471.5_554.5166625976562_16_16" src="/8.0.1.35b65d4/images/emoticons/happy.png"></span></span></p><p style="padding-left: 60px;"><a href="http://wiki.servicenow.com/index.php?title=Scripted_Web_Services" style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5; background-color: white;"><span style="color: #0070c0;">Scripted Web Services - ServiceNow Wiki</span></a></p><p style="padding-left: 60px;"><a href="http://wiki.servicenow.com/index.php?title=Scripted_Web_Service_Tutorial" style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5; background-color: white;"><span style="color: #0070c0;">Scripted Web Service Tutorial - ServiceNow Wiki</span></a></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 18pt;"><strong>Lab 1.1:   Computer Table Setup</strong></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">There are a couple of ways of adding new fields to an existing table.   You can edit the table definition and add the fields (System Definition -&gt; Tables), or you can go through the Form view of one of the records in that table and add the fields via Form Layout.   Since Form Layout is the faster/easier method we will be using that.</span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">1. Log on to your ServiceNow instance.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">2. Navigate to Configuration -&gt; Base Items -&gt; Computers.   The Computer list view will be displayed.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">3. Edit one of the records.   The form view will be displayed for that record.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. Right-click on the form view header to display the context menu and navigate to Configure -&gt; Form Layout.   The Form Layout form will be displayed.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. Add the following fields to the bottom of the first form section:</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">CPU Socket</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">CPU Architecture</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">CPU Processor Type</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">CPU Family</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">CPU Status</span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>NOTE</strong>: For simplicity make all of these String with a length of 40.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-1 jive-image" src="f13a04c2db109fc068c1fb651f9619d3.iix" style="width: 620px; height: 315px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">6. Click the Save button to save your work.   Your form should look something like this:</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;"><img   class="image-2 jive-image" src="e21d2b75db981fc068c1fb651f9619a5.iix" style="width: 620px; height: 310px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">7. Grab the sys_id for this record by right-clicking on the form header to display the context menu, and choosing Copy sys_id.   A pop-up window will appear showing the sys_id of the record.   Copy the sys_id that is displayed to your favorite notepad.   We will be using this in our Scripted Web Service.   Close the pop-up window.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">8. Right click on the field labels for each of the new fields. Note down each of the new field names. We will be using these in our Scripted Web Service as well.   They should look like these:</span></p><p></p><p style="margin-left: 1.0in;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">u_cpu_socket</span></p><p style="margin-left: 1.0in;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">u_cpu_architecture</span></p><p style="margin-left: 1.0in;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">u_cpu_processor_type</span></p><p style="margin-left: 1.0in;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">u_cpu_family</span></p><p style="margin-left: 1.0in;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">u_cpu_status</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-3 jive-image" src="319259c6db10d7041dcaf3231f9619d6.iix" style="width: auto; height: auto; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">That finishes setting up our table to receive the new values we will be sending in. Now we are ready to move to creating our Scripted Web Service!</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 18pt;"><strong>Lab 1.2:   Creating the Scripted Web Service</strong></span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">1. From your ServiceNow instance navigate to System Web Services -&gt; Scripted Web Services.   The Scripted Web Services list view will appear.</span></p><p><br/><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">2. Click the New button.   The new Scripted Web Service form will appear.</span></p><p><br/><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">3. Fill in the form with the following:</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">a. <strong>Name</strong>: UpdateComputerCI</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">b. <strong>Active</strong>: True</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">c. <strong>Short Description</strong>: Update custom Computer CI fields</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">d. <strong>Script</strong>: </span></p><p style="margin-bottom: .0001pt;"></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_1448508897112252 jive_text_macro" data-renderedposition="2777_8_1192_384" jivemacro_uid="_1448508897112252"><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">try {</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     xmldoc = new XMLDocument(soapRequestXML);</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     var sys_id = xmldoc.getNodeText("//sys_id") + '';</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     var cpuSocket = xmldoc.getNodeText("//cpu_socket") + '';</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     var cpuArchitecture = xmldoc.getNodeText("//cpu_architecture") + '';</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     var cpuProcessorType = xmldoc.getNodeText("//cpu_processor_type") + '';</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     var cpuFamily = xmldoc.getNodeText("//cpu_family") + '';</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     var cpuStatus = xmldoc.getNodeText("//cpu_status") + '';</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     </span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     gs.log('---&gt;soapRequestXML: ' + soapRequestXML);</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     </span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     var computerRecords = new GlideRecord('cmdb_ci_computer');</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     if (computerRecords.get(sys_id)) {</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">                   computerRecords.u_cpu_socket = cpuSocket;</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">                   computerRecords.u_cpu_architecture = cpuArchitecture;</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">                   computerRecords.u_cpu_processor_type = cpuProcessorType;</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">                   computerRecords.u_cpu_family = cpuFamily;</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">                   computerRecords.u_cpu_status = cpuStatus;</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">                   computerRecords.update();</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     }</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">}</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">catch (err) {</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">     gs.log('---&gt; ERROR: ' + err, 'SWS: UpdateComputerCI');</span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #00b050;">}</span></p></pre><p style="margin-bottom: .0001pt;"></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Leave all the other fields to default.   You could change the name of the function from "execute" to something else, but I felt this was pretty descriptive of what we would be doing so I left it. </span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">I put a try/catch around the code to make sure we capture anything bad that might not have been anticipated.   You could always slick this up by adding some checking on the in-bound values.</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">The variable <a title="ki.servicenow.com/index.php?title=Scripted_Web_Services#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=Scripted_Web_Services#gsc.tab=0">soapRequestXML </a>is reserved/built-in and will automatically contain our entire inbound XML payload. Using <a title="ki.servicenow.com/index.php?title=XMLDocument_Script_Object#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=XMLDocument_Script_Object#gsc.tab=0">XMLDocument </a>we convert the XML to an object then reference the fields we want to extract.   I threw in the gs.log to print off what the XML looks like when it comes in.</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Finally using the sys_id that was sent to our code we can update the existing computer record with our inbound values.</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">BTW, did you see how the displayed WSDL URL modified itself to contain the name of your Scripted Web Service?</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">e. Right-click on the Form header to display the context menu and click Save to save your work.   This will cause the related fields tabs to appear at the bottom of the form.</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;"><img   class="jive-image image-4" src="7f70f40adbd49344e9737a9e0f9619b8.iix" style="display: block; margin-left: auto; margin-right: auto; width: 620px; height: 315px;"/></span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">f. Click on the Input Parameters tab, and click the New button. The new Input Parameters form will be displayed.   Here we will be describing our one inbound variable that will contain our variables.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">g. Fill in the form with the following:</span></p><p style="padding-left: 60px;"></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">i.     <strong>Name</strong>: payload</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ii.   Leave all the other fields their default values.</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iii. Click the Submit button to save the new Input Parameter.</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iv. The Scripted Web Service form should be re-displayed.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-5 jive-image" src="80ee2c0edb98d704ed6af3231f961917.iix" style="width: 620px; height: 91px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-bottom: .0001pt;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">h. Copy the WSDL URL to your notepad.   We will be using this to verify the WSDL, and in our SOAP Client to test with.</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. Open a new browser tab and paste your WSDL URL into the navigation field to see your new WSDL.   Note the inbound payload variable.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-6 jive-image" src="2c7c4482db509fc03eb27a9e0f96193b.iix" style="width: 620px; height: 280px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">We are done with our Scripted Web Service!</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 18pt; font-family: arial, helvetica, sans-serif;"><strong>Lab 1.3: Testing the Scripted Web Service</strong></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Now as the last step we need to set up our SOAP Client to test our new Scripted Web Service with!   I will be doing this with SoapUI, but you could just as easily set this up with any other SOAP Client.</span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">1. Open SoapUI.</span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">2. Right-Click on Project to display the context menu, and click on New SOAP Project.   The New SOAP Project form will be displayed.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">3. Fill out the form with the following:</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">a. <strong>Project Name</strong>:   Update Computer CI</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">b. <strong>Initial WSDL</strong>:   Fill in your incident wsdl url here.</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; text-indent: 0.5in; line-height: 1.5;">Example: </span><a title="ev00001.service-now.com/UpdateComputerCI.do?WSDL" href="https://dev00001.service-now.com/UpdateComputerCI.do?WSDL" style="font-family: arial, helvetica, sans-serif; font-size: 12pt; text-indent: 0.5in; line-height: 1.5;">https://dev00001.service-now.com/UpdateComputerCI.do?WSDL</a></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">c. <strong>Create Requests</strong>: Checked</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">d. Click the Ok button to display the Basic Authentication form.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. The Basic Authentication form will appear.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. Fill out the form with the user credentials you created back in the Part 1 article.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">a. <strong>Username</strong>:   svcuser</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">b. <strong>Password</strong>:   your user's password.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">c. Click on the Ok button to create the new Incident project.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">6. In the left-hand tree view navigate down to and click on result1 to bring up the properties.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">7. Fill in the following in the properties window:</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">a. <strong>Name</strong>: Update Computer</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">b. <strong>Username</strong>: svcuser</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">c. Password: the password for svcuser</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">8. From the tree view double-click on Update Computer. This will display the Update Computer XML.   </span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">9. In the Update Computer XML window change the XML to look like the following:</span></p><p></p><pre __default_attr="xml" __jive_macro_name="code" class="_jivemacro_uid_1448509235934248 jive_macro_code jive_text_macro" data-renderedposition="5593_8_1192_240" jivemacro_uid="_1448509235934248"><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span>&lt;soapenv:Envelope xmlns:soapenv="</span><a title="" _jive_internal="true" href="/schemas.xmlsoap.org/soap/envelope" rel="nofollow" target="_blank">http://schemas.xmlsoap.org/soap/envelope/</a><span>" xmlns:upd="</span><a title="" _jive_internal="true" href="/www.service-now.com/UpdateComputerCI" rel="nofollow" target="_blank">http://www.service-now.com/UpdateComputerCI</a><span>"&gt;</span></span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">     &lt;soapenv:Header/&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">     &lt;soapenv:Body&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">           &lt;upd:execute&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">                 &lt;payload&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">                           &lt;sys_id&gt;<span style="color: red;"><strong>7f8a10d60fb3ca002ae14e9ce1050e42</strong></span>&lt;/sys_id&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">                           &lt;cpu_socket&gt;<strong>CPU Socket - U3E1</strong>&lt;/cpu_socket&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">                           &lt;cpu_architecture&gt;<strong>x64</strong>&lt;/cpu_architecture&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">                           &lt;cpu_processor_type&gt;<strong>Central Processor</strong>&lt;/cpu_processor_type&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">                           &lt;cpu_family&gt;<strong>Intel Core<sup>TM</sup> i5</strong>&lt;/cpu_family&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">                           &lt;cpu_status&gt;<strong>CPU Enabled</strong>&lt;/cpu_status&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">               &lt;/payload&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">           &lt;/upd:execute&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">     &lt;/soapenv:Body&gt;</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">&lt;/soapenv:Envelope&gt;</span></p></pre><p style="margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">The sys_id is the one you copied from your CMDB Computer record earlier. </span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Since I started out meaning these to be real fields (for the purposes of the next article) I have gone to the trouble here of showing real values that will be stored in the table.   I pulled these manually from here:</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><a title="sdn.microsoft.com/en-us/library/windows/desktop/aa394373(v=vs.85).aspx" href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa394373(v=vs.85).aspx">Win32 Processor Class</a> </span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">10.   Everything should now look something like this:</span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong><img   class="image-7 jive-image" src="dfef6bbddb9c1704ed6af3231f9619e0.iix" style="width: 620px; height: 330px; display: block; margin-left: auto; margin-right: auto;"/><br clear="all"/> </strong></span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">And now we are ready to test!!!   Whoop! Trust me; this is worth it!   <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="6437.5_508.8666687011719_16_16" src="/8.0.1.35b65d4/images/emoticons/happy.png"></span></span></p><p style="padding-left: 30px;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">11.   Now click on the green "start" button at the top of the Update Computer XML form.   This will send our test XML to our new Scripted Web Service.   You should see something like the following when it is done:</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="jive-image image-8" src="c013558edb1813043eb27a9e0f96195e.iix" style="width: 620px; height: 330px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">The response XML indicates a successful run.   If you do not get anything back take a look at the SoapUI log and/or the http log at the bottom (press buttons).</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Now let's check to see what happened on our instance!</span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">12.   In your ServiceNow instance navigate to System Logs -&gt; System Log -&gt; All</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">13.   Set the filter to where "Message starts with ---&gt;"</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">14.   You should see something like this:</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;"><img   class="image-9 jive-image" src="4ecae4c2dbd857041dcaf3231f961909.iix" style="width: 620px; height: 259px; display: block; margin-left: auto; margin-right: auto;"/> </span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">This is our inbound XML captured for our study.   Looks exactly as we sent it doesn't it?   Well...sort of...close enough! <span __jive_emoticon_name="plain" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="7434.5_865.61669921875_16_16" src="/8.0.1.35b65d4/images/emoticons/plain.png"></span></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">15.   Now navigate to Configuration -&gt; Base Items -&gt; Computers.   The Computer list view will be displayed.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">16.   Filter on where sys_id equals the value of the record that you copied out in Lab 1.1 above. You should see just your one record displayed.   Edit that record.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">17.   You should see all of your new fields filled in something like the following:</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;"><img   class="jive-image image-10" src="2a3a8806dbd81344e9737a9e0f96191c.iix" style="width: 620px; height: 313px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">That is all there is to it!   You now have a model to play with that sends a simple XML payload into a Scripted Web Service that then updates values in a CMDB Computer record.   Cool, huh?!   </span></p><p></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Steven Bell</span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="color: purple; font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong>If you find this article helps you, don't forget to log in and "like" it!</strong></span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="color: purple; font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong>Also, if you are not already, I would like to encourage you to become a member of our blog!</strong></span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="color: purple; font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong><a _jive_internal="true" href="/servlet/JiveServlet/showImage/38-4985-86661/CS_logo.jpg"><img  alt="CS_logo.jpg" class="image-18 jive-image" height="60" src="171d6f75db981fc068c1fb651f96194c.iix" width="151"/></a></strong></span><span style="color: purple; font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong><a _jive_internal="true" data-containerid="2061" data-containertype="14" data-objectid="2273" data-objecttype="102" href="/community?id=community_article&sys_id=330d6ea5dbd0dbc01dcaf3231f961965"><img  alt="MVP-logo.jpeg" class="image-17 jive-image" height="48" src="1692d142db9897049c9ffb651f9619df.iix" width="135"/></a></strong></span></p><p><span style="color: #eb7a3d;">Please Share, Like, Comment this blog if you've found it helpful or insightful.</span></p><p></p><hr/><p><span style="color: #e23d39;">For other Expert Knowledge</span></p><p><span style="font-size: 11pt;"><strong><a title="" _jive_internal="true" href="/bit.ly/1njDGAZ">Ask A Developer</a>             <a title="" _jive_internal="true" href="/bit.ly/1Pg93au">What's In Store For IT Leaders in 2016 </a>           <a title="" _jive_internal="true" href="/bit.ly/1PxAtEE">ServiceNow Online Learning Courses   </a>       <a title="" _jive_internal="true" href="/bit.ly/1Qo39TY">ServiceNow Foundations: User Interface</a></strong></span></p><hr/><p><span style="color: #000000; font-size: 12pt; font-family: Calibri;">   </span></p>