---
title: "How Much Does It Cost to Get Compliant"
date: 2015-07-01T02:32:55.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=66dd2ae9dbd0dbc01dcaf3231f96199e"
---
<p>Community member <a title="Rick Hanks" __default_attr="17424" __jive_macro_name="user" class="jive_macro_user jive_macro" data-orig-content="Rick Hanks" href="/community?id=community_user_profile&user=ea929e2ddbd81fc09c9ffb651f961967">Rick Hanks</a> posted a fascinating question: How can you estimate the cost required to reach compliance in the situations where you do not own enough software rights to cover the software rights used in your environment. You can see the original post here: <a title="License Compliance" __default_attr="800977" __jive_macro_name="message" class="jive_macro_message jive_macro" data-orig-content="License Compliance" href="/community?id=community_question&sys_id=7b129721db101fc01dcaf3231f96195a">License Compliance</a>.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">This seems like a very reasonable question. If you are out of compliance, you may want to use this estimated cost to determine whether or not to purchase more rights for the software or to take some other approach towards compliance, such as removing installations.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">First thought here might be to approach this with a calculated field based on the <strong>Immediate compliance</strong> number. Even a little searching around the wiki and community, though, shows that calculated fields are for display purposes and not for reporting, and this is clearly information you want to report on.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">A better approach here is to create a field (or in this case fields, as I will explain momentarily) to support this information and populate it through a Business Rule.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><h1 style="font-family: 'Helvetica Neue'; font-size: 14px;">Configure the Calculation</h1><p style="font-family: 'Helvetica Neue'; font-size: 14px;">When it comes to compliance in Software Asset Management (SAM), ServiceNow provides two different numbers: Immediate and Planned compliance. <strong>Immediate compliance</strong> shows how many rights you need to be compliant with the vendor as of right now. <strong>Planned compliance</strong> takes into account systems and users entitled to use the software but do not have it installed. To work with both of these, you need to set up the fields to capture the costs on the <strong>Software Counter Results</strong> table, not the <strong>Software Counter</strong> table. This has the added benefit of showing the costs broken out by department, location, or other method you use to group the software with the count.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">The calculation itself is pretty simple: it is the number of rights needed to be compliant multiplied by the cost per right. The compliance numbers are easy. You can find these right on the <strong>Software Counter Result</strong>:</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><img   alt="2015-06-30_14-07-27.png" class="image-0 jive-image" src="6d601542db989f048c8ef4621f96199d.iix" style="height: 310px; width: 620px; display: block; margin-left: auto; margin-right: auto; border: #000 solid 1px;"/></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">The cost also is not difficult, but you need to make sure you have the information available. The best place to store this information is the Cost field in the Software Model record:</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><img   alt="2015-06-30_13-59-26.png" class="image-1 jive-image" height="384" src="cb303882dbdc57041dcaf3231f9619a6.iix" style="height: 384.435483870968px; width: 454px; display: block; margin-left: auto; margin-right: auto; border: #000 solid 1px;" width="454"/></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">Next you need to create fields to store this information. From a Software Counter record, open one of the Software Counter Results. Add two new Currency fields to the form:</p><ol style="font-family: 'Helvetica Neue'; font-size: 14px;"><li>Immediate cost</li><li>Planned cost</li></ol><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><img   alt="2015-06-30_14-11-45.png" class="jive-image image-2" height="245" src="27019486db105344e9737a9e0f961944.iix" style="height: 244.838709677419px; width: 330px; display: block; margin-left: auto; margin-right: auto; border: #000 solid 1px;" width="330"/></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">Now comes the tricky part: how do you populate this field? This involves a Business Rule that runs when you create or update a Software Counter Result, which happens when you run a license count. Create the Business Rule to run <strong>after</strong> Insert and Update. Select the Advanced option and use this script:</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><span style="font-family: 'courier new', courier;">function onAfter(current, previous) { </span></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><span style="font-family: 'courier new', courier;">       current.u_compliance_now_cost = current.compliance_now * current.counter.model.cost; </span></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><span style="font-family: 'courier new', courier;">       current.u_compliance_plan_cost = current.compliance_plan * current.counter.model.cost; </span></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><span style="font-family: 'courier new', courier;">       current.update(); </span></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><span style="font-family: 'courier new', courier;">} </span></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><img   alt="2015-06-30_16-19-50.png" class="jive-image image-3" src="eb70b371db9c93049c9ffb651f96197d.iix" style="height: 245px; width: 620px; display: block; margin-left: auto; margin-right: auto; border: #000 solid 1px;"/></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">Note: you may need to update the names of the cost fields if you call them something different in your environment.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><h1 style="font-family: 'Helvetica Neue'; font-size: 14px;"><strong>Capture the Cost</strong></h1><p style="font-family: 'Helvetica Neue'; font-size: 14px;">With the fields created and the Business Rule in place, the process to capture the estimated cost to become compliant is <em>almost</em> as easy as doing a <strong>Count licenses</strong> in the Software Counter. I say almost because the way the Software Counter Results cache, you need to choose the option to <strong>Rebuild SAM cache</strong> the first time you want to capture this information. Otherwise the Software Counter Result records never update for the calculation to perform.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><img   alt="2015-06-30_15-34-23.png" class="jive-image image-4" height="156" src="ad4e41c6db1897049c9ffb651f9619e7.iix" style="height: 155.689655172414px; display: block; margin-left: auto; margin-right: auto; width: 280px; border: #000 solid 1px;" width="280"/></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">When the count completes, you can navigate to the Software Counter Result record to see the estimated costs.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><img   alt="2015-06-30_15-42-48.png" class="jive-image image-5" height="213" src="92db200edb18d704ed6af3231f9619db.iix" style="height: 212.864516129032px; width: 468px; display: block; margin-left: auto; margin-right: auto; border: #000 solid 1px;" width="468"/></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><h1 style="font-family: 'Helvetica Neue'; font-size: 14px;">Report the Cost</h1><p style="font-family: 'Helvetica Neue'; font-size: 14px;">With the cost information available now, you want easier ways to access that information so you do not need to go to the <strong>Software Counter Result</strong> record every time you want this information.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">One place to make this information more readily available is right in the <strong>Software Counter Results</strong> related list on the <strong>Software Counter</strong> record. Add the fields to the list view (or have your System Administrator add them) and even add a <a title="ki.servicenow.com/index.php?title=Totaling_in_Lists#Configuring_List_Calculations&gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=Totaling_in_Lists#Configuring_List_Calculations&amp;gsc.tab=0">List Calculation</a> to get the total.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><img   alt="2015-06-30_15-50-41.png" class="jive-image image-6" src="821f444adbd09fc068c1fb651f961981.iix" style="height: 227px; width: 620px; display: block; margin-left: auto; margin-right: auto; border: #000 solid 1px;"/></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">You can also create a report to show all the cost information associated with software compliance. To ensure you only show records where you have this data, set filter conditions to only show where Planned compliance AND Planned cost are greater than zero. Because Planned compliance is always greater than or equal to the Immediate compliance, this gives you the records where you have compliance numbers.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><img   alt="2015-06-30_16-03-31.png" class="jive-image image-7" src="be7fe339db98dfc0b322f4621f961903.iix" style="height: 389px; width: 620px; display: block; margin-left: auto; margin-right: auto; border: #000 solid 1px;"/></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">Another useful report here can help you to identify where you still need to determine the cost for compliance, either because you have not identified a cost on the Software Model or because you have not rebuilt the SAM cache. This report is very similar, but you want to identify where the Planned cost is still set to 0 while the Planned compliance is greater than 0.</p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"><img   alt="2015-06-30_16-07-58.png" class="jive-image image-8" src="933d498adbd41b04ed6af3231f961916.iix" style="height: 197px; width: 620px; display: block; margin-left: auto; margin-right: auto; border: #000 solid 1px;"/></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;"></p><p style="font-family: 'Helvetica Neue'; font-size: 14px;">There you have it! A method to estimate how much compliance will cost you. As this information is based on a general cost, it may not factor in any volume discounts you might negotiate or account for other processes you might use to reach a compliant state, such as software removal, but this information can certainly be valuable from a planning perspective. Regardless, these costs will be less than the penalties for non-compliance   in the case of an audit, so it is good to be proactive.</p>