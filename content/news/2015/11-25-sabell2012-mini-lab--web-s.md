---
title: "MiniLab Web Services  Part  Using SoapUI to Test ServiceNow WSDL"
date: 2015-11-24T11:27:52.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=385d2629dbd0dbc01dcaf3231f961930"
---
<p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;">For a while I have been contemplating a series of articles on how to interface externally with ServiceNow using Scripted Web Services.     In this first article I will be showing how to use a SOAP client to talk with a ServiceNow WSDL.       </span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;"><strong>Soap Client: SoapUI</strong></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;">I have been using SoapUI for almost as long as it has been around.   I was looking for a decent Soap client tool and it was recommended to me by a friend. Since it is what I am most familiar with I will be using it in this example.   Btw, in its latest couple of incarnations it does REST as well. Download from:   <a title="w.soapui.org/" href="http://www.soapui.org/">SoapUI</a>. Follow the installation instructions, and you will then be ready to walk through this short lab.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;"><strong>Disclaimer</strong>: This is not an endorsement of the SoapUI product by Cloud Sherpas, Inc..   This is simply an example of how to test ServiceNow SOAP/WSDL using this tool.   This is simply my personal preference.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;">Other SOAP Client tools to consider:</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><a title="w.membrane-soa.org/soap-client/" href="http://www.membrane-soa.org/soap-client/">Membrane</a></span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><a title="w.altova.com/xmlspy.html" href="http://www.altova.com/xmlspy.html">XMLSpy</a></span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><a title="eter.apache.org/usermanual/get-started.html" href="http://jmeter.apache.org/usermanual/get-started.html">JMeter</a></span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><a title="ozaapp.webs.com/" href="http://moozaapp.webs.com/">Mooza</a></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;">That is just a sampling.   There are a plethora of them available on the web!</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;"><strong>Lab 1.1: Retrieving an Incident Record</strong></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;">So what is involved?   </span></p><p style="margin-bottom: .0001pt;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">1) We must create a new web service user that will be used to access ServiceNow.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">2) Next we have to create a group that will have the correct permissions, and then assign our new user to the new group.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">3) We must verify access to the WSDL via our favorite browser.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">4) We then fire up SoapUI and create a new project to retrieve incidents.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">1. Log onto your instance.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">2. Navigate to User Administration -&gt; Users.   The Users list view will be displayed.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">3.Click the New button.   The new user form will be displayed.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">4. Fill out the form with the following:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12pt;"><strong>Name</strong>: svcuser</span></li><li><span style="font-size: 12pt;"><strong>Password</strong>: pick your favorite</span></li><li><span style="font-size: 12pt;"><strong>Web Service Access Only</strong>: checked.</span></li><li><span style="font-size: 12pt;">Accept the default for all other fields.</span></li><li><span style="font-size: 12pt;">Click the Submit button to save your work.</span></li></ol></ol><p></p><p><span style="font-size: 12pt;"><img   alt="1.New Web Service User.png" class="image-1 jive-image" src="992705cadb5497049c9ffb651f961905.iix" style="width: 620px; height: 259px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p><span style="font-size: 12pt;">5. Navigate to User Administration -&gt; Groups.   The Groups list view will be displayed.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">6. Click on the New button.   The new group form will be displayed.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">7. Fill out the form with the following:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12pt;"><strong>Name</strong>: Web Service</span></li><li><span style="font-size: 12pt;"><strong>Description</strong>: Contains users used by web services</span></li><li><span style="font-size: 12pt;">Right-click on the form header to display the context menu and Save.</span></li></ol></ol><p><span style="font-size: 16px; line-height: 26.6667px;"><img   alt="2.New Web Group.png" class="image-2 jive-image" src="1164ec06dbdc5304b322f4621f961942.iix" style="width: 620px; height: 170px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">d. Scroll to the bottom of the form to the Related Links tabs, and click on the Roles tab.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">e. Click the Edit button.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">f. Add the following Roles:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><ol style="list-style-type: lower-roman;"><li><span style="font-size: 12pt;">Itil</span></li><li><span style="font-size: 12pt;">Soap</span></li><li><span style="font-size: 12pt;">Click the Save button to save your work.</span></li></ol></ol></ol><p style="margin-left: .75in; margin-bottom: .0001pt;"></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><span style="font-size: 12pt;">Without it you won't be able to retrieve records from those tables. The Soap role allows our web user to access everything.   In addition we have to add the itil role to be able to access and read Incident, Problem, and Change.   </span></p><p style="margin-left: .75in; margin-bottom: .0001pt;"></p><p style="margin-left: .75in; margin-bottom: .0001pt;"><img   alt="3.add itil and soap roles.png" class="image-3 jive-image" src="66438c8edb1c5704ed6af3231f96193f.iix" style="width: 620px; height: 444px; display: block; margin-left: auto; margin-right: auto;"/></p><p style="margin-left: .75in; margin-bottom: .0001pt;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">g. Click on the Group Members tab, and click the Edit button.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">h. Add the following User:</span></p><ol style="list-style-type: lower-alpha; padding-left: 30px;"><ol style="list-style-type: lower-roman; padding-left: 30px;"><li style="padding-left: 30px;"><span style="font-size: 12pt;">Svcuser</span></li><li style="padding-left: 30px;"><span style="font-size: 12pt;">Click on the Save button to save your work.</span></li></ol></ol><p></p><p><span style="font-size: 12pt;"><img   alt="4.Add svcuser.png" class="image-4 jive-image" src="4682affddb5c9f04e9737a9e0f961998.iix" style="width: 620px; height: 313px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p><span style="font-size: 12pt;">                   You will see a series of blue informational messages showing that the itil and soap roles have been assigned to your user.</span></p><p></p><p><span style="font-size: 12pt;">                   And we are done with the ServiceNow configuration side. We are all set to start doing queries from our external SOAP Client!</span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">8. Open a new Tab in your browser, and enter your instance's url, remove /navpage.do, and tack on: /incident.do?wsdl. The url should look something like this:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12pt;"><a title="ev00000.service-now.com/incident.do?wsdl" href="https://dev00000.service-now.com/incident.do?wsdl">https://dev00000.service-now.com/incident.do?wsdl</a></span></li><li><span style="font-size: 12pt;">Hit enter to view the Incident table's WSDL.</span></li></ol></ol><p style="margin-left: .75in; margin-bottom: .0001pt;"></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><strong>NOTE</strong>: ServiceNow out-of-the-box exposes most table's wsdl. This includes several commands with fields that can be utilized.   We will be focusing on the getRecords command.   You can find this by scrolling down a ways, and will look something like this:</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><img   alt="5.WSDL - getRecords.png" class="image-5 jive-image" src="4afa4182dbd497049c9ffb651f961966.iix" style="width: 620px; height: 646px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;">These commands allow and authorized SOAP Client to perform actions against the given table.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">9. Now open up SoapUI.   On the first time it is opened you will see the project work area looking something like this:</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><img   alt="6.SOAP UI main screen.png" class="image-6 jive-image" src="e4aaa04adbd09304b322f4621f961926.iix" style="width: 620px; height: 331px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">10. Right-Click on Project to display the context menu, and click on New SOAP Project.   The New SOAP Project form will be displayed.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><img   alt="7.New SOAP Project_1.png" class="image-7 jive-image" src="cb48040adbd81304b322f4621f961993.iix" style="width: 620px; height: 330px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">11. Fill out the form with the following:</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">a. <strong>Project Name</strong>: Incident</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">b. <strong>Initial WSDL</strong>: Fill in your incident wsdl url here.</span></p><p style="margin-left: 0.25in; margin-bottom: 0.0001pt; text-indent: 0.5in; padding-left: 30px;"><span style="font-size: 12pt;">Example: <a title="ev00000.service-now.com/incident.do?wsdl" href="https://dev00000.service-now.com/incident.do?wsdl">https://dev00000.service-now.com/incident.do?wsdl</a></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">c. <strong>Create Requests</strong>: Checked</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">d. Click the Ok button to display the Basic Authentication form.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px; text-align: center;"><span style="font-size: 12pt;"><img   alt="8.New SOAP Project_2.png" class="image-10 jive-image" src="195901c2db14130468c1fb651f9619ce.iix" style="width: 620px; height: 331px;"/></span></p><p style="padding-left: 30px;"></p><p><span style="font-size: 12pt;">12. The Basic Authentication form will appear.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">13. Fill out the form with your new user credentials.</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12pt;"><strong>Username</strong>: svcuser</span></li><li><span style="font-size: 12pt;"><strong>Password</strong>: your user's password.</span></li><li><span style="font-size: 12pt;">Click on the Ok button to create the new Incident project. </span></li></ol></ol><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p style="margin-left: 0.25in; margin-bottom: 0.0001pt; text-align: center;"><span style="font-size: 12pt;"><img   alt="9.soapui_basic authentication.png" class="image-9 jive-image" src="4f9a2f7ddbd0df04e9737a9e0f96199c.iix" style="height: auto;"/></span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><strong>NOTE</strong>: If you get an error then try a couple more times.   If it still fails you may need to exit Soap UI and retry.   I've bumped into this a couple of times.   Not sure why.   Perseverance rules!</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">14. Soap UI does all the work for us by creating a new project with all of the commands, and the base XML we can use to submit our queries!</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">15. Navigate to Projects -&gt; Incident -&gt; ServiceNowSoap -&gt; getRecords and expand the "+" symbol.   Select on Result1 which will be displayed.   This will show the properties window below.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"> </span><img   alt="10.new incident project loaded.png" class="image-11 jive-image" src="6df86842db545f048c8ef4621f961954.iix" style="font-size: 16px; line-height: 26.6667px; text-align: center; width: 620px; height: 329px; display: block; margin-left: auto; margin-right: auto;"/></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">16. Fill out the properties window with the following:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12pt;"><strong>Name</strong>: getIncidents</span></li><li><span style="font-size: 12pt;"><strong>Username</strong>: svcuser</span></li><li><span style="font-size: 12pt;"><strong>Password</strong>: your user's password.</span></li></ol></ol><p style="margin-bottom: .0001pt;"></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><strong>NOTE</strong>: It is necessary to re-fill in the user name and password for each command even though we entered it once already to create the project.   Soap UI does not assume the user name and password used to create the project will be the same used to do the queries.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><img   alt="11.getIncident authentication.png" class="image-12 jive-image" src="7c68844adbd81304b322f4621f961957.iix" style="height: auto; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">17. Double-click on getIncidents to bring up the default XML and results window.   </span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;"><img   alt="12.getIncidents command xml.png" class="image-13 jive-image" src="d2786375db181fc03eb27a9e0f96195f.iix" style="width: 620px; height: 350px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><strong>NOTE</strong>: The XML displayed is just a template, and will not retrieve anything "as-is".   We will need to modify it in order to actually do a query.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">18. Copy the XML out to your favorite editor (to keep it around).</span></p><p></p><p><span style="font-size: 12pt;">19. Change the XML to the following:</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><pre __default_attr="xml" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14483407617187469 jive_text_macro" data-renderedposition="7460.60009765625_8_1192_130" jivemacro_uid="_14483407617187469"><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><span>&lt;soapenv:Envelope xmlns:soapenv="</span><a title="" _jive_internal="true" href="/schemas.xmlsoap.org/soap/envelope" rel="nofollow" target="_blank">http://schemas.xmlsoap.org/soap/envelope/</a><span>" xmlns:inc="</span><a title="" _jive_internal="true" href="/www.service-now.com/incident" rel="nofollow" target="_blank">http://www.service-now.com/incident</a><span>"&gt;</span></span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;">     &lt;soapenv:Header/&gt;</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;">     &lt;soapenv:Body&gt;</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;">             &lt;inc:getRecords&gt;</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;">                     &lt;active&gt;true&lt;/active&gt;</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;">             &lt;/inc:getRecords&gt;</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;">     &lt;/soapenv:Body&gt;</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;">&lt;/soapenv:Envelope&gt; </span></p></pre><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p style="margin-left: .25in; margin-bottom: .0001pt;"><span style="font-size: 12pt;"><strong>NOTE</strong>:   If you have a lot of incidents you may want to use additional fields to narrow the search. Each parameter you add will be ANDed to the previous.</span><span style="font-size: 12pt;"> </span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">20. Click on the Start button in the upper left corner of the XML form.   This will run our query.   After a few seconds the results will appear in the right side (results panel).</span></p><p></p><p><img   alt="13.get all active true.png" class="image-14 jive-image" src="a7780546db949f048c8ef4621f96193a.iix" style="font-size: 16px; line-height: 26.6667px; width: 620px; height: 351px;"/></p><p></p><p><span style="font-size: 12pt;">21. Scroll through the results to verify that multiple records were returned.</span></p><p style="margin-left: .25in; margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; line-height: 1.5;">A good reference for ServiceNow SOAP and WSDL can be found here in the </span><a title="ki.servicenow.com/index.php?title=SOAP_Web_Service#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=SOAP_Web_Service#gsc.tab=0" style="font-size: 12pt; line-height: 1.5;">wiki</a><span style="font-size: 12pt; line-height: 1.5;">.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: 0.0001pt;"><span style="font-size: 12pt;">And that is all there is to it! This completes the set-up of our testing environment for SOAP queries.</span></p><p style="margin-bottom: 0.0001pt;"></p><p style="margin-bottom: 0.0001pt;"><span style="font-size: 12pt;">In the next article I will be showing how you can use encoded queries to retrieve specific sets of records.</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;">Steven Bell</span></p><p style="margin-bottom: .0001pt;"></p><p style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: bold; font-style: inherit; font-size: 16px; font-family: inherit; color: #800080;">If you find this article helps you, don't forget to log in and "like" it!</span></p><p></p><p style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: bold; font-style: inherit; font-size: 16px; font-family: inherit; color: #800080;">Also, if you are not already, I would like to encourage you to become a member of our blog!</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="color: purple; font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong><a _jive_internal="true" data-containerid="-1" data-containertype="-1" data-objectid="86661" data-objecttype="111" href="/servlet/JiveServlet/downloadImage/38-4985-86661/CS_logo.jpg"><img  alt="CS_logo.jpg" class="image-18 jive-image" height="60" src="faa6e8cedbd0dfc03eb27a9e0f961912.iix" width="151"/></a></strong></span><span style="color: purple; font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong><a _jive_internal="true" data-containerid="2061" data-containertype="14" data-objectid="2273" data-objecttype="102" href="/community?id=community_article&sys_id=330d6ea5dbd0dbc01dcaf3231f961965"><img  alt="MVP-logo.jpeg" class="image-17 jive-image" height="48" src="eaa504c6db5cd3041dcaf3231f961958.iix" width="135"/></a></strong></span></p><p><span style="color: #eb7a3d;">Please Share, Like, Comment this blog if you've found it helpful or insightful.</span></p><p></p><hr/><p><span style="color: #e23d39;">For other Expert Knowledge</span></p><p><span style="font-size: 11pt;"><strong><a title="" _jive_internal="true" href="/bit.ly/1njDGAZ">Ask A Developer</a>             <a title="" _jive_internal="true" href="/bit.ly/1Pg93au">What's In Store For IT Leaders in 2016 </a>           <a title="" _jive_internal="true" href="/bit.ly/1PxAtEE">ServiceNow Online Learning Courses   </a>       <a title="" _jive_internal="true" href="/bit.ly/1Qo39TY">ServiceNow Foundations: User Interface</a></strong></span></p><hr/><p><span style="color: #000000; font-size: 12pt; font-family: Calibri;">   </span></p>