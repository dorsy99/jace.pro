---
title: "MiniLab Testing REST With SoapUI"
date: 2015-12-01T11:32:14.000Z
authors: ["sabell2012"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=24cdaea9dbd0dbc01dcaf3231f961981"
---
<p><span style="font-size: 12pt;">Since I have been harping on Soap so much I thought I would take a breather and talk REST a bit.   With the release of Fuji ServiceNow has improved on REST.   What I thought I would do here is demonstrate what ServiceNow provides for prototyping REST queries, and then how you can also do this with a SOAP client tool.</span></p><p></p><p><span style="font-size: 12pt;"><strong>Pre-requisites:</strong></span></p><p></p><p><span style="font-size: 12pt;">1. SoapUI installed on your local machine.   Actually any REST client would work, but I will be using SoapUI for the purposes of this article.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><a href="http://www.soapui.org/downloads/soapui/open-source.html" title="http://www.soapui.org/downloads/soapui/open-source.html">Download SoapUI Open Source | Downloads</a> </span></p><p></p><p><span style="font-size: 12pt;">2. Some familiarity with RESTful Web Services.   If you are new to REST you might want to go read up on it a bit.   The following article may help:</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><a href="http://www.drdobbs.com/web-development/restful-web-services-a-tutorial/240169069" title="http://www.drdobbs.com/web-development/restful-web-services-a-tutorial/240169069">RESTful Web Services: A Tutorial | Dr Dobb's</a> </span></p><p style="padding-left: 30px;"></p><p><span style="font-size: 12pt;">3. Some familiarity with JSON.   If you are new to JSON this article may help: </span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><a href="http://www.w3schools.com/json/" title="http://www.w3schools.com/json/">JSON Tutorial</a> </span></p><p></p><p><span style="font-size: 12pt;">4. Create a Web Services Group and User.   See my previous <a title="" _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/11/23/mini-lab-web-services-part-1-using-soapui-to-test-servicenow-wsdl">Web Services Part 1</a> labs for help with this.</span></p><p></p><p></p><p><span style="font-size: 18pt;"><strong>Lab 1.1: Modeling the REST Query With the REST API Explorer</strong></span></p><p></p><p><span style="font-size: 12pt;">1. The Initial Query - Get Everything in the Table</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">a. Navigate to System Web Services -&gt; REST -&gt; REST API Explorer.   The REST API Explorer form will be displayed.   The default form is the same as the "Retrieve records from a table (GET)" link.</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">b. Fill in the form with the folowing:</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 60px;"><span style="font-size: 12pt;">   i.     <strong>Request Format</strong>: JSON</span></p><p style="padding-left: 60px;"><span style="font-size: 12pt;">   ii.   <strong>Response Format</strong>: JSON</span></p><p style="padding-left: 60px;"><span style="font-size: 12pt;">   iii.   <strong>Authorization</strong>: Send as me</span></p><p style="padding-left: 60px;"><span style="font-size: 12pt;">   iv.   <strong>tableName</strong>: Incident</span></p><p style="padding-left: 60px;"><span style="font-size: 12pt;">   v.     Leave everything else as a default (blank).   The default Limit will be 10.</span></p><p></p><p><span style="font-size: 12pt;"><img   class="image-1 jive-image" src="f08c9106dbd8130468c1fb651f96195f.iix" style="margin-right: auto; margin-left: auto; line-height: 23.3333px; display: block; width: 620px; height: 258px;"/></span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">c. Scroll to the bottom of the form and click on the Send button.   The results of the query will be displayed below the Send button. </span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">d. Under the Request section you will see the label: HTTP Method / URI.   Copy the URL into your favorite editor for future use.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 60px;"><span style="color: #2873ee; font-size: 12pt; font-family: Arial;"><a title="" _jive_internal="true" href="/dev00001.service-now.com/api/now/table/incident?sysparm_limit=10&amp;sysparm_query=&amp;sysparm_fields=" rel="nofollow" target="_blank">https://dev00001.service-now.com/api/now/table/incident?sysparm_limit=10&amp;sysparm_query=&amp;sysparm_fields=</a></span></p><p></p><p><span style="font-size: 12pt;"><img   class="image-20 jive-image" src="fc8978c6dbd89304b322f4621f961934.iix" style="width: 620px; height: 460px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">e. Scroll all the way down and you will see the actual data retrieved in the Results section.   Quite a bit of day is returned.   Let's see if we can pare that down a bit.</span></p><p></p><p><span style="font-size: 12pt;"><img   class="jive-image image-21" src="50d818c6db1c17049c9ffb651f9619d9.iix" style="display: block; margin-left: auto; margin-right: auto; width: 620px; height: 296px;"/></span></p><p></p><p><span style="font-size: 12pt;">2. Adding an Encoded Query - Between Two Dates</span></p><p></p><p><span style="font-size: 12pt;">If you have already done the labs in my previous <a title="" _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/11/23/mini-lab-web-services-part-1-using-soapui-to-test-servicenow-wsdl">Web Services Part 1</a> article you will remember our old friend the "between" query?   Here we will be using it again to constrain further the number of records being returned.</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">a. While you are still on the REST API Explorer form scroll back up above the Send button to see the various query fields.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">b. Locate the sysparm_query field.   Fill in the value with the following:</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 60px;"><span style="color: #eb7a3d; font-size: 12pt; font-family: 'courier new', courier;"><strong>sys_updated_on&gt;=2015-10-20 00:00:00^sys_updated_on&lt;2015-10-20 23:59:59</strong></span></p><p style="padding-left: 60px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">Note that it is not necessary to URL encode the greater and less than signs.   You may have to fiddle with the dates to get a return as your data may be somewhat different than mine.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><img   class="image-5 jive-image" src="bf79bc8edbd097041dcaf3231f961938.iix" style="display: block; margin-left: auto; margin-right: auto; width: 620px; height: 337px;"/></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">c. Click the Send button, and then scroll to the very bottom when the results are re-displayed.   You should notice a significant reduction in the number of records returned.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">d. Note that the URL has now changed to look something like this:</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #3334ca;"><a title="" _jive_internal="true" href="/dev000001.service-now.com/api/now/table/incident?sysparm_limit=10" rel="nofollow" target="_blank">https://dev000001.service-now.com/api/now/table/incident?sysparm_limit=10</a><strong>&amp;sysparm_query=sys_updated_on&gt;=2015-10-20 00:00:00^sys_updated_on&lt;2015-10-20 23:59:59</strong>&amp;sysparm_fields=</span></p><p></p><p><img   class="image-23 jive-image" src="cf095582dbd813043eb27a9e0f9619eb.iix" style="width: auto; height: auto; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12pt;">3. Limit the Fields That Are Returned</span></p><p></p><p><span style="font-size: 12pt;">You should have noticed that we are getting every field back from the table.   Well you can limit the fields being brought back by specifying those you really want in a comma-delimited list.</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">a. Leaving everything as-is scroll to the Query Parameters again, and locate the sysparm_fields field.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">b. Fill in the value with: sys_id</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><img   class="image-6 jive-image" src="8fc814c6db1c17049c9ffb651f961904.iix" style="display: block; margin-left: auto; margin-right: auto; width: 620px; height: 353px;"/></span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">c. Click the Send button again.   Scroll to the bottom of the form again and you will note that only the sys_ids for each record are returned.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><img   class="image-7 jive-image" src="2d47f7b1db5cdf04e9737a9e0f961993.iix" style="width: 620px; height: 208px; display: block; margin-left: auto; margin-right: auto;"/></p><p style="padding-left: 30px;"></p><p></p><p><span style="font-size: 12pt;">That wraps our short tour of the REST API Explorer.   Now, let's go try it all out in SoapUI!</span></p><p></p><p></p><p></p><p><span style="font-size: 18pt;"><strong>Lab 1.2: Implementing the REST Query With SoapUI</strong></span></p><p></p><p><span style="font-size: 12pt;">SoapUI like other REST clients has the functionality built in to do REST queries.   We will be using similar query progression like we just used with the REST API Explorer.   So let's get started.</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">1. Setting up the project, and running the first query</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">a. In my ServiceNow instance I had already created a group and user for Web Services to use when accessing my instance.   You will need to do something similar.   make sure you give your Group the following roles:</span></p><p></p><p style="padding-left: 60px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">   <strong>soap</strong> - for soap calls</span></p><p style="padding-left: 60px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">   <strong>itil</strong> - for calls into ITIL tables</span></p><p style="padding-left: 60px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">   <strong>rest_service</strong> - for REST calls</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">b. Open SoapUI.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">c. On the menu navigate to File -&gt; New REST Project.   This will display the New REST Project form.</span></p><p></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><img   class="image-9 jive-image" src="5a09d54edb5c9f048c8ef4621f9619c5.iix" style="width: auto; height: auto; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">d. Fill in the form with the URL you copied into your editor in Lab 1.1 Step 1d.   Click the OK button.   This will create a new REST Project.</span></p><p></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><img   class="jive-image image-10" src="7bc8d8cadbd89704ed6af3231f9619f6.iix" style="display: block; margin-left: auto; margin-right: auto; width: auto; height: auto;"/></span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">e. In the Tree View right-click on the Request 1 label.   This will display the context menu.   Click on Rename.   The Rename form will be displayed.</span></p><p style="padding-left: 30px;"></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><img   class="jive-image image-14" src="8fa133b1db58df04e9737a9e0f9619b2.iix" style="display: block; margin-left: auto; margin-right: auto; width: auto; height: auto;"/></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">f. Fill in the new name: getIncidents, and click the OK button.</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><img   class="image-12 jive-image" src="0f335c4edb549fc03eb27a9e0f961947.iix" style="width: auto; height: auto; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">g. In the Tree View right-click on the REST Project 1 label.   This will display the context menu.   Click on Rename.   The Rename form will be displayed.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">h. Fill in the new name: ServiceNowREST, and click the OK button.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">i. Click on getIncidents in the Tree View.   The properties for getIncidents will be displayed.   </span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">j. Enter a web service user and password.   I am reusing the one that I created in my<a title="" _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/11/23/mini-lab-web-services-part-1-using-soapui-to-test-servicenow-wsdl"> Web Services Part 1</a> article.</span></p><p></p><p><img   class="image-22 jive-image" src="5647bb35db145704ed6af3231f961917.iix" style="width: auto; height: auto; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">k. Now click on the green "play" button in the upper left of the getIncidents form.   This will run our REST query against our ServiceNow instance.</span></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><img   class="image-15 jive-image" src="e98e19cedbd8130468c1fb651f961946.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">i. Make sure to click on the JSON tab to see your results.   They should look something like this:</span></p><p></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><img   class="image-16 jive-image" src="8249b086dbd89304b322f4621f9619a9.iix" style="width: 620px; height: 398px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">2. Adding an encoded query</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">a. Click on the "+" button in the getIncidents form to add a new query parameter.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">b. Fill in the parameter with the following:</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 60px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">   <strong>name</strong>: sysparm_query</span></p><p style="padding-left: 60px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">   <strong>value</strong>: sys_updated_on&gt;=2015-10-20 00:00:00^sys_updated_on&lt;2015-10-20 23:59:59</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">   <strong>NOTE</strong>: The value will be the same "between" query you used in the previous lab.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">c. Click on the "play button to run our query.   Again you will notice a significant reduction in the number of records.</span></p><p></p><p></p><p><span style="font-size: 12pt;"><img   class="image-17 jive-image" src="93581486dbd45304b322f4621f9619c2.iix" style="width: auto; height: auto; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p></p><p><span style="font-size: 12pt;">3. Adding a fields limitation</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">a. Click on the "+" button in the getIncidents form to add another new query parameter.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">b. Fill in the parameter with the following:</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 60px;"><span style="font-size: 12pt;">   <strong>name</strong>: sysparm_fields</span></p><p style="padding-left: 60px;"><span style="font-size: 12pt;">   <strong>value</strong>: sys_id</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">c. Click on the "play button to run our query.   This time you will see that only the sys_id's will be returned.</span></p><p style="padding-left: 30px;"></p><p><span style="font-size: 12pt;"><img   class="jive-image image-18" src="b658bb31db545704ed6af3231f96190c.iix" style="width: 620px; height: 344px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p><span style="font-size: 12pt;">And that is all there is to it!   If you have problems getting a return make sure to note the errors in the "SoapUI log" button at the bottom of the screen.   This will display what went wrong (for the most part).   Usually this will be a credentials or roles issue.</span></p><p></p><p><span style="font-size: 12pt;"><img   class="image-19 jive-image" src="9d8c554adb14d7041dcaf3231f96198d.iix" style="width: 620px; height: 115px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p><span style="font-size: 12pt;"><strong>References</strong>:</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><a title="ki.servicenow.com/index.php?title=REST_API#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=REST_API#gsc.tab=0">REST API Wiki</a></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><a title="ki.servicenow.com/index.php?title=Getting_Started_with_REST" href="http://wiki.servicenow.com/index.php?title=Getting_Started_with_REST">Getting Started with REST Wiki</a></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><a title="ki.servicenow.com/index.php?title=REST_API_Explorer#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=REST_API_Explorer#gsc.tab=0">REST API Explorer Wiki</a></span></p><p></p><p></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666; background: white;"><span style="font-weight: inherit; font-style: inherit; font-size: 12pt; font-family: arial, helvetica, sans-serif;">Steven Bell</span></p><p></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666; background: white;"><span style="color: purple; font-weight: inherit; font-size: 12pt; font-family: inherit; font-style: inherit;"><strong>If you find this article helps you, don't forget to log in and "like" it!</strong></span></p><p></p><p style="margin-bottom: 0.0001pt; font-family: arial, sans-serif; color: #666666; background: white;"><span style="color: purple; font-weight: inherit; font-size: 12pt; font-family: inherit; font-style: inherit;"><strong>Also, if you are not already, I would like to encourage you to become a member of our blog!</strong></span></p>