---
title: "Redirecting user logins  UI Scripts Login Rules or Installation Exits"
date: 2015-05-27T00:14:14.000Z
authors: ["iris.geist"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=0a3daae5dbd0dbc01dcaf3231f9619fa"
---
<p>UI Scripts, Login Rules, or Installation Exits?   It seems as if some ServiceNow users are trying to use the same method for all angles of redirection. Using the same method for all aspects of redirection isn't the best way to go about logging in your users. So if one method for all redirection isn't the answer, which method is the best for which aspect?</p><p></p><h3>UI Scripts</h3><p><a title="ki.servicenow.com/index.php?title=UI_Scripts" href="http://wiki.servicenow.com/index.php?title=UI_Scripts">UI Scripts</a> can be used like script includes, but they can also be used as global UI Scripts (careful, a bad global UI Script can prevent users from logging in or doing anything…). A <a title="" _jive_internal="true" href="/community?id=community_question&sys_id=4c8543eddbd8dbc01dcaf3231f9619d7">global UI Script</a> will execute any time a user enters a page (such as login.do, navpage.do, home.do).</p><p></p><p>A few caveats though</p><ul><li>It will execute every time a user enters a page — and that is any time a user clicks from one module to the next, updates a record and goes back to the list, etc.</li><li>It executes when entering into the page, not when exiting out of the page.</li></ul><p>An example of such a UI script given by <a title="" _jive_internal="true" data-avatarid="4179" data-externalid="" data-online="false" data-presence="null" data-userid="5690" data-username="tltoulson" href="/community?id=community_user_profile&user=825f0229db181fc09c9ffb651f961945" style="font-family: arial, sans-serif; color: #8ca9cd;">Travis Toulson</a><span style="color: #666666; font-family: arial, sans-serif;"> </span>can be found here: <a __default_attr="692293" __jive_macro_name="message" class="jive_macro_message jive_macro" data-orig-content="Redirect ITIL users to CMS." href="/community?id=community_question&sys_id=4c8543eddbd8dbc01dcaf3231f9619d7" modifiedtitle="true" title="Redirect ITIL users to CMS.">Redirect ITIL users to CMS.</a></p><p></p><h3>Login Rules</h3><p>Login rules are the old way on how to tell which CMS (Content Management System) sites to direct a user to. <span style="font-size: 10pt; line-height: 1.5em;">Login rules fire after the user entered his login information, but before going to the home screen. Their conditions allow for advanced conditions with access to the gs (GlideSystem) object. They are part of the </span><a title="ki.servicenow.com/index.php?title=Content_Management_-_Versions_Prior_to_Fuji#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=Content_Management_-_Versions_Prior_to_Fuji#gsc.tab=0" style="font-size: 10pt; line-height: 1.5em;">Content Management application</a><span style="font-size: 10pt; line-height: 1.5em;"> and are used to redirect users to "their" ESS page or to the non-ESS interface.</span></p><p><span style="font-size: 10pt; line-height: 1.5em;"><br/></span></p><p style="text-align: center;"><em>Keep in mind that </em><em><a title="i.service-now.com/kb_view.do?sysparm_article=KB0546757" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0546757">login rules do not work properly on domain separated instances currently.</a></em></p><p><img   alt="login_rule.jpeg" class="image-0 jive-image" src="146233b9db58df04e9737a9e0f96193b.iix" style="height: 157px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><h3>Installation exits</h3><p><a title="ki.servicenow.com/index.php?title=Installation_Exits" href="http://wiki.servicenow.com/index.php?title=Installation_Exits">Installation exits</a> in this context are interfacing to the login and logout functionality, and I have most often worked with them when configuring the SAML integration.</p><p></p><p>I have for example edited the SAML2SingleSignon_update1 Installation exit to check for users who have or do not have roles and changed the redirect:</p><p><img   alt="Screen Shot 2015-05-26 at 3.09.25 PM.png" class="image-0 jive-image" src="5941ddcadbdc97041dcaf3231f9619bb.iix" style="height: 392px; width: 620px; display: block; margin-left: auto; margin-right: auto;"/></p><h3>When should each be used? <span style="font-size: 10pt; line-height: 1.5em;">This is the big question… </span></h3><p></p><ul><li>Installation exits and Login rules fire on <strong>login only</strong> and are scripted on the server side. They are relatively easy and efficient for initial logins — but they will not stop a user from changing sites midway through manipulating the URL.</li><li><span style="font-size: 10pt; line-height: 1.5em;">Global UI scripts are able to <strong>stop a user from cheating his way into a different site</strong>. Since Global UI scripts are called on each page load (and as such can cause big issues when there is a mistake in them, too), they do not necessarily work on login. </span></li><li><span style="font-size: 10pt; line-height: 1.5em;">Both Login Rules or Installation Exits can <strong>override</strong> Global UI script settings upon logging in the first time. </span></li></ul><p><span style="font-size: 10pt; line-height: 1.5em;"><br/></span></p><p><span style="font-size: 10pt; line-height: 1.5em;">Remember how we mentioned earlier that global ui scripts are called when entering, but not when leaving a page? Upon entering the login.do page, we do not know which user is in the process of logging in; and upon exiting, we are already on our way to the default login home site as defined in the system. </span><span style="font-size: 10pt; line-height: 1.5em;">I have found that <strong>admins have the most success when they use both a method that runs on login (installation exit or login rule) and a global UI script.</strong>   This way, all possible escape routes are covered and users are directed to the site they are supposed to be.</span></p>