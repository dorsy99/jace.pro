---
title: "Be Still My Beating Heart"
date: 2010-10-21T19:01:58.000Z
authors: ["SlightlyLoony"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=7e8de669dbd0dbc01dcaf3231f96195d"
---
<p><img  alt="" class="jive-image" src="85456102db5cd304b322f4621f961962.iix" style="width: auto; height: 113px;" />Our product has long had a mechanism for detecting when a MID server was having a problem. This mechanism worked by watching for the once-every-ten-minutes status report that MID servers send; if this report didn't show up, then we knew there was a problem.<br /><br />This mechanism was fine so far as it went, but it didn't go as far as we'd like it to. So we've now gone one step further:<!--break--><br /><br />Starting with Fall 2010 Stable 1 (which also means, of course, in the upcoming Winter 2011 release), we've implemented a synthetic transaction monitoring system for MID servers. Service-now.com instances now send a synthetic transaction (a "Heartbeat Probe") to every MID server, every 5 minutes. Heartbeat probes are designed to work exactly the same way that normal probes do, so that we're testing the same code paths used by normal probes. A heartbeat probe is sent by writing an output record to the ECC queue, which is then picked up by the MID servers when they query for work. This probe is processed by the MID servers just like any other probe, and the MID servers then send a response back to the instance. If the instance doesn't see the response, it knows that something is awry on the MID server, and the MID server is then marked as "Down".<br /><br />In addition, system events are now fired when a MID server transitions from "Down" to "Up" (the <b>mid_server.up</b> event) or from "Up" to "Down" (the <b>mid_server.down</b> event). These events can be used to fire notifications or for script actions...</p>