---
title: "Tips and Tricks Reluctant vs Greedy"
date: 2010-08-20T18:33:00.000Z
authors: ["SlightlyLoony"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=59dc6665dbd0dbc01dcaf3231f961998"
---
<p><img  alt="" class="jive-image" src="8fb0a10edb1c130468c1fb651f961910.iix" style="width: auto; height: 164px;" />A common use for regular expressions is to extract some text from a larger piece of text, based on some delimiters that define the range of text to pull out. For instance, I might want to extract the text surrounded by parentheses, as in this sentence:<br /><span style="padding-top:20px;padding-bottom:20px;padding-left:20px;"><i>This is a test to see if (maybe) we can extract the text within some (pairs of) parentheses.</i></span><br />This is easy to do with regular expressions, but it involves a trick or two. Do you know how to do it?<br /><!--break--><br />Here's how you might try doing this (especially if you've never run into this particular challenge before):<br /><pre style="clear:both;margin-left:20px;line-height:1;"><br />var text = 'This is a test to see if (maybe) we can extract the text within some (pairs of) parentheses.';<br /><br />var regex = /\((.*)\)/g;<br /><br />var match;<br />while (match = regex.exec(text)) {<br />   gs.log(match[1]);<br />}</pre><br />The <i>regex</i> variable contains the search for parentheses with anything at all between them. The "\(" and "\)" specify that we're looking for parentheses (we have to escape them with a backslash because parentheses are special characters for regular expressions). The other parentheses define our capture group, wherein we hope to capture what's between the parentheses in our input string. The "g" at the end means it's a <i>global</i> regular expression — it's going to repeat the search each time we call <i>exec()</i> on the <i>regex</i> variable. So we run it, we might expect to see this output:<br /><pre style="margin-left:20px;line-height:1;"><br />maybe<br />pairs of<br /></pre><br />But instead we get this:<br /><pre style="margin-left:20px;line-height:1;"><br />maybe) we can extract the text within some (pairs of<br /></pre><br />What's going on here?<br /><br />The answer lies in the ".*" inside our capture parentheses. The dot means "match any character" and the asterisk means "match any number" (from 0 to infinity). Ok, you say, that's <i>exactly</i> what I meant! But what you might not know is that the asterisk is a <i>greedy</i> quantifier — it's going to match as many characters as possible. So what's happening is that it matches all the characters between the first "(" and the last ")". It's a greedy little bugger.<br /><br />Fortunately regular expressions include the opposite of greedy quantifiers: <i>reluctant</i> quantifiers. These do exactly what we need in this circumstance: they will match the <i>least</i> number of characters that it can in order to make the match. To turn a greedy quantifier into a reluctant quantifier is easy: just append a "?", as below:<br /><pre style="clear:both;margin-left:20px;line-height:1;"><br />var text = 'This is a test to see if (maybe) we can extract the text within some (pairs of) parentheses.';<br /><br />var regex = /\((.*?)\)/g;<br /><br />var match;<br />while (match = regex.exec(text)) {<br />   gs.log(match[1]);<br />}</pre><br />If you run that code, you'll get exactly what you wanted...</p>