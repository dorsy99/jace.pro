---
title: "Tips and Tricks Function Arguments"
date: 2010-08-10T19:22:56.000Z
authors: ["SlightlyLoony"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=052d26e5dbd0dbc01dcaf3231f961990"
---
<p><img  alt="" class="jive-image" src="d83cd146db1c13043eb27a9e0f96195c.iix" style="width: auto; height: 226px;" />There are occasions when it is quite useful to have a function argument that isn't an actual value (in the usual sense of a number, string, etc.), but rather a <i>way to get a value</i>. There are also occasions when it would be useful to have a function argument that specifies an operation that should be performed. This is one of those topics that's easier to explain with an example than with English — so consider this little code snippet:<br /><pre style="margin-left:20px;line-height:1;"><br />gs.log('Longest computer name: ' + forAll(computers, 'name', longest));<br />gs.log('Last computer name: ' + forAll(computers, 'name', last));<br /></pre><br />When I run it on my Service-now.com instance, it prints:<br /><pre style="margin-left:20px;line-height:1;"><br />*** Script: Longest computer name: snc32dstanojevic<br />*** Script: Last computer name: vc01<br /></pre><br />How does this work?<br /><!--break--><br />First let's take a look at that <i>forAll()</i> function:<br /><pre style="margin-left:20px;line-height:1;"><br />function forAll (getGR, field, op) {<br />   var answer = null;<br />   var gr = getGR();<br />   while (gr.next())<br />      answer = op(answer, gr.getValue(field));<br />   return answer;<br />}</pre><br />Look carefully at how this function uses the arguments <i>getGR</i> and <i>op</i> — they are called as functions, not as what you normally see for an argument: a value. In other words, they are a <i>way to get a value</i>, not the actual value itself. In the case of <i>getGR</i>, it's expecting a function that returns a GlideRecord that's ready to be iterated through. For <i>op</i> it's expecting a function that takes two arguments: a past value and a current value, and it returns a new value based on those two — it's an <i>operation</i>, or <i>op</i> for short. All this function does is iterate through the glide record, applying the given field's value to the operator and returning the final result.<br /><br />Now here's the whole thing:<br /><pre style="margin-left:20px;line-height:1;"><br />gs.log('Longest computer name: ' + forAll(computers, 'name', longest));<br />gs.log('Last computer name: ' + forAll(computers, 'name', last));<br /><br /><br />function longest(past, now) {<br />   var jsNow = '' + now;<br />   if (!past)<br />      return '' + jsNow;<br /><br />   return (jsNow.length &gt;= past.length) ? jsNow : past;<br />}<br /><br />function last(past, now) {<br />   var jsNow = '' + now;<br />   if (!past)<br />      return '' + jsNow;<br /><br />   return (jsNow &gt;= past) ? jsNow : past;<br />}<br /><br />function computers() {<br />   var gr = new GlideRecord('cmdb_ci_computer');<br />   gr.addNotNullQuery('name');<br />   gr.addQuery('name', 'NOT LIKE', '%@%');<br />   gr.query();<br />   return gr;<br />}<br /><br />function forAll (getGR, field, op) {<br />   var answer = null;<br />   var gr = getGR();<br />   while (gr.next())<br />      answer = op(answer, gr.getValue(field));<br />   return answer;<br />}}</pre><br /><br />The function <i>computers</i> returns a GlideRecord instance containing all the computers that have a name, as long as that name doesn't contain a "@" character. It's intended for use as the first argument to <i>forAll</i>. The <i>longest</i> function returns whichever of its arguments has the most characters; when used as the third argument to <i>forAll</i> it results in the longest computer name in the entire collection. The <i>last</i> function is very similar, except that it returns whichever argument is last in alphabetical order — and when used as the third argument to <i>forAll</i> results in the computer name that's last overall in alphabetical order. <br /><br />Note the syntax for all these uses of the function. Where it's being used as the argument itself, you must leave off the parentheses ("()" — otherwise, Javascript will try to evaluate the function instead of passing it. On the other hand, insider <i>forAll</i> where the functions are actually being used, they <i>must</i> have the parentheses so that JavaScript <i>will</i> evaluate the function there.<br /><br />If you find yourself writing scripts that are very similar except for the way in which they get their values, or except for the what operation they perform, consider function arguments as a design approach. This example shows somewhat contrived examples of each use. <br /><br />Function arguments can simplify your code considerably when used well...</p>