---
title: "Find the Bug Boundary Conditions"
date: 2010-07-29T21:30:51.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=27fca6a5dbd0dbc01dcaf3231f96198d"
---
<p><img  alt="" class="jive-image" src="2508108adbd817041dcaf3231f961976.iix" style="width: auto; height: 113px;" />And now for something <i>completely</i> different: a contest! If you click on "Read more" below, you'll see some code that finds prime numbers using the <a title=".wikipedia.org/wiki/Sieve_of_Eratosthenes" href="http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">Sieve of Eratosthenes</a> algorithm. Can you find the bug in this code? If you can, leave a description in a comment. First one to post the right bug gets a cheap imitation gold sticky star on their forehead! And two if you fix the bug...<!--break--><pre style="clear: both;margin-left:20px;line-height:1;"><br />gs.log(primes(10111,10222));<br /><br />function primes(m, n) {<br />   var answer = [];<br />   var lo = n ? Math.max(2,Math.abs(m)) : 2;<br />   var hi = n ? Math.max(2,Math.abs(n)) : Math.abs(m);<br />   if (hi &lt; lo || hi &gt; 1000000)<br />      return answer;<br />     <br />   var sieve = new Array();<br />   for (var i = 0; i &lt;= hi; i++)<br />      sieve <i>= true;<br /><br />   for (var i = 2; i &lt; hi; i++) {<br />      if (!sieve</i>)<br />         continue;<br />      if (i &gt;= lo)<br />         answer.push(i);<br />      for (var j = i * 2; j &lt;= hi; j += i)<br />         sieve[j] = false;<br />   }<br />   return answer;<br />}<br /></pre></p>