---
title: "Tips and Tricks A Captivating Experience"
date: 2010-07-06T17:35:00.000Z
authors: ["SlightlyLoony"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=723eee6ddbd0dbc01dcaf3231f961954"
---
<p><img  alt="" class="jive-image" src="9172f4cadb1097041dcaf3231f96195e.iix" style="width: auto; height: 98px;" />The following little snippet of JavaScript uses the replace() method on a string, but in a way you may not be familiar with. What do you think this script will log if you run it?<br /><pre style="margin-left:20px;line-height:1;"><br />var x = "This is a test.  This is only a test.  If only we had known...";<br />x = x.replace(/ only (.*?)\./g, " mainly $1.");<br />gs.log(x);<br /></pre><br /><!--break--><br />The correct answer is: "This is a test. This is mainly a test. If mainly we had known..."<br /><br />Surprised? Here's what's going on:<ul><li>The stuff between the slashes (" only (.*?)\.") is a <i>regular expression</i>. There are two kinds of people in the world: those <a title=".wikipedia.org/wiki/Regular_expression" href="http://en.wikipedia.org/wiki/Regular_expression">who understand regular expressions</a>, and those who don't. Of course real men understand them. They are JavaScript's most powerful tool for analyzing and manipulating text. They're well worth learning, both for their utility and so that you don't abuse them (because, like any other tool, they can be dangerous if misused).</li><li>The "g" following the regular expression means "global". In a replace method, that means it will replace all occurrences of the matching string.</li><li>The example's regular expression will match any sequence of " only" followed by anything at all, up to the next period. The "anything at all" is <i>captured</i> (that's what the parentheses do). There can be any number of <i>capture groups</i>, but in our case we have just the one. The test text has two matching strings. For the first one, it will capture "a test", for the second "we had known".</li><li>The replacement string (" mainly $1.") replaces the matched strings with " mainly " followed by the captured text from capture group 1 (that's the "$1") followed by a period. In our test case, the string matched in two places. For the first one, the replacement value is " mainly a test.", for the second it's " mainly we had known."</li></ul><br />Does the result make more sense now? If not, <a title="w.amazon.com/Mastering-Regular-Expressions-Jeffrey-Friedl/dp/0596528124/ref=sr_1_1?ie=UTF8&s=books&qid=1278422000&sr=8-1" href="http://www.amazon.com/Mastering-Regular-Expressions-Jeffrey-Friedl/dp/0596528124/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1278422000&amp;sr=8-1">I prescribe this book</a>.</p>