---
title: "Do Your Own Thing Setting the IOS Version Number"
date: 2008-12-15T22:30:29.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=b92ea66ddbd0dbc01dcaf3231f9619bd"
---
<p><img  alt="" class="jive-image" src="00d34082dbd85fc03eb27a9e0f961955.iix" style="width: auto; height: 100px;" />If you're managing a bunch of switches and routers, there's a good chance that most of them are made by Cisco. In that case, one of the things you'll likely care about is the <a title="w.cisco.com/en/US/products/sw/iosswrel/products_ios_cisco_ios_software_category_home.html" href="http://www.cisco.com/en/US/products/sw/iosswrel/products_ios_cisco_ios_software_category_home.html">IOS</a> version. Out-of-the-box, there's no place in the CMDB to hold the IOS version â€” but you may have noticed that it's visible in the <i>Short Description</i> field of a switch or router. Here's how you can snag that version information and use it to populate an IOS version field.<!--break--><br /><br />Suppose that you want to have an IOS version field for your switches, populated by analyzing the data in the <i>Short Description</i> field to find the version. The steps:<br /><ol><li>Create a new field in the <i>IP Switch</i> (cmdb_ci_ip_switch) table. That procedure is <a href="http://wiki.service-now.com/index.php?title=Adding_Fields">documented on the wiki. For my example, I created a field named <i>IOS Version</i>, with a database name of <i>u_ios_version</i>.</a></li><li><img  alt="" class="jive-image" src="3d0323b9db141fc03eb27a9e0f961949.iix" style="width: auto; height: 59px;" />Create a business rule on the <i>IP Switch</i> table. If you're not familiar with them, <a title="ki.service-now.com/index.php?title=Business_Rules" href="http://wiki.service-now.com/index.php?title=Business_Rules">business rules</a> are a powerful and simple tool for you to customize your Service-now instance. This business rule uses a simple <a title="w.regular-expressions.info/" href="http://www.regular-expressions.info/">regular expression</a> to extract just the version number information from the short description, and then set the value of the IOS version with it. This business rule will run before any insert or update to the <i>IP Switch</i> table, so each time any switch's record is created or changed, the short description will be checked and the IOS version updated.</li><li><img  alt="" class="jive-image" src="1fe34182db1497049c9ffb651f9619c1.iix" style="width: auto; height: 68px;" />After running a discovery, go back and look at a switch. <i>Voila!</i> The IOS version number is there, just as we wanted it to be.</li></ol><br /><br />This same general procedure can be used to extract all sorts of information out of the short description field. Particularly for any device that Discovery explores with SNMP, there will be potentially useful and interesting information in that field. Often this information is specific to makes and models of equipment (as the IOS version is to Cisco), but that certainly doesn't mean it's not useful!</p>