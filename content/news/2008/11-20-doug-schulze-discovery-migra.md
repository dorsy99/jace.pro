---
title: "Discovery Migrations"
date: 2008-11-20T03:38:18.000Z
authors: ["doug.schulze"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=e65da629dbd0dbc01dcaf3231f9619d0"
---
<p>Hey all....<br /><br />I'm catching a few problems where after an instance has moved over to our new state of the art <a title="ki.service-now.com/index.php?title=Data_Center_Move_FAQ" href="http://wiki.service-now.com/index.php?title=Data_Center_Move_FAQ">Data Center</a> that the Mid Server no longer functions and reports as 'down' in the instance. In checking ~/agent/logs you would see that there are lines of errors stating "could not connect to instance bad username/password".<br /><br />What's happening that in conjunction with your move we are enabling basic authentication on your instance enhancing the logical security of your deployment. Do know this is effecting only our legacy discovery customers only who do not have the authentication piece enabled prior to the move.<br /><br />Our current install process has been updated to include this requirement but if you have not moved over yet or are scheduled to, you can do a couple things to prepare your side so everything works the moment after the migration.<br /><br />-In the ~/agent/config.xml file edit the server URL to reflect your Fully qualified Domain Name (FQDN).<br />-Create a custom user in your instance for the MidServer to connect with.<br /> -Enter those credentials in the config.xml file under mid.instance.username and mid.instance.password values.<br />-Remove the discovery upgrade branch value if you have one entered.<br /><br />-Save the config.xml<br />-Restart the MidServer<br /><br />Below is what a completed mid-server config.xml would look like. You can make these changes today with no impact or after your move whichever suits your process best.<br /><br /><a href="http://www.flickr.com/photos/19586112@N06/3043620901/" title="config.xml"><img src="http://farm4.static.flickr.com/3049/3043620901_3c38ebcb33.jpg" width="500" height="444" alt="configxml" /></a></p>