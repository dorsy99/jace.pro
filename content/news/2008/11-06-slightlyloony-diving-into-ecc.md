---
title: "Diving Into ECC Queue Messages"
date: 2008-11-05T20:36:16.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=786ceaa1dbd0dbc01dcaf3231f96193e"
---
<p><img __jive_id="6531" alt="Picture 2.png" class="jive-image" style="width: imagecache/Medium/SlightlyLoony/screenshots/Picture 2.png; height: auto;" />What are these mysterious "messages" that you keep hearing about in Discovery? And what on earth is the "ECC Queue"?<br /><br />The ECC Queue is simply a database table, nothing more. Discovery uses rows in this table to send messages to MID servers, and to receive messages from them. The notion really isn't any more complicted than that! There are, however, lots of details about exactly how those messages are constructed...<!--break--><br /><br />If you click on the thumbnail at right to expand it, you'll see a typical message in the ECC Queue. Here's what all those fields mean:<ul><li><u>Agent</u>: The name of the MID server that this messages is either from or to.</li><li><u>Topic</u>: The name of the probe the MID server is to run (or ran, if this is a response from a MID server).</li><li><u>Name</u>: This could be either a descriptive name for human use, or (as in this case) the actual command the probe is to run (or ran). In the case of the SSHCommand probe in this example, this field contains the actual command being run.</li><li><u>Source</u>: For most probes, this contains the IP address that the probe is to run against (or ran against). A few probes (the Ping probe is a good example) run against multiple IP addresses; in those cases, this field contains a human-readable description.</li><li><u>Response to</u>: The message that this message is in response to. In our example, this is a response from a SSHCommand message.</li><li><u>Queue</u>: This is set to "output" if this is a message <i>to</i> a MID server, and to "input" (as in this example) if this is a message <i>from</i> a MID server.</li><li><u>State</u>: This field is set to "ready" if the message has not yet been processed, to "processed" if the message has been successfully processed, and to "error" if an error occurred while the message was being processed.</li><li><u>Created</u>: The time when this message was created.</li><li><u>Processed</u>: The time when this message was processed.</li><li><u>Sequence</u>: The unique sequence number for this message.</li><li><u>Error string</u>: An error message if an error occurred during processing (this field is hidden unless there was an error).</li><li><u>Payload</u>: The body of the message. Messages from MID servers always have the general form seen in the XML popup window in the example. The returned XML document has a root tag of  containing one or more  tags and a single  tag. The parameters are simply an echo of those sent to the MID server in the probe; they vary from probe to probe, but in general they tell the probe the details of what it is to do and how it should behave. The result tags are the most interesting ones: they contain the actual data generated by the probe. In this case, you can see the result of running the <i>cat /proc/meminfo</i> command on a Linux server, exactly as if you had typed the command yourself at the command prompt.</li></ul><br />Armed with what you've learned above, you should be able to poke around in your instance's ECC Queue and see the nitty-gritty of what Discovery is doing. It's all right there â€” there's nothing hidden behind curtains anywhere...</p>