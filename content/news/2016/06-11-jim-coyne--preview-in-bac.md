---
title: "Preview in Background Script Tool"
date: 2016-06-11T03:00:46.000Z
authors: ["Jim Coyne"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=936d2e29dbd0dbc01dcaf3231f9619fc"
---
<p>Building on the <a title=""Xplore GlideRecord Script" Tool" __default_attr="5619" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="&quot;Xplore GlideRecord Script&quot; Tool" data-renderedposition="10_106.015625_223_16" href="/community?id=community_blog&sys_id=e52d26e5dbd0dbc01dcaf3231f9619d4">"Xplore GlideRecord Script" Tool</a> post, the "Preview in Background Script" tool will open a new Background Script window and populate the script field with the template of code containing the list view's query:</p><p><img   class="image-1 jive-image" src="679698c2db189fc03eb27a9e0f961966.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p><img   class="image-2 jive-image" src="0a463b71dbdcdfc0b322f4621f9619bb.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p>The script will be populated 1/4 second after the Background Script window is opened in order to ensure the window has been opened properly.</p><p></p><p style="font-family: arial, sans-serif; color: #666666;">All you need to do is create a new <a title="" _jive_internal="true" href="/docs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/navigation_and_ui/task/t_CreateAContextMenu.html" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank">Context Menu</a> record with the following details:</p><p></p><p style="font-family: arial, sans-serif; color: #666666;">Table: Global</p><p style="font-family: arial, sans-serif; color: #666666;">Menu: List Header</p><p style="font-family: arial, sans-serif; color: #666666;">Type: Action</p><p style="font-family: arial, sans-serif; color: #666666;">Name: Preview in Background Script</p><p style="font-family: arial, sans-serif; color: #666666;">Order: 116,000</p><p style="font-family: arial, sans-serif; color: #666666;">Condition: gs.hasRole("admin")</p><p style="font-family: arial, sans-serif; color: #666666;">Action script:</p><p style="font-family: arial, sans-serif; color: #666666;"></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14655959155158367 jive_text_macro" data-renderedposition="1438_8_1192_640" jivemacro_uid="_14655959155158367" modifiedtitle="true"><p>(function u_previewGlideRecordScript(){</p><p>   var fixedQuery = ("" + g_list.getFixedQuery()).replace("null", "");</p><p>   if (fixedQuery == "") {</p><p>   fixedQuery = ("" + g_list.getRelatedQuery()).replace("null", "");</p><p>   }</p><p>   var query = fixedQuery;</p><p>   var listQuery = g_list.getQuery();</p><p>   if (listQuery != "") {</p><p>   if (query == "") {</p><p>   query = listQuery;</p><p>   } else {</p><p>   query += "^" + listQuery;</p><p>   }</p><p>   }</p><p>   var newLine = "\n";</p><p>   var script = "(function() {" + newLine;</p><p>   script += "       var gr = new GlideRecord('" + g_list.tableName + "');" + newLine;</p><p>   if (query != "") {</p><p>   script += "       gr.addEncodedQuery('" + query + "');" + newLine;</p><p>   }</p><p>   script += "       //gr.setLimit(100);" + newLine;</p><p>   script += "       //gr.setWorkflow(false);" + newLine;</p><p>   script += "       //gr.autoSysFields(false);" + newLine;</p><p>   script += "       gr.query();" + newLine;</p><p>   script += "       while (gr.next()) {" + newLine;</p><p>   script += "               " + newLine;</p><p>   script += "       }" + newLine;</p><p>   script += "})();";</p><p></p><p>   // open the Background Scripts page in a new window</p><p>   var win = window.open('/sys.scripts.do');</p><p></p><p>   //and then populate the script box a quarter second later</p><p>   setTimeout(function(){</p><p>   try{</p><p>   var textArea = win.document.getElementById("runscript");</p><p>   textArea.value = script;</p><p>   } catch(err){}</p><p>   }, 250);</p><p>})();</p></pre><p></p><p></p><p style="font-family: arial, sans-serif; color: #666666;"><strong>Related posts:</strong></p><p style="font-family: arial, sans-serif; color: #666666;"><a title=""Preview GlideRecord Script" Tool" __default_attr="169917" __jive_macro_name="thread" class="jive_macro_thread jive_macro" data-orig-content="&quot;Preview GlideRecord Script&quot; Tool" data-renderedposition="2143_8_230_16" href="/community?id=community_question&sys_id=07b18f69db98dbc01dcaf3231f9619c6">"Preview GlideRecord Script" Tool</a></p><p style="font-family: arial, sans-serif; color: #666666;"><a title=""Xplore GlideRecord Script" Tool" __default_attr="5619" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="&quot;Xplore GlideRecord Script&quot; Tool" data-renderedposition="2164_8_220_16" href="/community?id=community_blog&sys_id=e52d26e5dbd0dbc01dcaf3231f9619d4">"Xplore GlideRecord Script" Tool</a></p>