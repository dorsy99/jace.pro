---
title: "Converting amount  currency type based on locale"
date: 2016-01-13T22:25:18.000Z
authors: ["Shahed Shah"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=466c2ea1dbd0dbc01dcaf3231f9619f6"
---
<p>One of the most popular questions we get regarding Currency fields is: "<em>Where is the currency actually stored?</em>" Please don't pull your hair out when I say this, but, it depends on the Currency Model being used. "<em>What!</em>" Okay, okay, please don't hurt me.</p><p></p><p>There's actually two, yes two, field types that fall into this area: <strong>Currency</strong> and <strong>Price</strong>. The Price field type is actually an extension of the Currency field type and, can you guess what the biggest consumer of the <strong>Price</strong> field is? If you answered <a title="ki.servicenow.com/index.php?title=Localizing_Price_in_the_Service_Catalog" href="http://wiki.servicenow.com/index.php?title=Localizing_Price_in_the_Service_Catalog">Service Catalog</a>, you deserve a treat so go ahead and enjoy the moment. I'm not going to dive into the workings of the Service Catalog and the Price field as that was already covered nicely by <a title="suzanne.smith" __default_attr="3285" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="suzanne.smith" data-renderedposition="109.81533813476562_416.0966491699219_110_16" href="/community?id=community_user_profile&user=b4e05261db981fc09c9ffb651f9619a0">suzanne.smith</a> in <a __default_attr="4959" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Customizing prices and currency in your Service Catalog." data-renderedposition="109.81533813476562_543.1983032226562_378_16" href="/community?id=community_blog&sys_id=0f5eeaaddbd0dbc01dcaf3231f961991" modifiedtitle="true" title="Customizing prices and currency in your Service Catalog.">Customizing prices and currency in your Service Catalog.</a></p><p></p><p>What I will do, over a two part blog, is show you what happens behind the curtains.</p><p></p><p><span style="line-height: 1.5;">Currency models tell the platform how it will work with currencies. There are two currency models:</span></p><ol><li>Multiple Currency Model (We're going to focus on this one in this post)</li><li>Single Currency Model</li></ol><p></p><p>The <a title="ocs.servicenow.com/administer/localization/concept/c_MultipleCurrencyModel.html" href="https://docs.servicenow.com/administer/localization/concept/c_MultipleCurrencyModel.html">Multi Currency Model</a> referenced in the product documentation is specific to the Service Catalog, so let me help you dodge a bullet. Leave it <span __jive_emoticon_name="wink" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="276.39202880859375_915.5965576171875_16_16" src="/8.0.1.35b65d4/images/emoticons/wink.png"></span>. This is because you are not presented with creating a number of fixed currency prices when using the <strong>Currency</strong> field type, that's with the <strong>Price</strong> field type. Let's dive in and look at each currency model.</p><p></p><h2>Using a Multiple Currency Model</h2><p>Under a multiple currency model, you specify a fixed price based on locale. The Instance is configured to use this straight out-of-the-box. What this does is give the user to select the desired currency symbol in a drop-down when entering a value in the field.</p><p style="text-align: center;"><img   alt="multi currency price.jpg" class="image-4 jive-image" src="7d4405cedbdc9304b322f4621f9619a5.iix" style="height: auto;"/></p><p style="text-align: center;"><span style="font-size: 8pt;">(Euros please)</span></p><p></p><p>Where do those currency price symbols come from? These are pulled from the active records in the <span style="color: #3a0699;"><strong>Currencies [fx_currency]</strong></span> table. So go ahead, navigate to that table, activate and de-activate some records, and see what happens with the drop-down.</p><p></p><p>So, of course, referring to the screenshot above, the value of <em>1997.98</em> will be stored in the database. But, how does it know what the currency symbol is as that is not stored in the record? This is where the <span style="color: #3a0699;"><strong>Currency Instances [fx_currency_instance]</strong></span> table comes in. The currency symbol and the value is stored into this table. Specifically these are "mapped" into the currency (fx_currency_instance.currency) and amount (fx_currency_instance.amount) fields.</p><p></p><p>There are also three other fields on the Currency Instances table so we know where these currency values come from:</p><ul><li>Table - where the originating record is</li><li>ID - sys_id of the originating record</li><li>Field - that currency field on the originating record we are interested in</li></ul><p></p><table border="1"><tbody><tr><td><p>For example here's what this looks like in action:</p><p><img   alt="curency_field_map.jpg" class="image-5 jive-image" src="c031e042db9057049c9ffb651f96199f.iix" style="width: 620px; height: 264px; display: block; margin-left: auto; margin-right: auto;"/></p><p>It shows how the values of the Cost field for this Hardware asset is being mapped to a record in the Currency Instances table. So let's talk about something new that just cropped up from this - the Reference amount and Reference currency fields.</p><p></p><p>Referring to the screenshot above as an example, the user entry for the Cost field is <em>â‚¬1,997.98</em>, but my Instance's locale is (by default) empty. When empty that means the Instance is using <strong>en.US</strong> as its base location. In which case the base currency for my Instance is in Dollars ($ USD). When the currency and amount were inserted into the Currency Instances table, a conversion took place so that we have the converted amount and currency symbol in the Reference amount and Reference currency fields for Dollars.</p></td></tr></tbody></table><p></p><p>The locale is set using the <strong>glide.system.locale</strong> property. You will see the property when navigating to <strong>System Properties &gt; System Localization.</strong></p><p><img   alt="locale code currency.jpg" class="image-6 jive-image" src="a89fff3ddb18d3049c9ffb651f9619c6.iix" style="width: 620px; height: 83px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p></p><p>On that note, as it is more of a warning than a "<em>just so you know, by the way,</em>" we got to the end of this model, phew. Stay tuned for Part 2 coming soon!</p>