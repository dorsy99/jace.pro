---
title: "Community Code Snippets  Simplifying Code With Field Normalization"
date: 2016-08-29T17:24:42.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=3cbc6a25dbd0dbc01dcaf3231f961978"
---
<p dir="ltr"><span style="font-family: 'Times New Roman'; color: #666666; font-weight: bold;">NOTE</span><span style="font-family: Arial; color: #666666;">: </span><span style="font-family: 'Times New Roman'; color: #666666;">MY POSTINGS REFLECT MY OWN VIEWS AND DO NOT NECESSARILY REPRESENT THE VIEWS OF MY EMPLOYER, ACCENTURE. </span></p><p dir="ltr"></p><p dir="ltr"><span style="font-family: 'Times New Roman'; color: #666666;">DIFFICULTY LEVEL:   </span><span style="font-family: 'Times New Roman'; color: #7f6000; font-weight: bold;">INTERMEDIATE</span></p><p dir="ltr"><span style="font-family: 'Times New Roman'; color: #666666;">Assumes some knowledge and/or familiarity of scripting in ServiceNow.</span></p><p dir="ltr"><span style="font-family: Arial; color: #666666;">____________________________________________________________________________</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Normalization of data.   If you are a DBA you know immediately how painful it can be to get rid of duplicates!   I used to cry myself to sleep every night in frustration...well, not really, but I came pretty close.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">For me, as a ServiceNow Admin and Developer this pain-point centers a lot around Manufacturer and Model.   Let's say I have a computer made by a fictitious company called: Omni-Widgets.   Omni-Widgets let's their manufacturing floor personnel put in anything they want into their BIOS for the company name.   For example:</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Omni-W, Inc.</span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Omni-Wid</span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Omni-Wdgts</span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Omni-Widgets, Inc.</span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Omni-Widgets Incorporated</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">And so on.   With something like Discovery in place this would end up with all of these generating a record in the core_company table!   Arrrrgh!   </span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">With Field Normalization it is possible to reduce these down to a single value of my company's choosing.</span></p><p></p><p><span style="font-size: 12pt;"><img   class="image-1 jive-image" src="d39ddd02dbdc97049c9ffb651f96199f.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">The same pain-point impacts with Model as well.   </span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">ServiceNow provides a plug-in that can help alleviate this pain.   The Field Normalization plug-in.   The application provides a mechanism that can rectify existing data, AND intercept and change data about to be written down.   Once I set up the rules in the application I never have to worry about this sort of name duplication again.   Nice!</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">As a developer I then do not have to worry about handling all of the various names, but can then depend on a single value being there!   Bliss!</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">So code like the following would actually be reliable.   If multiple values were present then dependability would be out the window.   I couldn't rely on what value would be returned for sys_id!</span></p><p><span style="font-size: 12pt;"><br/><br/></span></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14723405205381277 jive_text_macro" data-renderedposition="1484_8_1192_193" jivemacro_uid="_14723405205381277"><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">var manufacturer = 'Omni-Widgets';</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">var sys_id = getManufacturerIDByName(manufacturer);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">gs.print(sys_id);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">function getManufacturerIDByName(manufacturer) {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">       var manufacturerRecord = new GlideRecord('core_company');</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">       manufacturerRecord.get('name', manufacturer);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">       return manufacturerRecord.sys_id;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">}</span></p></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">The same would hold true for model.   If normalized it is simplicity itself to pull back a single value.   If un-normalized I would have to figure out a way to deal with the myriad variations that could be present!</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14723405264708638" data-renderedposition="1776.625_8_1192_193" jivemacro_uid="_14723405264708638"><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">var modelName = 'x27549';</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">var model_id = this.getModelIDByName(modelName);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">gs.print(model_id);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">function getModelIDByName(modelName) {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">       var modelRecord = new GlideRecord('cmdb_model');</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">       modelRecord.get('model_number', modelName);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">       return modelRecord.sys_id;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12pt; font-family: Arial; color: #980000;">}</span></p></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">For a developer the consistency of data is all important.   It reduces the need for extra code to deal with exceptions.   Thus reducing the code footprint, and the extra maintenance.   Coding for exceptions with data can also introduce unreliability.   For Asset and CMDB management it reduces the need for complex reports that might miss certain CIs because the make or model had an exception that wasn't taken into account.   Keeping it simple with normalization just plain makes life easier for all around!</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Suggested reading:</span></p><p dir="ltr"><a href="http://wiki.servicenow.com/index.php?title=Field_Normalization#gsc.tab=0" style="font-size: 16px;" title="http://wiki.servicenow.com/index.php?title=Field_Normalization#gsc.tab=0">Field Normalization - ServiceNow Wiki</a></p><p dir="ltr"><a href="http://wiki.servicenow.com/index.php?title=Normalizing_a_Field" style="font-size: 16px;" title="http://wiki.servicenow.com/index.php?title=Normalizing_a_Field">Normalizing a Field - ServiceNow Wiki</a></p><p dir="ltr"><a href="http://wiki.servicenow.com/index.php?title=Normalizing_and_Transforming_Field_Values" style="font-size: 16px;" title="http://wiki.servicenow.com/index.php?title=Normalizing_and_Transforming_Field_Values">Normalizing and Transforming Field Values - ServiceNow Wiki</a></p><p dir="ltr"><a href="https://docs.servicenow.com/search?q=field+normalization&amp;labels=2"><span style="font-size: 12pt;">Helsinki and the Normalization Plugin</span></a></p><p></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #000000;">Steven Bell</span></p><p dir="ltr"></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-family: Arial;"><a href="https://lh4.googleusercontent.com/HKjJ2SUTNVdCxOTdceU6inlqndvy5r1xgxXRAs6Ajp23hyTz6rpde1-iJtpz69U2_eAXe0MW6pOQVB0l1Y2PFVewX4Rf8WHPNHO0P48XpJUj2bVItL2A6-_qcLHax09QnKw6M0tW" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><img alt="accenture logo small.jpg" class="jive-image" height="87" src="https://lh4.googleusercontent.com/HKjJ2SUTNVdCxOTdceU6inlqndvy5r1xgxXRAs6Ajp23hyTz6rpde1-iJtpz69U2_eAXe0MW6pOQVB0l1Y2PFVewX4Rf8WHPNHO0P48XpJUj2bVItL2A6-_qcLHax09QnKw6M0tW" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="324"/></a></span></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-family: Arial;"><a href="https://lh6.googleusercontent.com/xNpcpgiavaZsFdpPfTCeeIiojd7FqVft8uzbfTILDEtlgnRES6PH3aeWNXSPpnv5AF0V114bKKAkWPuI6jH3O2xaG-zFqWYwnyRCt-81ybjTqNLhmqPugre5WldGfc_pcta-FHMa" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><img class="jive-image" height="64" src="https://lh6.googleusercontent.com/xNpcpgiavaZsFdpPfTCeeIiojd7FqVft8uzbfTILDEtlgnRES6PH3aeWNXSPpnv5AF0V114bKKAkWPuI6jH3O2xaG-zFqWYwnyRCt-81ybjTqNLhmqPugre5WldGfc_pcta-FHMa" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="180"/></a></span><span style="font-weight: inherit; font-style: inherit; font-family: Arial;"><a href="https://lh5.googleusercontent.com/L3QNGvKQd6gXD41-_HDuwuN0pza2FetYOlV1mAsSxhZZ_JiVJopoBHtl7G8zEAd50WG7gM7GQh0XbJdSQIydjfIfs_RfP0MHbXFyvPMSved4rHnuihwq7EBcOndtiWqh0R_RV7x4" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><img class="jive-image" height="64" src="https://lh5.googleusercontent.com/L3QNGvKQd6gXD41-_HDuwuN0pza2FetYOlV1mAsSxhZZ_JiVJopoBHtl7G8zEAd50WG7gM7GQh0XbJdSQIydjfIfs_RfP0MHbXFyvPMSved4rHnuihwq7EBcOndtiWqh0R_RV7x4" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="180"/></a></span><span style="font-weight: inherit; font-style: inherit; font-family: Arial;"><a href="https://lh4.googleusercontent.com/Yn7iuwBcHbZRsaHqvrM31RShgo7gPcx_ceZZfvkqHec4WxMAfjUmNpM3U3J69jzVLx3TE7z4aYb1Gj8PrReer_XcUAZwNwDd5z3vjnCu3vp7xoWYG-0m7-SDrNPFJvM-l-dsPy7K" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><img class="jive-image" height="72" src="https://lh4.googleusercontent.com/Yn7iuwBcHbZRsaHqvrM31RShgo7gPcx_ceZZfvkqHec4WxMAfjUmNpM3U3J69jzVLx3TE7z4aYb1Gj8PrReer_XcUAZwNwDd5z3vjnCu3vp7xoWYG-0m7-SDrNPFJvM-l-dsPy7K" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="223"/></a></span></p><p dir="ltr"></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: bold; font-style: inherit; font-family: Arial;">For a list of all of my articles:   </span><a _jive_internal="true" data-containerid="1007" data-containertype="37" data-objectid="4821" data-objecttype="38" href="/community?id=community_blog&sys_id=289d6a69dbd0dbc01dcaf3231f9619f0" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><span style="font-weight: bold; font-style: inherit; font-size: 15.3333px; font-family: Arial;">Community Code Snippets: Articles List to Date</span></a></p><p dir="ltr"></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #eb7a3d;">Please Share, Like, Bookmark, Mark Helpful, or Comment this blog if you've found it helpful or insightful.</span></p><p dir="ltr"></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #eb7a3d;">Also, if you are not already, I would like to encourage you to become a member of our blog!</span></p>