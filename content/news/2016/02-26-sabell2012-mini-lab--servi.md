---
title: "MiniLab Service Catalog  Building a Custom Choice Table"
date: 2016-02-25T23:56:14.000Z
authors: ["sabell2012"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=8b2e2a6ddbd0dbc01dcaf3231f9619e7"
---
<p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">A couple of requirements were presented to me by one of our clients that caused me to think "outside-the-box".   The client wanted a set of Service Catalog Items that had to have configurable choice lists.   These choice lists would need to be restrictable (via ACLs, Roles, Query Business Rules, etc), and user maintainable (i.e. ITIL Admin let's say).</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Normally you would use the Question Choice table for such things, but you hardly want to make that available to your user base; no matter how restricted.   This would open up a can of worms:   What records would you allow to be shown?   How would you restrict certain records?   How would you filter the records?   What effect would these changes have on the normal out-of-the-box operation of Service Catalog Items?? Ugh!   No thank you!</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">So, the obvious solution was to create a custom choice table.   Now, that has it's own problems.   Namely: How do you tie that into your Service Catalog Variables?   How would you tie pricing to the variable choices?   How could you restrict the variable choices to show only for that Catalog Item AND Variable combination?   How would you order the choices?</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">All of these would have to be addressed before the solution would be usable.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">With this lab example I will demonstrate one method of implementing a Custom Choice Table for Service Catalog Items.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">So let us set up the scenario for our fictitious company Rickety Rocket Enterprises!</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; line-height: 1.5; font-size: 14pt;"><strong>The Requirements</strong></span></p><p></p><p><span style="font-size: 12pt;">NOTE: Don't forget that you want the requirements traceability throughout your project!   </span></p><p></p><ol><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Rickety Rocket Enterprises has decided to make their merchandise available via ServiceNow</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Rockets will be available under Service Catalog -&gt; Hardware (makes sense right?)</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">The customer will be able to select a rocket class, and a rocket type.   The rocket class will all be the standard $1-billion with a recurring $1-million a year maintenance cost.   The type will be an add-on cost.</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Rocket Classes available:</span><ol><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Can select more than one</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Will change the quantity listed</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Rockets to be listed (however, for now only Moon and Mars rockets are available):</span></li></ol></li></ol><p style="padding-left: 90px;"></p><ul><ul><ul><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Two Stage Negative Orbit</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Two Stage Almost-Orbit</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Three Stage Multi-Orbit</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Single Stage Super Duper</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Three Stage One-Way Mars Trip</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Five Stage One-Way Moon Shot</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Five Stage Two-Way Moon Day-Tripper</span></li></ul></ul></ul><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. Rocket Types available</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">         1. Can select only one</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">         2. Types to be listed:</span></p><p style="padding-left: 90px;"></p><ul><ul><ul><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">One Engine, One Seater, no extra cost</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Two Engine, One Seater, $500 for the extra engine</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Four Engine, Two Seater, Two Ejection Seats, $20,000 extra</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Four Engine, Two Seater, One Ejection Seat, $5,000 extra</span></li></ul></ul></ul><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">6. Technical Requirement: Generic Table that contains Service Catalog Variable choices.   This will have to mimic the Question Choices (question_choices) table to a degree; such as price per choice.</span></p><ol><ol><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">The choices will need to be tied to the variable.</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">The choices table will have to be user accessible, and   restrictable from the Service Catalog administrator's menu.</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">The choices will need to be orderable (sequence).</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Will be available to ITIL Admins on the Service Catalog; in the Definitions section</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Since this will be a custom table it can be controlled via ACL at a later time.</span></li></ol></ol><p></p><p></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 14pt;"><strong>The Design</strong></span></p><p></p><ol><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Create a new table (Req #6)</span><ol><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Name: SC Variable Choices</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Columns:</span><ol><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Catalog Item - Reference, Service Catalog Items table</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Variable - Reference, Service Catalog Variables table</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Choice - String, length: 100</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Value - Price</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Order - Integer</span></li></ol></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Data: Values as listed in the requirements.</span></li></ol></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Create a new module (Req #6.2)</span><ol><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Name: Custom Choice List</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Location: Service Catalog -&gt; Catalog Definitions -&gt; Custom Choice List.   Last module in the Catalog Definitions section</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Roles: ITIL Admin</span></li></ol></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Service Catalog Item (Req #1, 2)</span><ol><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Name: Rickety Rocket Enterprises</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Category: Hardware</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Price: $1,000,000,000</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Recurring: Annually - $1,000,000</span></li></ol></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Variables (Req #3, 4, 5)</span><ol><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">What Rockets Would You Like For Your Fleet?   List Collector.   Tied to values in the custom table.   See values provided in the requirements.</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">What Type of Rocket?   Lookup Select Box.   Tied to values in the custom table.<span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   See values provided in the requirements.</span></span></li></ol></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Scripts</span><ol><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Catalog Client Script: onLoad.   Reference: custom table.   Filters the list so only Moon and Mars rockets appear on the List Collector. (Req #4.3)</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Catalog Client Script: onChange.   Of the What Type of Rocket? Select Box.   Will update the Quantity field in the Shopping Cart. (Req #4.2)</span></li><li><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Script Include: For Reference Qualifier of the What Type of Rocket? Select Box.   Will pull the proper type values from the custom table. (Req #5)</span></li></ol></li></ol><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Catalog Item Mockup displayed from the Hardware Catalog:</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-1 jive-image" src="fbe5a00adbd0dfc03eb27a9e0f9619c5.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Catalog Item Mockup (form):</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-2 jive-image" src="f5d6c08edb5c5fc068c1fb651f961964.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 14pt;"><strong>The Development</strong></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">1. Create the Custom Table (Req #6)</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">a. Navigate to System Definition -&gt; Tables.   The Tables List View will be displayed.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">b. Click on the New button.   The New Table form will be displayed.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">c. Fill out the form with the following (Design #1.2):</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">i. <strong>Label</strong>: SC Variable Choices</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">ii. <strong>Name</strong>: u_sc_variable_choices</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iii. Create Module: Uncheck</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iv. Right click on the form header to bring up the context menu and click on Save to save your new table.   The Columns list will appear on the form.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">v. Click on the New button. This will display the New column form.</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vi. Fill out the form with the following:</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">1. <strong>Column Label</strong>: Catalog Item</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">2. <strong>Column Name</strong>: u_catalog_item</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">3. <strong>Type</strong>: Reference</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. <strong>Reference</strong>: Catalog Item</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. Click on the Submit button to save your new column.</span></p><p style="padding-left: 60px;"></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vii. Click on the New button. This will display the New column form.</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">viii. Fill out the form with the following:</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">1. <strong>Column Label</strong>: Choice</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">2. <strong>Column Name</strong>: u_choice</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">3. <strong>Type</strong>: String</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. <strong>Length</strong>: 100</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. Click on the Submit button to save your new column.</span></p><p></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">xi. Click on the New button. This will display the New column form.</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">x. Fill out the form with the following:</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">1. <strong>Column Label</strong>: Order</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="font-size: 12pt; line-height: 1.5;">2. </span><span style="font-size: 12pt; line-height: 1.5;"><strong>Column Name</strong></span><span style="font-size: 12pt; line-height: 1.5;">: u_order</span></span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">3. <strong>Type</strong>: Integer</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. Click on the Submit button to save your new column.</span></p><p style="padding-left: 60px;"></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">xi. Click on the New button. This will display the New column form.</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">xii. Fill out the form with the following:</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">1. <strong>Column Label</strong>: Value</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">2. <strong>Column Name</strong>: u_value</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">3. <strong>Type</strong>: Price</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. <strong>Default</strong>: 0</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. Click on the Submit button to save your new column.</span></p><p style="padding-left: 60px;"></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">xiii. Click on the New button. This will display the New column form.</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">xiv. Fill out the form with the following:</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">1. <strong>Column Label</strong>: Variable</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">2. <strong>Column Name</strong>: u_variable</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">3. <strong>Type</strong>: Reference</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. <strong>Reference</strong>: Variable</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. Click on the Submit button to save your new column.</span></p><p></p><p><img   class="image-11 jive-image" src="7a29848edb9c5fc03eb27a9e0f96197a.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p style="padding-left: 60px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">The column details for the table:</span></p><p></p><p><img   class="image-12 jive-image" src="aff1eb39db5c9f04e9737a9e0f9619eb.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">2. Create the Catalog Item (Req #2)</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">a. Navigate to Service Catalog -&gt; Catalog Definitions -&gt; Maintain Items.   The Service Catalog Items list view will be displayed.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">b. Click on the New button.   The New Catalog Item form will be displayed.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">c. Fill out the form with the following:</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">i. <strong>Name</strong>: Rickety Rocket Enterprises</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ii. <strong>Active</strong>: checked</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iii. <strong>Availability</strong>: Desktop Only</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iv. <strong>Catalogs</strong>: Service Catalog</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">v. <strong>Category</strong>: Hardware</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vi. <strong>Icon</strong>: Spaceship 1.png (<span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">I provided as an attachment to this article)</span></span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vii. <strong>Short Description</strong>: Rickety Rocket Enterprises - Custom Choice List</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">viii. <strong>Price</strong>: 1,000,000,000.00</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ix. <strong>Recurring Price</strong>: 1,000,000.00</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">x. <strong>Recurring Price Frequency</strong>: Annually</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">xi. <strong>Use Cart Layout</strong>: Checked.</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> xii. <strong>Description</strong>:</span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">We build 'em!   You test 'em!   </span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Yesterday's technology tomorrow!   </span></p><p style="padding-left: 90px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">(with Spaceship 6.png I provided as an attachment to this article)</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">xiii. Right-click on the form header to display the context menu, and click on Save to save your new Catalog Item.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-13 jive-image" src="14e6458adb549f048c8ef4621f96194d.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">I spiffed things up a big for the customer! <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="4390.234375_331.484375_16_16" src="/8.0.1.35b65d4/images/emoticons/happy.png"></span></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-15 jive-image" src="eed6048edb5c5fc068c1fb651f9619ce.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">3. Create the Catalog Item Variables (Req #3,4,5)</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">a. Scroll to the bottom of the Rickety Rockets Catalog Item Form.   The related lists tabs will be visible.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">b. Click on the Variables tab, and then click on the New button.   The New Variable form will be displayed.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">c. Fill out the form with the following:</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">i. <strong>Type</strong>: List Collector</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ii. <strong>Order</strong>: 100</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="font-size: 12pt; line-height: 1.5;">iii. </span><span style="font-size: 12pt; line-height: 1.5;"><strong>Question</strong></span><span style="font-size: 12pt; line-height: 1.5;">: What Rockets Would You Like For Your Fleet?</span></span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iv. <strong>Name</strong>: v_fleet_rockets</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> v. <strong>Tooltip</strong>: Choose all of them if you like!</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vi.<strong> List Table</strong>: SC Variable Choices [u_sc_variable_choices]</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vii. Click the Submit button to save the variable. </span></p><p></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>NOTE</strong>: The "v_" naming convention is a good practice.   This is outlined in an excellent article written by <a title="valor" __default_attr="2137" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="valor" data-renderedposition="4809.234375_801.484375_55_17" href="/community?id=community_user_profile&user=4460d269db581fc09c9ffb651f9619d2">valor</a>: <a title="ww.cloudsherpas.com/partner-servicenow/smflashbook-best-tip-building-service-catalog/" href="https://www.cloudsherpas.com/partner-servicenow/smflashbook-best-tip-building-service-catalog/">#SMFlashbook — My Best Tip For Building The Service Catalog</a></span></p><p style="padding-left: 60px;"></p><h1 style="font-size: 3.5rem; margin-bottom: 35px; font-weight: 300; color: #444444; padding-top: 10px; font-family: 'Open Sans', sans-serif;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-17 jive-image" src="05f56c8edb905f048c8ef4621f961964.iix" style="max-width: 1200px; max-height: 900px;"/></span></h1><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">d. Click on the New button again. The New Variable Form will be displayed.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">e. Fill out the form with the following:</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">i. <strong>Type</strong>: Lookup Select Box</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ii. <strong>Order</strong>: 200</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iii. <strong>Question</strong>: What Type of Rocket?</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iv. <strong>Name</strong>: v_rocket_type</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">v. <strong>Tooltip</strong>: Rickety Rockets are da best!</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vi. <strong>Lookup from table</strong>: SC Variable Choices [u_sc_variable_choices]</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vii. <strong>Lookup value field</strong>: Choice</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">viii. <strong>Lookup price field</strong>: Value</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ix.<strong> Include None</strong>: checked</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> x. <strong>Reference qual</strong>: javascript:getSCChoiceValues(current.cat_item, 'v_rocket_type')</span></p><p style="padding-left: 30px;"><span style="font-size: 16px; font-family: arial, helvetica, sans-serif;">   </span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>NOTE</strong>: Current getSCChoiceValues Script Include Reference qual function does not exist; it will be created in a following step.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="jive-image image-18" src="0a47240adb14dfc03eb27a9e0f961969.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">xi. Click on the Submit button to save the variable.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">You should now have two Catalog Item Variables:</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-16 jive-image" src="9b21af35db141704ed6af3231f9619f5.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> f. Click on the Catalog Client Script related list tab.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> g. Click on the New button. The new Client Script form will be displayed.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">h. Fill out the form with the following:</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="font-size: 12pt; line-height: 1.5;">i. </span><span style="font-size: 12pt; line-height: 1.5;"><strong>Name</strong></span><span style="font-size: 12pt; line-height: 1.5;">: List Collector - Set Filter</span></span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ii.<strong> Applies to</strong>: A Catalog Item</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iii. <strong>Active</strong>: Checked</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iv. <strong>UI Type</strong>: Desktop</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">v. <strong>Type</strong>: onLoad</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vi. <strong>Catalog Item</strong>: Rickety Rocket Enterprises</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vii. <strong>Applies on a Catalog Item View</strong>: Checked</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">viii. <strong>Script</strong>:</span><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> </span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="_jivemacro_uid_14563236369724943 jive_macro_code jive_text_macro" data-renderedposition="5766.234375_8_1192_464" jivemacro_uid="_14563236369724943"><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">function onLoad() {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span>var collectorName = 'v_fleet_rockets';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span>var filter = 'u_variable.nameLIKE' + collectorName + '^u_choiceLIKEMars^ORu_choiceLIKEMoon';</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span>g_form.setDisplay(collectorName, false);</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span>   setListCollector();</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span>function setListCollector() {</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>// if the collector is not ready then wait and try again</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>if (typeof(window[collectorName + 'g_filter']) == 'undefined') {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span></span></span>setTimeout(setListCollector, 100); // wait one-tenth second to execute</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span></span></span>return;</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>}</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>// turn off the query constructor, and the preview display of the list collector</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>$(collectorName + '_select_0_filter_row').hide();</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>$(collectorName + '_select_0_filters_row').hide();</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span> $(collectorName + 'recordpreview').hide();</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>// now set up the filter</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span> window[collectorName + 'g_filter'].reset();</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>window[collectorName + 'g_filter'].setQuery(filter);</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>window[collectorName + 'acRequest'](null);</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>g_form.setDisplay(collectorName, true);</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>   }</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">}</span></p><p></p></pre><p></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ix. Click on the Submit button to save the script.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">i. From the Catalog Client Script related list tab.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 16px;"> <span style="font-size: 16px; font-family: arial, helvetica, sans-serif;"> </span></span>j. Click on the New button. The new Client Script form will be displayed.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">k. Fill out the form with the following:</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">i. <strong>Name</strong>: Set Quantity</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ii. <strong>Applies to</strong>: A Catalog Item</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iii. <strong>Active</strong>: checked</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iv. <strong>UI Type</strong>: Desktop</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">v. <strong>Type</strong>: onChange</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vi. <strong>Catalog Item</strong>: Rickety Rocket Enterprises</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vii. <strong><span style="font-family: arial, helvetica, sans-serif; font-size: 16px;"><strong>Catalog Item</strong></span><span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">: </span></strong>v_fleet_rockets</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">viii. <strong>Applies on a Catalog Item view</strong>: checked</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ix. <strong>Script</strong>:</span><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> </span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14563235533697198" data-renderedposition="6626.234375_8_1192_208" jivemacro_uid="_14563235533697198"><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">function onChange(control, oldValue, newValue, isLoading) {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>if (isLoading || newValue == '') {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>return;</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>}</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>// how many have been selected</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>   var fleet_rocketsSplit = newValue.split(',');</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>// update the cart quantity accordingly</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>   $('quantity').value = fleet_rocketsSplit.length;</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">}</span></p><p></p></pre><p></p><p></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">x. Click on the Submit button to save your work.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">l. Click on the Update button to make sure you save your Catalog Item.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. Create the Script Include Reference Qualifier for the Select Box</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">a. Navigate to System Definition -&gt; Script Includes.   The Script Includes list view will be displayed.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">b. Click on the New button.   The New Script Include form will be displayed.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">c. Fill out the form with the following:</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">i. <strong>Name</strong>: getSCChoiceValues</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ii. <strong>Client Callable</strong>: checked</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iii. <strong>Description</strong>: Custom choice table query generator</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iv. <strong>Accessible from</strong>: All application scopes</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">v. <strong>Active</strong>: Checked</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vi. <strong>Script</strong>:</span></p><p style="padding-left: 30px;"></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14563235109053966 jive_text_macro" data-renderedposition="7269.234375_8_1192_240" jivemacro_uid="_14563235109053966"><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">function getSCChoiceValues(cat_item, variable) {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>   var choiceList = new GlideRecord('u_sc_variable_choices');</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>choiceList.addQuery('u_catalog_item', cat_item);</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>choiceList.addQuery('u_variable.name', variable);</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>choiceList.query();</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>var queryString = 'u_variable=';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>if (choiceList.next()) {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span></span></span>queryString += choiceList.u_variable + '';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>}</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>queryString += '^ORDERBYu_order';</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">   </span>return queryString;</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">}</span></p><p></p></pre><p></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vii. Click the Submit button to save your script.</span></p><p></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">6. Create the New Module (Req #6.2)</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">a. Navigate to System Definition -&gt; Application Menus.   The Application Menus list view will be displayed.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">b. <strong>Filter on Title</strong>: Service Cat.   The Service Catalog application will be displayed.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">c. Click on the Service Catalog application. The application form will be displayed.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">d. Scroll down to the Modules related list and click on the New button.   The New module form will be displayed.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">e. Fill out the form with the following:</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> i. <strong>Title</strong>: Custom Choice List</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ii. <strong>Application Menu</strong>: Service Catalog</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iii. <strong>Order</strong>: 217 (this will place it right after Maintain Cart Layouts as the last module in Catalog Definitions)</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iv. <strong>Roles</strong>: Admin</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">v. <strong>Active</strong>: checked</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vi. <strong>Link Type</strong>: List of Records</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">vii. <strong>Table</strong>: SC Variable Choices [u_sc_variable_choices]</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">viii. Click on the Submit button to save your module.</span></p><p></p><p><img   class="jive-image image-10" src="ad47a88adb109344e9737a9e0f961938.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">7. Load the Data Into the Table</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">a. Download the <strong>u_sc_variable_choices.xls</strong> file from this article.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> b. Navigate to Service Catalog -&gt; Catalog Definitions -&gt; Custom Choice List.   The Custom Choice List list view will be displayed.   There should be no records present.</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">c. Right click on the list view column header to bring up the context menu, and choose Import.   The import form will be displayed.</span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">d. Fill in the form with the following:</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">i. <strong>Do you want to insert or update data?</strong> Choose Insert</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">ii. <strong>Do you want to create an Excel template to enter data?</strong> Unchecked</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iii. Click on the Choose File button, and choose the downloaded .xls file.</span></p><p style="padding-left: 60px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">iv. Click on the Upload button.   This will upload the data into your table.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="jive-image image-14" src="60f5e046db109304b322f4621f961911.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   </span></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">e. You should now have a populated custom table.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-9 jive-image" src="e00f4186db94130468c1fb651f96194c.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p></p><p><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong>The Unit Test</strong></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">1. Navigate to Self-Service -&gt; Service Catalog.   The Service Catalog home page will be displayed.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">2. Click on the Hardware Category.   The Hardware Category home page will be displayed.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="jive-image image-4" src="e62127b5db585b048c8ef4621f961961.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">3. Note that the Rickety Rocket Enterprises Catalog Item is present. (Req #1,2)</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-5 jive-image" src="46d30582db141b04ed6af3231f9619a3.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">4. Click on the Rickety Rocket Enterprises Catalog Item. The Catalog Item form will be displayed (this may take a couple of minutes to display - List Collectors are notoriously slow).</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">5. Note that the "What Rockets Would..." List Collector has three items displayed. They should contain either the word "Moon" or the word "Mars".   This shows that the filter Client Script is working.   The control should only show the Available/Selected components, and a search component.   Everything else should be hidden. (Req #3,4,6)</span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">a. Choose a couple of rockets and move them to the selected side of the control.   Note the quantity change from one to two.   This is our other client script at work.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-6 jive-image" src="a5a3eccedb50dfc03eb27a9e0f961902.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">6. Click on the "What Type of Rocket?" Lookup Select Box (dropdown).   You should see a list of four rocket types displayed.   This is the Reference Qualifier Script Include doing its job. <span style="font-family: arial, helvetica, sans-serif; font-size: 16px;">(Req #3,5,6)</span></span></p><p></p><p style="padding-left: 30px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"> a. Choose the "Four Engine, Two Seater, Two Ejection Seats" type.   After all you wouldn't want to leave anyone behind...just in case. :-)</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-7 jive-image" src="39c2c0c6db985fc03eb27a9e0f961949.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">7. Click on the "Add to Shopping Cart" button.   Note that two rockets are in the Shopping Cart for a total of $2-Billion, and that there is an additional $40,000 for the four ejector seats!</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="jive-image image-8" src="4f70eb7ddb501fc068c1fb651f961993.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 1.5;">8. That completes the unit testing.</span></p><p></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">You can now add ACLs, Query Business Rules, etc. to restrict the access to the custom table, and/or the records.</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">This lab shows the approach, and code that can be used to implement a Custom Choice table.   I did nothing really fancy to implement this solution, and you will see several usability problems that still need to be resolved.   I rely on you, the reader, to take it to the next level! <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="9496.234375_772.84375_16_16" src="/8.0.1.35b65d4/images/emoticons/happy.png"></span></span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">Steven Bell</span></p><p></p><p><span style="color: #800080; font-family: arial, helvetica, sans-serif; font-size: 12pt;"><strong>If you find this article helps you, don't forget to log in and "like" it and Share it!</strong></span></p>