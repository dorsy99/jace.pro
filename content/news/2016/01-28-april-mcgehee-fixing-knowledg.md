---
title: "Fixing Knowledge V search rendering when glideuiescapetext is false"
date: 2016-01-28T04:39:56.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=29fde22ddbd0dbc01dcaf3231f9619c0"
---
<p>Knowledge management got a big face lift last year with the introduction of <a title="ocs.servicenow.com/product/knowledge_management/concept/c_KMv3Migration.html" href="https://docs.servicenow.com/product/knowledge_management/concept/c_KMv3Migration.html">Knowledge Management V3</a> in Fuji. In addition to the new Knowledge UI, we got some new functionality added making browsing articles easier; for example, the new smart filter.</p><p><img   alt="Knowledge-Homepage-Category.jpg" class="image-1 jive-image" height="326" src="0ad84c42db1017041dcaf3231f961991.iix" style="display: block; margin-left: auto; margin-right: auto; width: 475px; height: 326.370967741936px;" width="475"/></p><p></p><p>If you're on Fuji and you're having problems with your Knowledge V3 search not rendering your search results correctly, this could be a result of your <span style="font-family: 'courier new', courier;">glide.ui.escape_text</span> being set to <strong>false</strong>. When this property is set to false you should see the kb_home.do display the message: "The content of elements must consist of well-formed character data or markup" <span style="color: #eb7a3d;"><br/></span></p><p><span style="color: #eb7a3d;"><img  alt="Knowledge+error+message.jpg" class="image-2 jive-image" src="a9b5e775dbd41704ed6af3231f961963.iix" style="width: 620px; height: 160px; display: block; margin-left: auto; margin-right: auto;"/><br/></span></p><p></p><p>This problem is related to UI Macros: kb_header_search and kb_find_query</p><ul><li>function getSysparmQuerySearchTerm()</li><li>character "&amp;lt" in for loop need to be changed in "${AMP}lt"</li></ul><p></p><h2>Mitigating your Knowledge search rendering</h2><ol><li>Navigate to <strong>System UI &gt; UI Macros.</strong></li><li>Find the line below in the <span style="font-family: 'courier new', courier;">kb_header_search</span> and <span style="font-family: 'courier new', courier;">kb_find_query</span> macros:<ul><li><span style="font-size: 10pt; font-family: 'courier new', courier;">for (i = 0; i &amp;lt; len ; i++) {</span></li></ul></li><li>Change this line in both UI macro records to:<ul><li><span style="font-size: 10pt; font-family: 'courier new', courier;">for (i = 0; i ${AMP}lt; len ; i++) {</span></li></ul></li></ol><p></p><p style="text-align: center;">For more information on Knowledge search form not rendering when searching from a homepage widget or the legacy knowledge portal see <a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0549476" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0549476">ServiceNow KB: PRB629756: Knowledge v3 search and search results do not render correctly when glide.ui.escape_text is faâ€¦</a></p>