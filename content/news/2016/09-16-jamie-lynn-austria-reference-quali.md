---
title: "Reference qualifiers in Service Catalog"
date: 2016-09-16T01:34:24.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=e31ea26ddbd0dbc01dcaf3231f961911"
---
<p>There are a few tools that every ServiceNow administrator should be equipped with; <a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/script/server_scripting/concept/c_ReferenceQualifiers.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/script/server_scripting/concept/c_ReferenceQualifiers.html">reference qualifiers</a> are one of them. Simply put, reference qualifiers allow you to specify a filter to restrict the data available for reference values. And filtering, as you may know, drastically improves the user experience by simplifying the data input process. It reduces the number of values available for selection, ensures accuracy by not displaying invalid or inappropriate values, and increases security by restricting values that are not retrieved or presented to the user.</p><p></p><p>Reference fields are such a case, where you specify the reference qualifier in the <strong>sys_dictionary</strong> record defining that field in a particular table. In the Service Catalog, they are used by reference variables to restrict the available values for several different variable types based on the result of a script or other variables on the catalog item. Before we get into the specifics of how how they are used in Service Catalog, let's do an overview of reference qualifiers in general.</p><p></p><h3>Three types of reference qualifiers are available in the ServiceNow platform:</h3><ol><li><a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/script/server_scripting/concept/c_SimpleReferenceQualifierExample.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/script/server_scripting/concept/c_SimpleReferenceQualifierExample.html">Simple reference qualifiers</a>: Provide choice lists for you to specify a reference qualifier condition on the table where the reference field is located</li><li><a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/script/server_scripting/concept/c_DynamicReferenceQualifierExample.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/script/server_scripting/concept/c_DynamicReferenceQualifierExample.html">Dynamic reference qualifiers</a>: <span style="color: #303030;">Allow you to use a dynamic filter to run a query against a reference field without having to enter JavaScript code or query strings.</span></li><li><span style="color: #303030;"><a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/script/server_scripting/concept/c_AdvancedReferenceQualifierExample.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/script/server_scripting/concept/c_AdvancedReferenceQualifierExample.html">Advanced reference qualifiers</a>: Provide a text field for you to create either a<span style="line-height: 1.5;"> static encoded query string or </span>JavaScript code that references script includes or functions in global business rules</span></li></ol><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="307.390625_8_1192_66"><p>ServiceNow offers many standard reference qualifiers in the base system. You can view them by navigating to <strong>System Navigation &gt; Dictionary</strong> and filtering on records where <strong>Reference qual</strong> is not empty.</p></pre><h1>Simple reference qualifiers</h1><p>When you're looking for a solution, sometimes it's best to start with the simplest. Simple reference qualifiers (like the name suggests) achieve your requirements without in the simplest and most straightforward way possible. Before exploring other avenues - such as scripts, which can be complicated, unnecessary, and are not always guaranteed to work - first try to determine if you can accomplish what you need to do with a simple reference qualifier. If you want to limit the values for a reference field based on other values in the reference table, this is the qualifier you'll want to use. You can always configure a simple reference qualifier by <a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/users_and_groups/concept/c_SetUpTheReferenceQualifier.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/users_and_groups/concept/c_SetUpTheReferenceQualifier.html">building the condition</a> using the choice lists.</p><p></p><p>The base system provides several simple reference qualifiers by default. For instance, the reference qualifier on the <strong>Vendor</strong> field on asset forms (e.g. the Hardware form) restricts the companies you can select for this field to only those companies with the <strong>Vendor</strong> field set to <strong>true</strong>. Simple reference qualifiers can have a maximum of 13 reference qualifier conditions.</p><p></p><h1>Dynamic reference qualifiers</h1><p>Dynamic reference qualifiers allow you to create one dynamic filter option and in as many dynamic reference qualifiers as needed. They are useful when you want to limit the values for a reference field based on the <a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/use/using_lists/task/t_DynamicFilterOptions.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/use/using_lists/task/t_DynamicFilterOptions.html">Create a dynamic filter</a> option that uses <a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/use/using_lists/task/t_ScriptedFilters.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/use/using_lists/task/t_ScriptedFilters.html">Create scripted filters</a>. Most of all, they allow you to use existing scripts in the base system without having to re-invent the wheel, saving you lots of time and effort. Likewise, any dynamic scripts you create can be used elsewhere, which is good practice for code reusability. For example, the dynamic reference qualifier <strong>Me</strong> saves you time from coming up with a script to return your user ID.</p><p></p><p>One of the many dynamic filter options that the base system offers by default is on the <strong>Model ID</strong> field, which appears on a configuration item form (e.g. the <strong>Computer</strong> form). The reference qualifier calls the <strong>CI Model Qualifier </strong>dynamic filter option, which in turn calls the ModelAndCategoryFilters script include. This script include refines the reference qualifier based on the class of the CI so that the only options for the model ID are those that belong to the same class as the current CI. For example, only Cis that belong to the Computer class are available in the <strong>Model ID</strong> field on a Computer configuration item form.</p><p></p><h1>Advanced reference qualifiers</h1><p>In some cases, a simple or dynamic reference qualifier does not provide enough control over filtering. This is where advanced reference qualifiers come in handy. They allow you to enter an encoded query string or make a JavaScript call to a script include that returns a query string. But while they are available for your use, advanced reference qualifiers should only be used as a last resort. Like the script field in an ACL rule, there is always a risk of failing, which can cause spurious results or performance issues. For example, if you're using advanced reference qualifiers in the Service Catalog to get choices from the Change Request Type field, a better alternative would be to have your script go to the <strong>sys_choice</strong> table and filter it (<span class="s1">table=change_request^field=type). In addition, if you plan to script a reference qualifier you will want to delegate most of that script to a Script Include for efficiency.</span></p><p></p><p>To create these types of qualifiers, enter the query string or JavaScript code in the <strong>Reference qual</strong> field on the Dictionary Entry form.</p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="1042.390625_8_1192_43"><p>It's good practice to make JavaScript calls to functions in a script include instead of a global business rule. Here is more information on <a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/script/server_scripting/task/t_JavaScriptCalls.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/script/server_scripting/task/t_JavaScriptCalls.html">JavaScript calls</a>.</p></pre><h1>How reference qualifiers work in Service Catalog</h1><p>Now that you have a brief understanding of reference qualifiers, here's a rundown on how they work they can be applied in Service Catalog. As mentioned above, reference qualifiers work a little differently in Service Catalog because they apply to catalog variables, not fields. They can be used to filter the values available for input in certain variable types, and they allow you to script the filtering for maximum flexibility. This includes the capability of scripting one variable so the acceptable values are filtered by the values set in other fields on the Catalog Item ordering screen. They also apply if inputs are allowed in those variables on the Requested Item form or Catalog Task form.</p><p></p><h3>First of all, in Service Catalog, reference qualifiers only apply to these four variable types:</h3><ul><li>List Collector (uses the list collector (aka slushbucket) interface to add multiple records from a table)</li><li>Lookup Multiple Choice (<span style="line-height: 1.5;">creates radio buttons using data from a table)</span></li><li>Lookup Select Box (creates a choice list using data queried from a table)</li><li>Reference (references a record in another table, similar to a <span class="s1">reference field</span>)</li></ul><p></p><p>Secondly, it's important to note that all four variable types are supported by the <strong>Advanced</strong> reference qualifier. However, only Reference variables are supported by the <strong>Simple, Dynamic</strong>, and <strong>Advanced</strong> reference qualifiers. When creating a new Reference variable, in the <strong>Type Specifications</strong> tab you have the option to choose between these three reference qualifiers:</p><p><img   alt="adv ref qual.jpg" class="image-8 jive-image" src="7ae4a5cadb101744e9737a9e0f9619d1.iix" style="width: 620px; height: 273px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p>If you're creating a new List Collector, Multiple Choice, or Select Box variable, there is no drop-down menu - you will only see the <strong>Reference qual</strong> field (which corresponds to the <strong>Advanced</strong> reference qualifier):</p><p><img   alt="Lookup+Select+Box.jpg" class="image-9 jive-image" src="48d02902db9c13043eb27a9e0f9619a6.iix" style="width: 620px; height: 363px; display: block; margin-left: auto; margin-right: auto;"/></p><p>Keep these restrictions in mind when applying reference qualifiers to your Service Catalog, and you'll be good to go!</p><p></p><p><strong>More resources</strong></p><ul><li><a title="danny.mortensen" __default_attr="27220" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="danny.mortensen" data-renderedposition="2243.171875_38_127_16" href="/community?id=community_user_profile&user=fb449a61db5c1fc09c9ffb651f96193b">danny.mortensen</a> gives step-by-step instructions on the tricky process of <a title="" _jive_internal="true" href="/community?id=community_question&sys_id=9561d72ddbdcdbc01dcaf3231f961990">creating an advanced reference qualifier for a record producer</a></li><li><span style="line-height: 1.5;">Known Error: </span><span class="s1" style="line-height: 1.5;"><a title="i.service-now.com/kb_view.do?sysparm_article=KB0551977" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0551977">Advanced reference qualifier does not use "current" correctly on the catalog task form when first loaded</a></span></li><li>Product documentation on <span class="s2"><span class="s1"><a title="ocs.servicenow.com/bundle/helsinki-servicenow-platform/page/script/server-scripting/task/t_ConfigureReferenceQualifiers.html" href="https://docs.servicenow.com/bundle/helsinki-servicenow-platform/page/script/server-scripting/task/t_ConfigureReferenceQualifiers.html">how to configure reference qualifiers</a></span></span></li><li><span class="s2"><span class="s1">See how you can create a reference qualifier on the List Collector to view a specific filter: <a title="Filtering on the List Collector or SlushBucket variable in Helsinki" __default_attr="5755" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Filtering on the List Collector or SlushBucket variable in Helsinki" data-renderedposition="2314.5625_595.9375_420_16" href="/community?id=community_blog&sys_id=2c6d6a29dbd0dbc01dcaf3231f96197b">Filtering on the List Collector or SlushBucket variable in Helsinki</a> </span></span></li></ul>