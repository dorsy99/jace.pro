---
title: "Reply emails with Re prefix and number value passed on the subject examples"
date: 2016-01-26T03:07:20.000Z
authors: ["jonnyseymour"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=e3bd6ea9dbd0dbc01dcaf3231f9619ca"
---
<p>Email has three chances to <a title="ki.servicenow.com/?title=Inbound_Email_Actions#gsc.tab=0" href="http://wiki.servicenow.com/?title=Inbound_Email_Actions#gsc.tab=0">recognize a reply email</a> arranged over subject, header and email body. The last chance an email has to recognize a reply is related to the subject of having a reply prefix and the record &lt;number&gt;. This method is popular because it does not requires a previous email from the instance to use it; however, its power is limited. I can see that using watermarks is more efficient. Nevertheless, here are my findings.</p><p></p><p>Incoming emails are classified following an<a title="ki.servicenow.com/images/7/77/Inbound_email_action_type.png" href="http://wiki.servicenow.com/images/7/77/Inbound_email_action_type.png"> algorithm as New, Reply or Forward</a>. Inbound email actions enable an administrator to define the actions ServiceNow takes when receiving those emails. Reply emails can be <a title="ki.servicenow.com/?title=Inbound_Email_Actions#Matching_Incoming_Email_to_Existing_Records" href="http://wiki.servicenow.com/?title=Inbound_Email_Actions#Matching_Incoming_Email_to_Existing_Records">identified by several methods</a>. The most complex of methods to identify reply emails is: subject with a reply prefix that contain the record number and no watermarks.</p><p></p><p><img   alt="incoming_emails.png" class="image-6 jive-image" height="117" src="ad566986dbd0df048c8ef4621f9619ef.iix" style="width: 205px; height: 117.379px; display: block; margin-left: auto; margin-right: auto;" width="205"/></p><p></p><h2>Recognizing the reply by the subject record number</h2><p>Based on my tests, to classify the email using the Subject as reply, the text needs to be as follow:</p><ol><li>The first characters need to match the reply prefix and it is not case sensitive.</li><li>The record number needs to be ONE word. Only spaces or ':' are accepted before and/or after.</li><li>The record number prefix needs to exist on the sys_number table.</li><li>The number needs to be within the first 160 characters (including the number itself)</li><li>The user that sent the email needs to have access to the record refered by the number</li></ol><p></p><p>Based on that, you can see it can be consider as temperamental. Well, maybe.</p><p></p><h4>The first characters need to match the reply prefix.</h4><p>This is usually done by your email client. Nothing to worry except spaces before the prefix or other languages. Just ensure the subject line is starting with a <a title="k-external-small" class="jive-link-external-small" href="http://wiki.servicenow.com/index.php?title=Inbound_Email_Actions#Specifying_Recognized_Reply_Prefixes" rel="nofollow" target="_blank">recognized reply prefix</a>. Just avoid spaces (or invisible spaces - e.g. MS word justifications paragraph markers) before the prefix.</p><p></p><h4>The record number needs to be ONE word. Only spaces or ':' are accepted before and/or after.</h4><p>The record &lt;number&gt; is the field called 'number' on the target table. The record &lt;number&gt; has to be one word (e.g. INC00001) and with a valid record number that <a title="k-external-small" class="jive-link-external-small" href="http://wiki.servicenow.com/index.php?title=Inbound_Email_Actions#Matching_Incoming_Email_to_Existing_Records" rel="nofollow" target="_blank">matches an existing record</a>.</p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="756.183349609375_8_917_43"><p>Yes, &lt;number&gt; needs to be ONE WORD (no symbols or characters around them) with spaces around it (e.g. MM-INC0001 is wrong).</p></pre><h3></h3><h4>The record number 'prefix' needs to exist on the sys_number table</h4><p>The number "prefix" needs to EXIST and ideally be unique (or first found) on the <a href="http://wiki.servicenow.com/index.php?title=Managing_Record_Numbering#gsc.tab=0"><strong>Number Maintanance</strong></a> (<strong>sys_number table</strong>).</p><p></p><p>e.g. INCxxxx record will <strong>INC</strong> match on sys_number table, and it will provide the 'incident' target table.</p><p></p><p>Another example is TASKxxx record. It will match TASK, which points to two target tables. Use with caution. It will match the first table found causing inconsistency. Prefixes are stored on <a title="ki.servicenow.com/index.php?title=Managing_Record_Numbering#gsc.tab=0" href="http://wiki.servicenow.com/index.php?title=Managing_Record_Numbering#gsc.tab=0">Number Maintanance</a>, and there are TWO "TASK" prefixes. On my testings, it was matching TASK prefix from the task table, instead of TASK from sc_task table.</p><p></p><p>To validate the prefixes, check</p><blockquote class="jive-quote"><strong>&lt;instance&gt;/sys_number_list.do?sysparm_query=prefix!%3DNULL</strong></blockquote><p>Here is the how it looks:</p><p><img   alt="02-Number_maintenance.jpg" class="image-4 jive-image" src="64bd90c2db5c9fc03eb27a9e0f9619e1.iix" style="width: 620px; height: 170px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><h3></h3><h4>The number needs to be within the first 160 characters (including the number itself) of the subject</h4><p>There is a limit of 160 characters on the sys_email subject. When creating the subject, ensure the &lt;number&gt; is on the first 160 characters. To validate if the subject was   correct, after the instance process the email, the incoming email logs will show:</p><pre __jive_macro_name="quote" class="jive_macro_quote jive_text_macro" data-renderedposition="1441.183349609375_8_917_41"><p>Received id=&lt;Message-ID&gt; Classified as reply to '&lt;number&gt;' found in subject</p></pre><p><span style="color: #eb7a3d;">If the subject is incorrect, the incoming emails will get classified as New.</span></p><pre __jive_macro_name="quote" class="jive_macro_quote jive_text_macro" data-renderedposition="1523.183349609375_8_917_41"><p><span class="list_span_related">Received id=&lt;Message-ID&gt; Classified as new</span></p></pre><p></p><h2></h2><h2></h2><h2>Here are the results of my testings with different subjects. INC0001 is a valid incident number.</h2><table border="1" cellpadding="0" cellspacing="0" height="131" style="padding: 0px 5.4pt; width: 526px; height: 130px;"><tbody><tr><td style="border: solid windowtext 1.0pt; background: #4F81BD; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong><span lang="EN-US" style="color: white;">Working subjects:</span></strong></p></td><td style="border: solid windowtext 1.0pt; border-left: none; background: #4F81BD; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p><strong><span lang="EN-US" style="color: white;">Reason</span></strong></p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong>Re:INC0001   </strong></p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p>Reply prefix + number</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong>re: Review INC0001</strong></p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p>Reply prefix + anything + "space" + number</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong>RE: Review:INC0001:</strong></p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p>Reply prefix + anything + "colon" + number + "colon"</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong>rE:INC0001 Review</strong></p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p>Reply prefix + number   + space + anything</p></td></tr></tbody></table><p></p><p>You can see the reply prefixes are not case sensitive. Space and colon are acceptable.</p><p></p><table border="1" cellpadding="0" cellspacing="0" height="276" style="padding: 0px 5.4pt; height: 277px; width: 532px;"><tbody><tr><td style="border: solid windowtext 1.0pt; background: red; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong><span lang="EN-US" style="color: white;">Not working subjects:</span></strong></p></td><td style="border: solid windowtext 1.0pt; border-left: none; background: red; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p><strong><span lang="EN-US" style="color: white;">Reason</span></strong></p></td></tr><tr><td style="border-top: none; border-left: solid #4F81BD 1.0pt; border-bottom: solid #4F81BD 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong>Re:Review-INC0001</strong></p></td><td style="border-top: none; border-left: none; border-bottom: solid #4F81BD 1.0pt; border-right: solid #4F81BD 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p>Minus <span __jive_emoticon_name="minus" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="1904.5833740234375_242.18333435058594_16_16" src="/8.0.4.21bdc7e/images/emoticons/minus.png"></span> is not acceptable. Space and colon are fine.</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong>Re:Review -INC0001</strong></p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p>Minus <span __jive_emoticon_name="minus" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="1950.5833740234375_242.18333435058594_16_16" src="/8.0.4.21bdc7e/images/emoticons/minus.png"></span> touching the number is not acceptable.</p></td></tr><tr><td style="border-top: none; border-left: solid #4F81BD 1.0pt; border-bottom: solid #4F81BD 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong>Re:Review TEST0001</strong></p></td><td style="border-top: none; border-left: none; border-bottom: solid #4F81BD 1.0pt; border-right: solid #4F81BD 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p>TEST is not a valid sys_number prefix.</p><p>Even if the number=TEST0001 exist.</p><p>This could happen on manually created numbers</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong>Re:TASK0001 </strong></p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p>Acceptable but it may pick the wrong target table. from sys_number. There are two TASK prefixes.</p></td></tr><tr><td style="border-top: none; border-left: solid #4F81BD 1.0pt; border-bottom: solid #4F81BD 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong>Re: XX…(160+chars) INC0001</strong></p></td><td style="border-top: none; border-left: none; border-bottom: solid #4F81BD 1.0pt; border-right: solid #4F81BD 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p>The subject will get truncated leaving the number out. Place the number on the first 160 characters.</p></td></tr><tr><td style="border: solid windowtext 1.0pt; border-top: none; padding: 0 5.4pt 0 5.4pt;" valign="top" width="145"><p><strong>         Re:INC0001</strong></p></td><td style="border-top: none; border-left: none; border-bottom: solid windowtext 1.0pt; border-right: solid windowtext 1.0pt; padding: 0 5.4pt 0 5.4pt;" valign="top" width="284"><p>Space before the prefix is not acceptable.</p></td></tr></tbody></table><p></p><p>As you can see, the character - before the number   is not acceptable. Also, the number needs to exist on the target table. Also, if the number was created without following the prefix (e.g. TEST instead of INC), it will not match.</p><p></p><p>Here are the results on the sys_email table:</p><p><img   alt="01-identified-email.jpg" class="image-5 jive-image" height="518" src="65ee337ddb901344e9737a9e0f961991.iix" style="height: 518px; width: 402.81036834925px; display: block; margin-left: auto; margin-right: auto;" width="403"/></p><p></p><p>If you are using subjects for reply emails without watermarks, ensure you are using the email prefix, then &lt;number&gt; separated with spaces and the rest of the subject. Then all should be as easy as drinking a glass of water.</p><p></p><p>I have tested with Chrome as browser on Fuji. Emails were written on Outlook 2011.</p><p></p><p>More information here:</p><ul><li><a title="i.service-now.com/kb_view.do?sysparm_article=KB0540674" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0540674">Email Resources Page (KB0540674)</a></li><li><a title="" _jive_internal="true" href="/hi.service-now.com/kb_view.do?sysparm_article=KB0535515" rel="nofollow" target="_blank">Inbound Email Action Type is not Matched (KB0535515)</a></li><li><a title="w.servicenowguru.com/system-definition/inbound-email-new-reply-forward/" href="http://www.servicenowguru.com/system-definition/inbound-email-new-reply-forward/">Inbound Email - New, Reply, and Forward - ServiceNow Guru</a></li><li><a title="i.service-now.com/kb_view.do?sysparm_article=KB0524472" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0524472">Inbound Email Troubleshooting (KB0524472)</a></li><li><a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/notification/concept/c_InboundEmailActions.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/notification/concept/c_InboundEmailActions.html">Docs: Inbound Email Actions</a></li><li><a title="ocs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/notification/reference/r_InboundEmailActionExamples.html" href="https://docs.servicenow.com/bundle/istanbul-servicenow-platform/page/administer/notification/reference/r_InboundEmailActionExamples.html">Docs: Examples of Inbound Email Actions</a></li><li><a title="ww.youtube.com/watch?v=tbeGSYFG828" href="https://www.youtube.com/watch?v=tbeGSYFG828">Part Three | Verifying Inbound Email User and Incident Creation Settings - YouTube</a></li></ul>