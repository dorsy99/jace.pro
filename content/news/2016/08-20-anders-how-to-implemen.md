---
title: "How to implement Thycotic Secret Server as an External Credential Store"
date: 2016-08-19T17:35:45.000Z
authors: ["anders"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=de6dea29dbd0dbc01dcaf3231f9619e3"
---
<p><span style="font-size: 12pt;"><span class="tx"><em>This is the second part in this series - the first part is available here</em> <a title="Importance of Credential Management" __default_attr="5758" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Importance of Credential Management" data-renderedposition="10.5_484.1000061035156_294_19" href="/community?id=community_blog&sys_id=b7bcae25dbd0dbc01dcaf3231f9619ac">Importance of Credential Management</a></span></span></p><p></p><p></p><p></p><p><span style="font-size: 12pt;"><span class="tx">A popular credential repository is Thycotic Secret Server. Lets look at an example of </span><span class="tx">setup the integration between the MID Server and Secret Server. How to install the </span><span class="tx">Thycotic Secret Server is beyond the scope for this blog — but for Windows you </span><span class="tx">basically get a "setup.exe" file, which starts a wizard to install the software.</span><span class="tx"></span></span></p><p></p><p><span style="font-size: 12pt;"><span class="tx">During the installation you will create an "administrator" user. You need to create </span><span class="tx">an additional user if you want to use the API. The reason for this is that when you </span><span class="tx">setup the API, the password will automatically be changed to something secret.</span></span></p><p></p><p><span style="font-size: 12pt;"><span class="tx">You need to request the API JAR file separately from Thycotic support and they will </span><span class="tx">send it to you via email. Extract the zip file to reveal the JAR file (<span class="tx" style="font-size: 12pt;">secretserver-jconsole.jar</span>).</span></span></p><p></p><p><span style="font-size: 12pt;"><span class="tx">To setup the API you will need to place the JAR file in the directory where it will </span><span class="tx">execute from — in our case the MID server "agent" folder. Copy the file to the "agent" </span><span class="tx">folder and follow the Java API setup instructions here: </span><a href="https://thycotic.force.com/support/s/article/Java-Client-Console-API-for-Accessing-Secret-Values-Programatically"><span class="tx">https://thycotic.force.com/support/s/article/Java-Client-Console-API-for-</span><span class="tx">Accessing-Secret-Values-Programatically</span></a><span class="tx"><br/></span></span></p><p></p><p><img   alt="decs01.png" class="image-1 jive-image" height="167" src="f4f98c02db109fc068c1fb651f961977.iix" style="width: 1135px; height: 166.589px;" width="1135"/></p><p></p><p><span style="font-size: 12pt;"><span class="tx"> </span><span class="tx">Now when the Java API is setup we can look closer at the CredentialResolver.java file we need. Below is an example — but you can of course download the template </span><span class="tx">from ServiceNow documentation and add your own code. </span></span></p><p></p><p><span style="font-size: 12pt;"><span class="tx">First lets create a directory for compiling the Java code e.g. </span><span class="tx"><span style="font-family: andale mono,times;">F:\ServiceNow\JavaSource</span>   </span></span></p><p><span style="font-size: 12pt;"><span class="tx">Next create a directory structure like </span><span class="tx">this:   <span style="font-family: andale mono,times;">F:\ServiceNow\JavaSource\com\snc\discovery</span> - this is where we're going to </span><span class="tx">place the compiled Java code   </span></span></p><p></p><p><img   alt="decs02.png" class="image-2 jive-image" src="a977a739db941fc068c1fb651f96192c.iix" style="height: auto;"/></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span class="tx" style="font-size: 12pt;">Copy the "secretserver-jconsole.jar" file to the "JavaSource" folder.<br/></span></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx">Create a new file in the "JavaSource" folder called CredentialResolver.java - here is </span><span class="tx">an example file which is based on the template from the documentation. The </span><span class="tx">additional code is highlighted in blue.</span><span class="tx"></span></span></p><p class="tb f295" style="font-size: 12pt;"></p><p></p><p><span style="font-size: 10pt; font-family: andale mono,times;">package com.snc.discovery;</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;">import java.util.*;</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;">import java.io.*;</span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong>import thycotic.secretserver.jconsole.service.* ;</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong>import thycotic.secretserver.business.utilities.BusinessInitializer;</strong></span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;">/**</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> * Basic implementation of a CredentialResolver that uses secret server.</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> */</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;">public class CredentialResolver {</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // These are the permissible names of arguments passed INTO the resolve()</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // method.</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the string identifier as configured on the ServiceNow instance...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String ARG_ID = "id";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // a dotted-form string IPv4 address (like "10.22.231.12") of the target</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // system...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String ARG_IP = "ip";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the string type (ssh, snmp, etc.) of credential as configured on the</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // instance...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String ARG_TYPE = "type";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the string MID server making the request, as configured on the</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // instance...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String ARG_MID = "mid";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // These are the permissible names of values returned FROM the resolve()</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // method.</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the string user name for the credential, if needed...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String VAL_USER = "user";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the string password for the credential, if needed...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String VAL_PSWD = "pswd";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the string pass phrase for the credential if needed:</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String VAL_PASSPHRASE = "passphrase";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the string private key for the credential, if needed...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String VAL_PKEY = "pkey";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the string authentication protocol for the credential, if needed...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String VAL_AUTHPROTO = "authprotocol";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the string authentication key for the credential, if needed...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String VAL_AUTHKEY = "authkey";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the string privacy protocol for the credential, if needed...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String VAL_PRIVPROTO = "privprotocol";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the string privacy key for the credential, if needed...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static final String VAL_PRIVKEY = "privkey";</span></p><p></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> private Properties fProps;</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public CredentialResolver() {</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> }</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> <span style="color: #1f497d;"><strong>   private void loadProps(String id, String type) {</strong></span></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> if(fProps == null)</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> fProps = new Properties();</strong></span></p><p></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> int secretID = Integer.parseInt(id);</strong></span></p><p></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> BusinessInitializer.initialize();</strong></span></p><p></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> System.err.println("user.dir := " + System.getProperty("user.dir"));</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> IUtilities util = new Utilities();</strong></span></p><p></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> try {</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> String user = util.getSecretField(secretID, "username");</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> String password = util.getSecretField(secretID, "password");</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> //String token = util.getUserToken();</strong></span></p><p></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> System.err.println("User: '" + user + "'" );</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> System.err.println(" pw: '" + password + "'");</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> String kPre = "" + secretID + "." + type + ".";</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong>                       fProps.setProperty(kPre + VAL_USER,user);</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> fProps.setProperty(kPre + VAL_PSWD,password);</strong></span></p><p></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> System.err.println(" PROPERTIES: '" + fProps + "'");</strong></span></p><p></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> //System.out.println(" token: '" + token + "'");</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> } catch (java.lang.Exception e) {</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> System.err.println("EXCEPTION");</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> System.err.println(e.getMessage());</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> System.err.println("STACK");</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> e.printStackTrace();</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> }</strong></span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> System.out.println("OK - we are done!");                     </strong></span></p><p></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong>       }</strong></span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> /**</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> * Resolve a credential.</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> */</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public Map resolve(Map args) {</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> String id = (String) args.get(ARG_ID);</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> String type = (String) args.get(ARG_TYPE);</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> String keyPrefix = id+"."+type+".";</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> if(id.equalsIgnoreCase("misbehave"))</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;">                       throw new RuntimeException("I've been a baaaaaaaaad CredentialResolver!");</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> //get credential info from external source</span></p><p><span style="color: #1f497d; font-size: 10pt; font-family: andale mono,times;"><strong> loadProps(id,type);</strong></span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> // the resolved credential is returned in a HashMap...</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> Map result = new HashMap();</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> result.put(VAL_USER, fProps.get(keyPrefix + VAL_USER));</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> result.put(VAL_PSWD, fProps.get(keyPrefix + VAL_PSWD));</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> result.put(VAL_PKEY, fProps.get(keyPrefix + VAL_PKEY));</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> result.put(VAL_PASSPHRASE, fProps.get(keyPrefix + VAL_PASSPHRASE));</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> result.put(VAL_AUTHPROTO, fProps.get(keyPrefix + VAL_AUTHPROTO));</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> result.put(VAL_AUTHKEY, fProps.get(keyPrefix + VAL_AUTHKEY));</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> result.put(VAL_PRIVPROTO, fProps.get(keyPrefix + VAL_PRIVPROTO));</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> result.put(VAL_PRIVKEY, fProps.get(keyPrefix + VAL_PRIVKEY));</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> System.err.println("Resolving credential id/type["+id+"/"+type+"] -&gt; "+result.get(VAL_USER)+"/"+result.get(VAL_PSWD)+"/"+result.get(VAL_PASSPHRASE)+"/"+result.get(VAL_PKEY)+"/"+result.get(VAL_AUTHPROTO)+"/"+result.get(VAL_AUTHKEY)+"/"+result.get(VAL_PRIVPROTO)+"/"+result.get(VAL_PRIVKEY));</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> return result;</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> }</span></p><p></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> /**</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> * Return the API version supported by this class.</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> */</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public String getVersion() {</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> return "1.0";</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> }</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> public static void main(String[] args) {</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> CredentialResolver obj = new CredentialResolver();</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> //obj.loadProps();</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> System.err.println("I spy the following credentials: ");</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> for(Object key: obj.fProps.keySet()) {</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;">                       System.err.println(key+": "+obj.fProps.get(key));</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> }</span></p><p></p><p><span style="font-family: andale mono,times; font-size: 10pt;"> }</span></p><p><span style="font-family: andale mono,times; font-size: 10pt;">}</span></p><p></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx"> </span><span class="tx"> </span><span class="tx">Once we've saved this we're ready to compile the code. Note that your Java </span><span class="tx">executable might reside in a different location. Use a CommandPrompt and </span><span class="tx">navigate to to the "JavaSource" folder and use "javac" to compile the Java source file: </span><span class="tx"> </span></span><br/><span class="tx f299" style="font-size: 12pt;"></span></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f299" style="font-size: 6pt;"><span class="tx f299" style="font-size: 12pt; font-family: andale mono,times;">F:\ServiceNow\JavaSource&gt;"c:\Program Files\Java\jdk1.8.0_92\bin\javac.exe" -classpath secretserver-jconsole.jar </span><span style="font-size: 12pt;"><span class="tx"><span style="font-family: andale mono,times;">CredentialResolver.java -d .</span> </span><span class="tx f295"> </span></span></p><p class="tb f299" style="font-size: 12pt;"><span class="tx f295" style="font-size: 12pt;">   </span><br/><span class="tx f295" style="font-size: 12pt;">You may see the following "warnings" which can be ignored:   </span><br/><span style="font-size: 12pt; font-family: andale mono,times;"><span class="tx">Note: com\snc\discovery\CredentialResolver.java uses unchecked or unsafe operations. </span></span></p><p class="tb f299" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx" style="font-family: andale mono,times;"> </span><span class="tx"><span style="font-family: andale mono,times;">Note: Recompile with -Xlint:unchecked for details.</span> </span><span class="tx"> </span></span></p><p class="tb f299" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx">Now when we have our Java class file we need to wrap it into a JAR file using this </span><span class="tx">command: </span></span></p><p class="tb f295" style="font-size: 12pt;"><span class="tx" style="font-size: 12pt;"> </span><br/><span class="tx f299" style="font-size: 12pt;"><span style="font-family: andale mono,times;">F:\ServiceNow\JavaSource&gt;"c:\Program Files\Java\jdk1.8.0_92\bin\jar.exe" -cvf CredentialResolver.jar com </span> </span></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><img   alt="decs03.png" class="image-3 jive-image" height="220" src="78cd0d0adb9413043eb27a9e0f9619d0.iix" style="height: 220px; width: 1127.27px;" width="1127"/></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx">We are done with the command line and the next step is to upload the file to the </span><span class="tx">ServiceNow instance. From the MID Server — open a browser and navigate to your </span><span class="tx">instance,   logon as an administrator and navigate to "MID Server" —&gt; "JAR Files"</span></span></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx"></span><span class="tx">Create a record for the "secretserver-jconsole.jar" - and attach the JAR file to the </span><span class="tx">record.   </span><span class="tx"> </span></span></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><img   alt="decs04.png" class="image-4 jive-image" src="0658ac8adb145f048c8ef4621f9619b2.iix" style="height: auto;"/></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx">On the ServiceNow instance - go to "MID Server" —&gt; "JAR Files"   </span><span class="tx">Create a record for the "CredentialResolver.jar" - and attach the JAR file to the </span><span class="tx">record.   </span><span class="tx">   </span></span></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><img   alt="decs05.png" class="image-5 jive-image" src="bac7c00edb1017049c9ffb651f961918.iix" style="height: auto;"/></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx"></span><span class="tx"></span><span class="tx">The JAR files will synchronize with the MID Servers — but you may want to restart </span><span class="tx">the MID Server to make sure the new files are picked up. </span><span class="tx">You will be able to see the new "jar" files in the "extlib" folder on the MID Server.</span></span></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx">Next we need to set up the external credentials in ServiceNow. Unless you've </span><span class="tx">already done so, you need to request the External Credential Store plugin to be </span><span class="tx">enabled from HI (</span><span class="tx"><a title="ocs.servicenow.com/bundle/helsinki-it-operations-management/page/product/discovery/task/t_ActivateExtrnlCredStoragePlugIn.html" href="https://docs.servicenow.com/bundle/helsinki-it-operations-management/page/product/discovery/task/t_ActivateExtrnlCredStoragePlugIn.html">Activate external credential storage</a>)</span><span class="tx">. Create a new credential in </span><span class="tx">the credential table and make sure you tick the "External Credential" option. The </span><span class="tx">"Credential ID" is the ID used to request the credential from Thycotic Secret Server — </span><span class="tx">in the example below it's simply just the number "1". The "Tag" is not required but </span><span class="tx">can be useful if you use "</span><a href="https://docs.servicenow.com/bundle/helsinki-it-operations-management/page/administer/orchestration-activities/concept/c_AssignCredsOrchActivities.html"><span class="tx">credential tagging</span></a><span class="tx">" in your Orchestration activities. </span><span class="tx"> </span></span></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx"><img   alt="decs06.png" class="image-6 jive-image" src="6504a7f1db941704ed6af3231f961945.iix" style="height: auto;"/></span></span></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx"> </span><span class="tx"> </span><span class="tx">Finally we should test our integration to make sure we can connect and pick up the </span><span class="tx">required credentials. You may want to disable other credentials for the initial tests.</span></span></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx"> </span><span class="tx">You can track the output from the Java code in the "wrapper.log" file on the MID </span><span class="tx">Server. Using a tool like "Notepad++" you can refresh the file without having to </span><span class="tx">reopen it each time. </span><span class="tx"> </span><span class="tx">Once it's all working make sure you comment out or remove the output of username </span><span class="tx">and password from the code. </span><span class="tx"> </span></span><br/><span style="font-size: 12pt;"><span class="tx"></span></span></p><p class="tb f295" style="font-size: 12pt;"></p><p class="tb f295" style="font-size: 12pt;"><span style="font-size: 12pt;"><span class="tx"><img   alt="decs07.png" class="image-7 jive-image" height="235" src="d3ab0902db54130468c1fb651f961913.iix" style="width: 1077px; height: 234.508px;" width="1077"/>   </span></span></p><p><span style="font-size: 12pt;"><span class="tx"> </span></span><br/><span style="font-size: 12pt;"><span class="tx">I hope this article has given you a good understanding on how to implement an </span><span class="tx">external credential store with ServiceNow. The CredentialResolver allows you to connect to various repositories whether it's a file, command line executable, a </span><span class="tx">database or API integration. </span></span></p><p></p><p></p><p><span style="font-size: 12pt;">Co-author <a title="angelonappi" __default_attr="61440" __jive_macro_name="user" _jive_internal="true" class="jive_macro jive_macro_user" data-orig-content="angelonappi" data-renderedposition="6775.58349609375_85.28334045410156_107_19" href="/community?id=community_user_profile&user=e6629a69dbd81fc09c9ffb651f9619c0">angelonappi</a></span></p>