---
title: "ServiceNow Orchestration and Powershell  Setup Organizational Unit OU and User Accounts"
date: 2016-04-30T20:49:05.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=f90eaa2ddbd0dbc01dcaf3231f96199c"
---
<p style="margin-bottom: .0001pt; background: white;"><span style="font-family: 'Arial','sans-serif'; color: #666666;">In continuation to previous blog post </span><a title="" _jive_internal="true" href="/blogs/deepakingale/2016/04/23/servicenow-orchestration-and-powershell-setup-your-virtual-ad-server">ServiceNow Orchestration and Powershell :   Setup your virtual AD server</a><span style="font-family: 'Arial','sans-serif'; color: #666666;"><a title="ServiceNow Orchestration and Powershell :Set-up and test network communication" __default_attr="5395" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="ServiceNow Orchestration and Powershell :Set-up and test network communication" data-renderedposition="10_8_1141_37" href="/community?id=community_blog&sys_id=c31d62e5dbd0dbc01dcaf3231f9619e2">ServiceNow Orchestration and Powershell :Set-up and test network communication</a> in a series of Orchestration and Powershell, we are now going create small organizational structure for our Organization or domain.</span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-family: 'Arial','sans-serif'; color: #666666;">1) Some OU (Organizational Units) in our AD Server (Locations for our organization)</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-family: 'Arial','sans-serif'; color: #666666;">2) Some Users in these OUs. (Employees, Contractors etc.)</span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-family: 'Arial','sans-serif'; color: #666666;">Open the workflow we have setup in previous post.</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-family: 'Arial','sans-serif'; color: #666666;">Type below command   as input to workflow</span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-family: 'Arial','sans-serif'; color: #666666;">New-ADOrganizationalUnit -Name 'India'   -Path "DC=YourDomainControllerName,DC=COM" -Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif; line-height: 1.5;">-credential $cred</span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="color: #666666; font-family: Arial, sans-serif; line-height: 1.5;"><img   class="image-1 jive-image" src="2a55690edb50d7049c9ffb651f96199d.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p style="margin-bottom: .0001pt; background: white;">Once done, we will create some cities under OU="India".</p><p style="margin-bottom: .0001pt; background: white;">Run workflow with below commands to create additional OUs in your domain controller</p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: 0.0001pt; background: white;"><span style="font-family: Arial, sans-serif; color: #666666;">New-ADOrganizationalUnit -Name 'Banglore'   -Path "OU=India, DC=YourDomainControllerName,DC=COM" -Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></p><p style="margin-bottom: 0.0001pt; background: white;"><span style="font-family: Arial, sans-serif; color: #666666;">New-ADOrganizationalUnit -Name 'Pune'   -Path "OU=India, DC=YourDomainControllerName,DC=COM" -Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></p><p style="margin-bottom: 0.0001pt; background: white;"><span style="font-family: Arial, sans-serif; color: #666666;">New-ADOrganizationalUnit -Name 'Hydrabad'   -Path "OU=India, DC=YourDomainControllerName,DC=COM" -Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></p><p style="margin-bottom: 0.0001pt; background: white;"><span style="font-family: Arial, sans-serif; color: #666666;">New-ADOrganizationalUnit -Name 'US'   -Path "DC=YourDomainControllerName,DC=COM" -Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></p><p style="margin-bottom: 0.0001pt; background: white;"><span style="font-family: Arial, sans-serif; color: #666666;">New-ADOrganizationalUnit -Name 'Belgium'   -Path "DC=YourDomainControllerName,DC=COM" -Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></p><p style="margin-bottom: 0.0001pt; background: white;"><span style="font-family: Arial, sans-serif; color: #666666;">New-ADOrganizationalUnit -Name 'France'   -Path "DC=YourDomainControllerName,DC=COM" -Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></p><p style="margin-bottom: 0.0001pt; background: white;"><span style="font-family: Arial, sans-serif; color: #666666;">New-ADOrganizationalUnit -Name 'New York'   -Path "OU=US, DC=YourDomainControllerName,DC=COM" -Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></p><p><span style="font-family: Arial, sans-serif; color: #666666;">New-ADOrganizationalUnit -Name 'Brussels'   -Path "OU=Belgium, DC=YourDomainControllerName,DC=COM" -Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></p><p><span style="color: #666666; font-family: Arial, sans-serif;"><span style="font-family: Arial, sans-serif; color: #666666;">New-ADOrganizationalUnit -Name 'Paris'   -Path "OU=France, DC=YourDomainControllerName,DC=COM" -Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></span></p><p></p><p><span style="color: #666666; font-family: Arial, sans-serif;">Now go to our Active Directory server and open "Active Directory Users and Computer" console.</span></p><p><span style="color: #666666; font-family: Arial, sans-serif;">You will notice OUs got created based on commands we run from our workflow</span></p><p></p><p><span style="color: #666666; font-family: Arial, sans-serif;"><img   class="image-2 jive-image" src="fc42c986dbdc9344e9737a9e0f9619b1.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="color: #666666; font-family: Arial, sans-serif;">Now lets create some sample users under these OUs, Run these commands using ServiceNow workflow we have build.</span></p><p></p><p><span style="color: #666666; font-family: Arial, sans-serif;">New-ADUser -Name "Sachin" -path "OU=Banglore,OU=India,DC=<span style="color: #666666; font-family: Arial, sans-serif;">YourDomainControllerName</span>,DC=com" <span style="font-family: Arial, sans-serif; color: #666666;">-Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></span></p><p><span style="color: #666666; font-family: Arial, sans-serif;"><span style="color: #666666; font-family: Arial, sans-serif;">New-ADUser -Name "Rahul" -path "OU=Banglore,OU=India,DC=</span><span style="color: #666666; font-family: Arial, sans-serif;">YourDomainControllerName</span><span style="color: #666666; font-family: Arial, sans-serif;">,DC=com" </span><span style="font-family: Arial, sans-serif; color: #666666;">-Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></span></p><p><span style="color: #666666; font-family: Arial, sans-serif;"><span style="color: #666666; font-family: Arial, sans-serif;">New-ADUser -Name "Robin" -path "OU=Hydrabad,OU=India,DC=</span><span style="color: #666666; font-family: Arial, sans-serif;">YourDomainControllerName</span><span style="color: #666666; font-family: Arial, sans-serif;">,DC=com" </span><span style="font-family: Arial, sans-serif; color: #666666;">-Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></span></p><p><span style="color: #666666; font-family: Arial, sans-serif;"><span style="color: #666666; font-family: Arial, sans-serif;">New-ADUser -Name "Frank" -path "OU=Paris,OU=France,DC=</span><span style="color: #666666; font-family: Arial, sans-serif;">YourDomainControllerName</span><span style="color: #666666; font-family: Arial, sans-serif;">,DC=com" </span><span style="font-family: Arial, sans-serif; color: #666666;">-Server ADServerIPAddress </span><span style="color: #666666; font-family: Arial, sans-serif;">-credential $cred</span></span></p><p></p><p><span style="color: #666666; font-family: Arial, sans-serif;"><img   class="image-3 jive-image" src="adb0e442dbd057041dcaf3231f9619cd.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p></p><p><span style="color: #666666; font-family: Arial, sans-serif;"><img   class="jive-image image-4" src="eae1808edb585fc03eb27a9e0f9619b3.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p>Once done, you should be able to see users got created under OUs we have specified.</p><p>So now we are ready with some OUs and Some users under it, you can add number of similar OUs and users and have your own organisational hierarchy</p><p></p><p><span style="color: #fa5223; font-family: arial, sans-serif; font-size: 24px;">Kindly do not forget to like or bookmark this article if it helps you.</span></p>