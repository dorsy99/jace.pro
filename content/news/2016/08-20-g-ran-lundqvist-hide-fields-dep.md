---
title: "Hide fields depending on logged in users department"
date: 2016-08-20T02:03:29.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=7f6ceea1dbd0dbc01dcaf3231f961905"
---
<p>Had another question on the community where they have a record producer which is linked to from more than one ESS page. And depending on values on the user, the record producer should show different fields.</p><p></p><p>To show how this can be done, I have decided that I want to see which department the current user has, and if it is the Finance department, I want to hide the impact field.</p><p></p><p>Do do this I need to do 2 things. I will put the code in a catalog client script that runs only on my record producer "Something Broken" and it needs to do a GlideAjax call to get the department since I can't get that info from the g_user API. Then depending on the result, I will use the g_form API to hide/show the field.</p><p></p><p><strong>         1. Create the Script include:</strong></p><p></p><p>Here comes the code for the script include, from the start it ain't much, but it does the job. Don't forget the check the "client callable" when you create it, otherwise the client script can't call for it.</p><p></p><p><img   class="image-1 jive-image" height="281" src="317e244edb18dfc068c1fb651f96195c.iix" style="width: 677px; height: 280.627px;" width="677"/></p><p></p><p>         <strong>2. Create the Catalog client script:</strong></p><p></p><p>Now, if the department of the logged in user is "Finance", we want to hide the Impact field. I want to make it a onLoad script, so it's hidden from the start.</p><p></p><p><img   class="image-2 jive-image" height="250" src="7e5f400edbd09fc068c1fb651f961901.iix" style="width: 650px; height: 249.516px;" width="650"/></p><p></p><p>That's all that is needed. Now the Impact field below will be hidden if the department is Finance =)</p><p></p><p><img   class="image-3 jive-image" height="395" src="bd42f731db9c1fc068c1fb651f9619b9.iix" style="width: 637px; height: 394.529px;" width="637"/></p>