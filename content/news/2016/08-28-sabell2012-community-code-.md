---
title: "Community Code Snippets Getting the Users View"
date: 2016-08-28T02:56:55.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=99bcaa25dbd0dbc01dcaf3231f9619a2"
---
<p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: bold; font-style: inherit; font-family: 'Times New Roman';">NOTE</span><span style="font-weight: inherit; font-style: inherit; font-family: Arial;">: </span><span style="font-weight: inherit; font-style: inherit; font-family: 'Times New Roman';">MY POSTINGS REFLECT MY OWN VIEWS AND DO NOT NECESSARILY REPRESENT THE VIEWS OF MY EMPLOYER, ACCENTURE.</span></p><p dir="ltr"></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-family: 'Times New Roman';"><span style="font-weight: inherit; font-style: inherit;">DIFFICULTY LEVEL:   </span><span style="font-weight: bold; font-style: inherit; color: #7f6000;">INTERMEDIATE</span></span></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-family: 'Times New Roman';">Assumes some knowledge and/or familiarity of scripting in ServiceNow and Windows.</span></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-family: Arial;">____________________________________________________________________________</span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">I wanted a way to retrieve the current user's view.   So, I did my usual digging:</span></p><p></p><ul><li><span dir="ltr">Looked for an example in: Script Includes, Business Rules, Client Scripts, etc.</span></li><li><span dir="ltr">Looked on the ServiceNow Community</span></li><li><span dir="ltr">Looked on the Web</span></li><li><span dir="ltr">Desperately asked someone at Accenture for help!</span></li></ul><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">Well maybe not the last one as this wasn't critical!   :-) </span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">Interestingly I found a couple of ways that ServiceNow's developers had adopted, and I found them in the Business Rules!</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">I thought I would pass these along; in case you were wondering what they were.</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">I found two.</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000; font-weight: bold;">Method 1:   GlideTransaction:</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">What info there is on this function (next to nothing): </span></p><p dir="ltr" style="padding-left: 30px;"><a title="GlideTransaction API reference" __default_attr="194198" __jive_macro_name="thread" class="jive_macro_thread jive_macro" data-orig-content="GlideTransaction API reference" data-renderedposition="548.984375_38_217_16" href="/community?id=community_question&sys_id=f17f3ea9db58dbc01dcaf3231f961999">GlideTransaction API reference</a></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">         var view = GlideTransaction.get().getRequestParameter("sysparm_view");</span></p><p><span><span><br/><br/></span></span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000; font-weight: bold;">Method 2: getGlideURI</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">What info there is on this function (almost nothing): </span></p><p dir="ltr" style="padding-left: 30px;"><a href="http://wiki.servicenow.com/index.php?title=Scoped_GlideURI_API_Reference" title="http://wiki.servicenow.com/index.php?title=Scoped_GlideURI_API_Reference">Scoped GlideURI API Reference - ServiceNow Wiki</a></p><p dir="ltr" style="padding-left: 30px;"><a title="" _jive_internal="true" href="/community?id=community_question&sys_id=bca50feddbd8dbc01dcaf3231f961935">What is "gs.action"?</a><a title="What is "gs.action"?" __default_attr="155845" __jive_macro_name="thread" class="jive_macro_thread jive_macro" data-orig-content="What is &quot;gs.action&quot;?" data-renderedposition="746.984375_38_145_16" href="/community?id=community_question&sys_id=bca50feddbd8dbc01dcaf3231f961935">What is "gs.action"?</a></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">         var view2 = gs.action.getGlideURI().getMap().get('sysparm_view');</span></p><p><span><span><br/><br/></span></span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">Both of these will return a null if it is the Default view, otherwise the string name of the view.</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">So I created a Business Rule to show the actual operation.</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000; font-weight: bold;">Name</span><span style="font-size: 16px; font-family: Arial; color: #000000;">: View Check</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000; font-weight: bold;">Table</span><span style="font-size: 16px; font-family: Arial; color: #000000;">: Incident</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000; font-weight: bold;">Active</span><span style="font-size: 16px; font-family: Arial; color: #000000;">: Checked</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000; font-weight: bold;">Advanced</span><span style="font-size: 16px; font-family: Arial; color: #000000;">: Checked</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000; font-weight: bold;">When</span><span style="font-size: 16px; font-family: Arial; color: #000000;">: Before</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000; font-weight: bold;">Update</span><span style="font-size: 16px; font-family: Arial; color: #000000;">: Checked</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000; font-weight: bold;">Script</span><span style="font-size: 16px; font-family: Arial; color: #000000;">:</span></p><p dir="ltr"></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14723337470118809 jive_text_macro" data-renderedposition="1131.984375_8_1192_352" jivemacro_uid="_14723337470118809"><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">(function executeRule(current, previous /*null when async*/) {</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">try {</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">var view = GlideTransaction.get().getRequestParameter("sysparm_view");</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">view = global.JSUtil.nil(view) ? 'default' : view;</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">gs.log('---&gt; view: ' + view);</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">}</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">catch (err) {</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">gs.log('---&gt; ERROR: ' + err);</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">}</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">try {</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">var view2 = gs.action.getGlideURI().getMap().get('sysparm_view');</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">view2 = global.JSUtil.nil(view2) ? 'default' : view2;</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">gs.log('---&gt; view2: ' + view2);</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">}</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">catch (err) {</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">gs.log('---&gt; ERROR: ' + err);</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span><span style="font-size: 16px; font-family: Arial; color: #980000;">}</span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">   </span></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #980000;">})(current, previous);</span></p></pre><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">To test I simply went into an open Incident, and updated the status.</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">My initial results in the System Log were:</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;"><img class="jive-image" height="59" src="https://lh6.googleusercontent.com/drIneAFz1sxsZpq56u_UMhR1MGBHW2ZAWNpPMYaOQG_QdXtjA0wPO3G9vmhzRf47GYgNBxi1-NouKs9UU_LBNq9UumgzSRRLdmVR4PwwKcEGqWMN3DoMhXdGB_MztYUBxYLjrPVU" style="border-style: none;" width="624"/></span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">So the results were both null.</span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">I then changed my Incident form view to Self Service:</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;"><img class="jive-image" height="414" src="https://lh3.googleusercontent.com/PpQF_EHGqKCfcxy25nPL32raISG5X0Ex1Zix8o7GpzmgN1plWO24cqlc04TBlvf-inwpcG1GTzBC45ADQ6DuYl-PQt4HRN_PQKz8ZyB_c0ZP-HbetKILCT5xGVZqrk6V4EfIYUk_" style="border-style: none;" width="556"/></span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">And got the following results in the system log:</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;"><img class="jive-image" height="59" src="https://lh3.googleusercontent.com/AhLb9DhmxhUloixMtVY4dpW72l2f4qTk4Rc4gygGUKTPye_1hL0kbkSJdNdQ8BlLYWA5L_NxaZ4CjD1KVvYab9DiyY9FFtI881leN1-ZUIKgTkYBJnrOQW4_PKFgiC6l1Pq4c5FQ" style="border-style: none;" width="624"/></span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">There you go!   Two different methods for retrieving the User's current view.   I would be interested if you find any others.</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">For extra interesting reading check this out:</span></p><p dir="ltr"></p><p dir="ltr" style="padding-left: 30px;"><span style="font-size: 16px; font-family: Arial; color: #000000;"><a href="http://wiki.servicenow.com/?title=Navigating_by_URL#gsc.tab=0" title="http://wiki.servicenow.com/?title=Navigating_by_URL#gsc.tab=0">Navigating by URL - ServiceNow Wiki</a> </span></p><p></p><p dir="ltr"><span style="color: #000000; font-size: 16px; font-family: Arial;">Steven Bell</span></p><p></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #000000;"><a _jive_internal="true" href="https://lh5.googleusercontent.com/ccSYxtqAL5Jq98tsLvWkS_EAVxYb6gb5DktlipZNxKTVE0Mt-1yEc-9xrY3S2Cn1pW9ofub4ZorOzWHFFyldvL3HByF086OzmBe2b_Ivz7J1g0xHee9uRdZ6s7KXxwa391b-5WyD" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank"><img alt="accenture logo small.jpg" class="jive-image" height="65" src="https://lh5.googleusercontent.com/ccSYxtqAL5Jq98tsLvWkS_EAVxYb6gb5DktlipZNxKTVE0Mt-1yEc-9xrY3S2Cn1pW9ofub4ZorOzWHFFyldvL3HByF086OzmBe2b_Ivz7J1g0xHee9uRdZ6s7KXxwa391b-5WyD" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="243"/></a></span></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #000000;"><a _jive_internal="true" href="https://lh6.googleusercontent.com/mfsYAjnjh7rZfga73R_1Hf9h2Zyatut1ytsyapPuMIWTaiBxoeuTc7OjmRbzCGEoUaSEjc40iu6SN6px0s1TRNILEIn3vOgKxdzmLeUiXK3gQjqqA52M7AVC7PY9dSTPweGBS7l1" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank"><img class="jive-image" height="48" src="https://lh6.googleusercontent.com/mfsYAjnjh7rZfga73R_1Hf9h2Zyatut1ytsyapPuMIWTaiBxoeuTc7OjmRbzCGEoUaSEjc40iu6SN6px0s1TRNILEIn3vOgKxdzmLeUiXK3gQjqqA52M7AVC7PY9dSTPweGBS7l1" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="135"/></a></span><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #000000;"><a _jive_internal="true" href="https://lh4.googleusercontent.com/77BXekLZbDSqvzZo5CkzTH3KYA3hsuNNfKHutJLbpFCvWeaUJaSy-jxWVlPBVZe0prQT7TDnpmTAzfiaYRupXXsge2wqbOO33TUndK-6qv2k7bVABpCIOmk5gJC92VY2xDf10lEB" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank"><img class="jive-image" height="48" src="https://lh4.googleusercontent.com/77BXekLZbDSqvzZo5CkzTH3KYA3hsuNNfKHutJLbpFCvWeaUJaSy-jxWVlPBVZe0prQT7TDnpmTAzfiaYRupXXsge2wqbOO33TUndK-6qv2k7bVABpCIOmk5gJC92VY2xDf10lEB" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="135"/></a></span><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #000000;"><a _jive_internal="true" href="https://lh6.googleusercontent.com/UfnT9mWyYW3SkRiVIihCHyK1SgjMb6g0Eu-Ut3nqyK7vtb1OBuPO8npwpgoikqSuEeufzgjWPEm4raN7XLuCirIuoy71HjOEvxh0rfGAoKcvnKyYog1nQe2bEXEPwaGpqBoZBQ1h" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank"><img class="jive-image" height="54" src="https://lh6.googleusercontent.com/UfnT9mWyYW3SkRiVIihCHyK1SgjMb6g0Eu-Ut3nqyK7vtb1OBuPO8npwpgoikqSuEeufzgjWPEm4raN7XLuCirIuoy71HjOEvxh0rfGAoKcvnKyYog1nQe2bEXEPwaGpqBoZBQ1h" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="167"/></a></span></p><p></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: bold; font-style: inherit; font-family: Arial;">For a list of all of my articles:   </span><a _jive_internal="true" data-containerid="1007" data-containertype="37" data-objectid="4821" data-objecttype="38" href="/community?id=community_blog&sys_id=289d6a69dbd0dbc01dcaf3231f9619f0" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><span style="font-weight: bold; font-style: inherit; font-size: 15.3333px; font-family: Arial;">Community Code Snippets: Articles List to Date</span></a></p><p></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #eb7a3d;">Please Share, Like, Bookmark, Mark Helpful, or Comment this blog if you've found it helpful or insightful.</span></p><p></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #eb7a3d;">Also, if you are not already, I would like to encourage you to become a member of our blog!</span></p>