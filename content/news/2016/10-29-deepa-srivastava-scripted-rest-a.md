---
title: "Scripted REST APIs  Part "
date: 2016-10-28T16:22:55.000Z
authors: ["Deepa Srivastava"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=209ceae1dbd0dbc01dcaf3231f961933"
---
<p>In my <a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=80bda6a9dbd0dbc01dcaf3231f9619af">last blog</a> I provided the Example of POST method to update the values, I hope it provided the basic idea of Scripted REST APIs. In this I am sharing an example of GET method i.e to retrieve data from Service Now tables using Scripted REST APIs.</p><p></p><p>Here we will script to retrieve the assignment group field value by passing the change number in URL. Initial steps to create Scripted REST APIs and Resource would be same as shown in the last Blog.</p><p></p><ul><li>For this I have added the <strong>change_number</strong> as parameter in the '<strong>Relative path'</strong> field in the below format.       <br/>   <img   class="jive-image image-10" src="62c8f7bddb101304b322f4621f96190f.iix" style="max-height: 900px; max-width: 1200px;"/></li><li>So when change number is passed in the URL, it can be obtained in the script using <strong>pathParams</strong> of request object. <strong>setContentType </strong>method is used to set the content type of the <strong>response</strong> being sent to the client.</li></ul><p><img   class="image-2 jive-image" src="4a577002dbd89344e9737a9e0f9619b2.iix" style="max-height: 900px; max-width: 1200px;"/></p><p></p><ul><li>To test this, create a new REST message, provide the name and the Endpoint.</li></ul><p><img   class="image-3 jive-image" src="d145d446db589704ed6af3231f96199c.iix" style="max-height: 900px; max-width: 1200px;"/></p><p></p><ul><li>Then open the GET method from the related list and configure as below.</li></ul><p><img   class="jive-image image-4" src="e6f8b7f5db9cdf04e9737a9e0f961949.iix" style="max-height: 900px; max-width: 1200px;"/></p><p></p><ul><li>Test the connection. You can see the response in the 'Response' field.</li></ul><p><img   class="image-5 jive-image" src="8cd5ddcadb50d7041dcaf3231f96195e.iix" style="max-height: 900px; max-width: 1200px;"/></p><ul><li>Hit the URL , you can see get the response in JSON format.</li></ul><p><img   class="image-6 jive-image" src="ac96b886db989304b322f4621f961900.iix" style="max-height: 900px; max-width: 1200px;"/></p><ul><li>For getting the response in XML, we need to convert the object to XML using   <strong>XMLhelper</strong> class (Check script include XMLhelper —it   converts XML to and from JavaScript objects) and then write the string data to the response stream using <strong>RESTAPIResponseStream</strong> object. Before using RESTAPIResponseStream object we need to set the content type of the response to <strong>'application/xml' .</strong><br/> <img   class="image-7 jive-image" src="8cf2d0cadbd05304b322f4621f961923.iix" style="max-height: 900px; max-width: 1200px;"/></li><li>Now test the code.</li></ul><p><img   class="jive-image image-8" src="b7813f71db9c93041dcaf3231f961915.iix" style="max-height: 900px; max-width: 1200px;"/></p><p></p><ul><li>Open the URL.</li></ul><p><br/> <img   class="image-9 jive-image" src="310b14c2db5c9704ed6af3231f961919.iix" style="max-height: 900px; max-width: 1200px;"/></p><p></p><p>Also, we can get an output by just using <strong>return body, </strong>try that by replacing the code after if condition.</p><p></p><p>Attached is the code used in this blog.</p><p></p><p><strong><span style="font-size: 12pt;">If you find the blog useful, please like/bookmark/share (on the top right corner) .</span> <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="2752.75_621.59375_16_16" src="/8.0.4.21bdc7e/images/emoticons/happy.png"></span></strong></p><p></p><p><strong>Reference Links:</strong></p><p><a title="ocs.servicenow.com/bundle/helsinki-servicenow-platform/page/app-store/dev_portal/API_reference/ScriptableServiceResponseStreamWriter/reference/r_SSRSW-writeString_S.html" href="https://docs.servicenow.com/bundle/helsinki-servicenow-platform/page/app-store/dev_portal/API_reference/ScriptableServiceResponseStreamWriter/reference/r_SSRSW-writeString_S.html">https://docs.servicenow.com/bundle/helsinki-servicenow-platform/page/app-store/dev_portal/API_reference/ScriptableServiceResponseStreamWriter/reference/r_SSRSW-writeString_S.html</a></p><p><a title="ocs.servicenow.com/bundle/helsinki-servicenow-platform/page/app-store/dev_portal/API_reference/ScriptableServiceResponseBuilder/reference/r_SSRB-setContentType_String.html" href="https://docs.servicenow.com/bundle/helsinki-servicenow-platform/page/app-store/dev_portal/API_reference/ScriptableServiceResponseBuilder/reference/r_SSRB-setContentType_String.html">https://docs.servicenow.com/bundle/helsinki-servicenow-platform/page/app-store/dev_portal/API_reference/ScriptableServiceResponseBuilder/reference/r_SSRB-setContentType_String.html</a></p><p></p><p><strong>Note</strong>: This requirement can be done using simple REST API and other methods as well. I have just presented another way of doing it using Scripted REST APIs.</p><p></p><p><a title="Developer Community" __default_attr="2009" __jive_macro_name="community" class="jive_macro_community jive_macro" data-orig-content="Developer Community" data-renderedposition="2945.75_8_159_16" href="undefined2009">Developer Community</a></p>