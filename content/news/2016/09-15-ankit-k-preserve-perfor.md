---
title: "Preserve performance by halting excessive logging in syslog tables"
date: 2016-09-15T00:58:54.000Z
authors: ["Ankit K"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=3b8d2a69dbd0dbc01dcaf3231f9619e4"
---
<p>The primary system log transaction table in a ServiceNow instance is the <a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/time/reference/r_TransactionLogs.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/time/reference/r_TransactionLogs.html">syslog transaction table</a>. This table logs information in regard to imports, workflows, configurations, errors and warnings as well as upgrades and other configuration changes within the instance. Hence, they have a tendency to grow and cause performance issues. There are some best practice scenarios you can follow which will help you avoid exponential growth of syslog tables.</p><p></p><p>I'll show you how to:</p><ul><li>Organize transaction tables</li><li>Identify when there is excessive logging occurring</li><li>Find the cause</li><li>Prevent further performance issues from excessive logging</li></ul><p></p><h3>Organization of the transaction tables.</h3><p>Both the syslog and the syslog_transaction tables (client transactions logs)   are under <a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/platform_performance/concept/c_TableRotation.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/platform_performance/concept/c_TableRotation.html">table rotation</a>. What that means is that they have a base database table, which has been sharded. Each table shard is defined by the number of days it will keep data and once that constraint has been met the inserts will move on to the next shard.</p><p></p><h4>Table rotation syslog example</h4><p><span style="color: #eb7a3d;"><span style="color: #303030;">Here is a snapshot of how the table structure is of a table under table rotation. The syslog(Base table) has 8 rotations. Hence syslog0000 to syslog0007 table shards. The data is rotated between the shards and is overwritten every week. Only a month and a half worth of transaction data can exist in these shards. </span><br/></span></p><p><img   alt="table rotation example.png" class="image-3 jive-image" src="f5477c8edb9097041dcaf3231f96195b.iix" style="width: 620px; height: 349px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p>The simple advantage of having a table under table rotation is that there is no single large table which keeps growing and data gets rotated into different sharded tables based on duration. This is an auto cleanup functionality. Once the series is over and the first shard is overwritten again, then the cycle continues. In this scenario we can never have more than a week's worth of data in a shard. <span style="font-size: 10pt;">By default, ServiceNow has taken into consideration many factors and have come up with a standard configuration which is what is seen deployed on a ServiceNow instance. Care should be taken not to modify these values.</span></p><p></p><h2><strong>How to find the source of excessive logging.</strong></h2><p><img   alt="excessive logging.png" class="image-4 jive-image" src="bf899c82db185304b322f4621f9619ef.iix" style="width: 620px; height: 294px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><ul><li>Navigate to <strong>System Logs &gt; All </strong></li><li>Select a source to group by.</li></ul><p></p><p>You can modify the filters as per your preference.(Keep the row count to 20) and filter smaller results sets using sys_created_on for today and increase the time accordingly.</p><p>In this example, the scripts were causing excessive loggings. Drill down further and pull up the system logs to see the log statements and find the offending script include/job from where the gs.log() statements are coming from.</p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="1399.375_8_1177_43"><p>Getting the above result can take time if the shard is big(excessive of 1m records)</p></pre><p></p><h2>What causes excessive logging and how to prevent it</h2><p><span style="font-size: 10pt;">The two major issues that can happen due to excessive loggings are tables growing excessively large and CPU load increasing for the application servers, thereby causing overall performance issues.</span></p><p></p><ul style="list-style-type: disc;"><li><span style="font-size: 10pt;">Excessive use of gs.log() statements, especially in scripts executing scheduled jobs etc with recursions. </span><span style="font-size: 10pt;">Try to minimize these and only use it where necessary.</span></li><li><span style="font-size: 10pt;">Scripts with errors. Check the error logs for details and try to rectify them to reduce the number of errors in them. </span></li><li><span style="font-size: 10pt;">Using debug properties for troubleshooting issues. Although this may not put inserts into the syslog table but they can cause a high CPU load due to being called with every transaction. One such property is the <span style="font-size: 12pt;"><strong>"</strong><span style="font-family: 'Helvetica Neue'; color: #485563; background: white;"><strong>glide.rest.debug"</strong> </span></span>property. Once troubleshooting has been completed set them to false.</span></li></ul><p></p><p><span style="font-size: 10pt; color: #303030;">Following these steps can ensure better performance and response time for the instance. The more we adhere to this the less maintenance changes are performed by customer support on these instances.   Like <a __default_attr="10952" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="sergiu.panaite" data-renderedposition="1711.5625_104.046875_103_16" href="/community?id=community_user_profile&user=a4b2d6addbd81fc09c9ffb651f96192e" modifiedtitle="true" title="sergiu.panaite">sergiu.panaite</a> said in <a __default_attr="4811" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Performance considerations when using GlideRecord," data-renderedposition="1711.5625_252.78125_340_16" href="/community?id=community_blog&sys_id=620deaa5dbd0dbc01dcaf3231f961981" modifiedtitle="true" title="Performance considerations when using GlideRecord,">Performance considerations when using GlideRecord,</a> "Don't overkill your script with logging statements!" Also, if your <a title="i.service-now.com/kb_view.do?sysparm_article=KB0535704" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0535704">emails are opening very slowly</a> from the list view of the sys_email table, you could try working around it by removing the email log embedded on the sys_email form.</span></p>