---
title: "MiniLab Workflow Control Via Variable Input"
date: 2016-02-06T21:13:40.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=935d2a29dbd0dbc01dcaf3231f96190b"
---
<p style="margin-bottom: .0001pt;"><span style="font-size: 12pt;"> <span style="font-family: Arial, sans-serif;">In this lab I would like to give an example of the Workflow Control via Variable Input pattern I mentioned in my previous article:</span></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: Arial, sans-serif; font-size: 12pt;"><a _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2016/02/03/pragmatic-patterns-workflows-using-data-to-adjust-the-flow"><span style="color: #266fc8; background: #f8fbfe;">Pragmatic Patterns: Workflows - Using Data to Adjust the Flow</span></a></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: Arial, sans-serif; font-size: 12pt;">We will be going through the steps to build a very simple Service Catalog driven workflow that will be configured by choices made on the Catalog Item form.   We will be looking at how removing one of the choices deactivates part of the workflow.</span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;"><span style="font-family: Arial, sans-serif;">We will be using this lab as a foundation to build the other two examples in later articles.   This lab will be longer than most as I am taking the time to show you how to do these things from scratch (lots of pictures! <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="192.5_330.91668701171875_16_16" src="/8.0.1.35b65d4/images/emoticons/happy.png"></span></span><span style="font-family: Arial, sans-serif;"> ).</span></span></p><p style="margin-bottom: .0001pt;"></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 16.0pt; font-family: 'Arial','sans-serif';"><strong>Prerequisites:</strong></span></p><p></p><ul style="list-style-type: disc;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Some familiarity with the workflow editor.   I will be using the Geneva version of ServiceNow for my examples.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Some familiarity with creating Service Catalog items, variables, and choices, but I will be listing the steps anyway.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Also, if you have not done so, you might want to run through my other lab on how to do advanced work with the If Activity; as we will be using those techniques in this, and the next two articles:</span></li></ul><p></p><p style="margin-bottom: .0001pt; text-indent: .5in;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><a _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/18/mini-lab-workflows--playing-with-the-if-activity"><span style="color: #266fc8; background: white;">Mini-Lab: Workflows - Playing With the If Activity</span></a></span></p><p></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 16.0pt; font-family: 'Arial','sans-serif';"><strong>Requirements</strong></span></p><p></p><ol style="list-style-type: decimal;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Create a Service Catalog Item / Workflow combination where choices added or removed from the form will affect what occurs in the workflow.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Place this Service catalog Item under the Can We Help You? Service Catalog Category.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">The name of the Service Catalog Item will be: Workflow Control via Input</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">The choices for the form can be in the Choice or custom choice table.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">The Service Catalog item that contains a single variable: State.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">State can have three choices initially: New, Active, Closed (0, 1, 2)</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">The workflow will print a message in the log that indicates a particular state was chosen.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Only the Order Now button will appear on the Service Catalog Item.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Removal of a choice will deactivate that portion of the workflow.</span></li></ol><p></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 16.0pt; font-family: 'Arial','sans-serif';"><strong>Design</strong></span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">1. Create a Service Catalog Item (Req #1)</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Name: Workflow Control via Input (Req #3)</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Category: How Can We Help You? (Req #2)</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Deactivate every shopping cart feature except Order Now. (Req #8)</span></li></ol></ol><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">2. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Catalog Item Variables: (Req #4,5,6, 9 - implied)</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Name: State</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Choice List</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Choices: New, Active, Closed</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Values: 0, 1, 2</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Choices will be entered into the Choices table</span></li></ol></ol><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">3. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Workflow design will be as follows: (Req #1, 7)</span></p><p></p><p style="margin-bottom: .0001pt;"><img   alt="23.Design.png" class="image-1 jive-image" src="937d81c6db9413043eb27a9e0f9619f8.iix" style="width: 620px; height: 279px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 16.0pt; font-family: 'Arial','sans-serif';"><strong>Development</strong></span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">So we have our Requirements, and we have our Design, let's get to work!</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">We will start at the bottom and work up.   The workflow will get built first, and then the Service Catalog Item.   We won't have all of the pieces yet, but we can prepare for it.</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 14.0pt; font-family: 'Arial','sans-serif';"><strong>The Workflow </strong><span style="font-family: Arial, sans-serif; font-size: 18.6667px;">(Req #1)</span></span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">1. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Navigate to Workflow -&gt; Workflow Editor.   A new tab will open in your browser and the Workflow Editor will be displayed.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">2. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click the plus "+" symbol in the upper right of the editor to create a new workflow.   The New Workflow form will be displayed.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">3. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Fill out the form with the following:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Workflow Control Via Variable Input</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Table</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Global</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Description</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Workflow control via variable input</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click the Submit button to save your work.</span></li></ol></ol><p style="margin-bottom: .0001pt;"><img   alt="1.New Workflow.png" class="image-2 jive-image" src="b41b608adb945f048c8ef4621f9619b6.iix" style="line-height: 23.3333px; width: 620px; height: 291px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">4. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">From the Core tab on the editor navigate to Conditions and drag an If Activity onto the form.   The Activity Properties form will appear.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">5. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Fill out the form with the following:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Check If New</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Advanced</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Checked</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Script</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">:</span></li></ol></ol><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="_jivemacro_uid_14546884139659067 jive_macro_code jive_text_macro" data-renderedposition="2521.60009765625_8_1177_144" jivemacro_uid="_14546884139659067"><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">answer = ifScript();</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">function ifScript() {</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">                       if (workflow.variables.state == 0) {</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">                                               return 'yes';</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">                       }</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">                       return 'no';</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">}</span></p><p style="margin-bottom: .0001pt;"></p></pre><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">             d. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click the Submit button to save your work.</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>NOTE</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Here we are making an assumption: The Service Catalog variable being passed in will be named "state".   When we build our Service Catalog Item variable we will need to make the name is consistent.</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">For more information on using Service Catalog variables in a workflow see Section 3 in the following wiki article: <a title="ki.servicenow.com/index.php?title=Using_Variables_in_a_Workflow" href="http://wiki.servicenow.com/index.php?title=Using_Variables_in_a_Workflow">Using Variables in a Workflow</a></span></p><p style="margin-bottom: .0001pt;"></p><p><img   alt="3.If script 1.png" class="image-3 jive-image" src="79df884edb501f048c8ef4621f96194e.iix" style="width: 620px; height: 321px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">6. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">From the Core tab on the editor navigate to Conditions and drag another If Activity onto the form.   The Activity Properties form will appear.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">7. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Fill out the form with the following:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Check If Active</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Advanced</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Checked</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Script</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">:</span></li></ol></ol><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14546884392565632 jive_text_macro" data-renderedposition="3363.800048828125_8_1177_144" jivemacro_uid="_14546884392565632"><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">answer = ifScript();</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">function ifScript() {</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">                       if (workflow.variables.state == 1) {</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">                                               return 'yes';</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">                       }</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">                       return 'no';</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">}</span></p><p></p></pre><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">             d. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click the Submit button to save your work.</span></p><p></p><p><img   alt="4.If script 2.png" class="image-4 jive-image" src="1b1f6bb1db9c1704ed6af3231f961940.iix" style="width: 620px; height: 362px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">8. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">From the Core tab on the editor navigate to Utilities and drag a Run Script Activity onto the form.   The Activity Properties form will appear.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">9. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Fill out the form with the following (Req #7):</span></p><p style="padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">a. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Log New</span></p><p style="padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">b. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Script</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="_jivemacro_uid_14546884573615750 jive_macro_code jive_text_macro" data-renderedposition="4118.7998046875_8_1177_64" jivemacro_uid="_14546884573615750"><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">var identifier = context.name + '.' + activity.name;</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">gs.info('---&gt; [{0}] New triggered!', identifier);</span></p><p></p></pre><p style="margin-bottom: .0001pt;"></p><p style="padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">c. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click the Submit button to save your work.</span></p><p></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>NOTE</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">:   The context.name will automatically fill in the workflow name, and the activity.name will automatically fill in the, uh, activity name.   BTW, this is really useful for labeling your log entries!   Remember that a best practice is:   NO MYSTERY LOG ENTRIES in the System Log!   This has been a real problem at a lot of my clients that use Workflows.</span></p><p></p><p><img   alt="5.Log new.png" class="image-5 jive-image" src="33edc1cedbd41b04ed6af3231f961912.iix" style="width: 620px; height: 364px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">10. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">From the Core tab on the editor navigate to Utilities and drag a Run Script Activity onto the form.   The Activity Properties form will appear.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">11. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Fill out the form with the following<span style="font-family: Arial, sans-serif; font-size: 16px;"> (Req #7)</span>:</span></p><p style="padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">a. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Log Active</span></p><p style="padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">b. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Script</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14546884683739953" data-renderedposition="4888.7998046875_8_1177_64" jivemacro_uid="_14546884683739953"><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">var identifier = context.name + '.' + activity.name;</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">gs.info('---&gt; [{0}] Active triggered!', identifier);</span></p><p></p></pre><p></p><p style="padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">c. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click the Submit button to save your work.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">12. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">From the Core tab on the editor navigate to Utilities and drag a Run Script Activity onto the form.   The Activity Properties form will appear.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">13. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Fill out the form with the following<span style="font-family: Arial, sans-serif; font-size: 16px;"> (Req #7)</span>:</span></p><p style="padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">a. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Log Failure</span></p><p style="padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">b. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Script</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14546884893626531 jive_text_macro" data-renderedposition="5156.7998046875_8_1177_64" jivemacro_uid="_14546884893626531"><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">var identifier = context.name + '.' + activity.name;</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">gs.info('---&gt; [{0}] Nothing triggered!', identifier);</span></p><p></p></pre><p style="margin-bottom: .0001pt;"></p><p style="padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">c. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click the Submit button to save your work.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">14. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Wire up your workflow to look like the following diagram:</span></p><p></p><p><img   alt="2.Workflow.png" class="image-6 jive-image" src="1c7bac42db149304b322f4621f961922.iix" style="width: 620px; height: 425px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">At this point you may want to Publish your workflow to save it down.   However, that is not really necessary as you will be the only one testing it.</span></p><p></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 14.0pt; font-family: 'Arial','sans-serif';"><strong>The Service Catalog Item </strong>(Req #1)</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Now we are ready to create the user interface (UI).</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">1. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Navigate to Service Catalog -&gt; Catalog Definitions -&gt; Maintain Items.   The Catalog Items list view will be displayed.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">2. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click the New button.   The New Catalog Item form will be displayed.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">3. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Fill out the form with the following:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Workflow Control Via Variable Input (Req #3)</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Active</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: checked</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Availability</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Desktop Only</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Catalogs</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">:   Service Catalog</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Category</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Can We Help You? (Req #2)</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Workflow</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">:   Workflow Control Via Variable Input</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Short Description</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Workflow Control Via Variable Input</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Use Cart Layout</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: not checked (Req #8)</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Omit price in cart</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: checked<span style="font-family: Arial, sans-serif; font-size: 16px;"> (Req #8)</span></span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>No quantity</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: checked<span style="font-family: Arial, sans-serif; font-size: 16px;"> (Req #8)</span></span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>No proceed checkout</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: checked<span style="font-family: Arial, sans-serif; font-size: 16px;"> (Req #8)</span></span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>No cart</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: checked<span style="font-family: Arial, sans-serif; font-size: 16px;"> (Req #8)</span></span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Right-click on the form header to bring up the context menu.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Choose Save to save your work and remain on the form.</span></li></ol></ol><p></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>NOTE</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Some of these values may not be visible on the form and you may need to modify the form to include them.</span></p><p></p><p><img   alt="8.Service Catalog Item.png" class="image-7 jive-image" src="9ae84806db981344e9737a9e0f961919.iix" style="width: 620px; height: 342px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">4. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Scroll to the bottom of the Item form.   You will see the tabs for the related lists.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">5. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Choose the Variables tab, and click the New button.   The New Variable Form will be displayed.</span></p><p></p><p><img   alt="9.Service Catalog Item Variables.png" class="image-8 jive-image" src="9e5c2371dbd81fc03eb27a9e0f96192f.iix" style="width: 620px; height: 198px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">6. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Fill out the form with the following (Req #5):</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Type</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Select Box</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click on the Question tab.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Question</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: State</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: state</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click on the Type Specifications tab.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Include None</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: checked</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Right-click at the top of the Variable form to display the context menu.</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Choose Save to save your work and remain on the form.</span></li></ol></ol><p></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>NOTE</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">:   The Name field is where we make sure our variable name is consistent with what we programmed into our workflow.</span></p><p></p><p><img   alt="10.Service Catalog Item Variable 1.png" class="image-9 jive-image" src="f8f65d82db58130468c1fb651f9619c6.iix" style="display: block; margin-left: auto; margin-right: auto; width: 620px; height: 302px;"/></p><p><img   alt="11.Service Catalog Item Variable 2.png" class="image-10 jive-image" src="a663f8cedb5c57049c9ffb651f96190a.iix" style="width: 620px; height: 239px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">7. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Scroll to the bottom of the Variable form.   You will see the Question Choices related list displayed.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">8. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click on the New button.   The New Question Choice form will be displayed.</span></p><p></p><p><img   alt="24.choices list view.png" class="image-11 jive-image" src="cbcf0c8edb105304b322f4621f9619a6.iix" style="width: 620px; height: 94px; display: block; margin-left: auto; margin-right: auto;"/></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">9. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"> Fill in the form with the following:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Text</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: New</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Value</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: 0</span></li></ol></ol><p><img   alt="12.Service Catalog Item Variable Question Choice.png" class="image-12 jive-image" src="13ace775db1c1704ed6af3231f96193d.iix" style="display: block; margin-left: auto; margin-right: auto; width: 620px; height: 274px;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">10. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Right-click on the Question Choice form header to bring up the context menu.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">11. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click on Save to save your work and remain on the form.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">12. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Change the form to the following:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Active</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Value</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: 1</span></li></ol></ol><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">13. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Right-Click on the Question Choices form header and choose Insert and Stay.   This will write down a new record with the new values, and keep you in the form.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">14. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Change the form to the following:</span></p><ol style="list-style-type: decimal;"><ol style="list-style-type: lower-alpha;"><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: Closed</span></li><li><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Value</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">: 2</span></li></ol></ol><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">15. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Right-Click on the Question Choices form header and choose Insert.   This will write down a third choice record, and will then return you to the Item form.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">16. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">The Question Choices list view should now look something like this (Req #4, 6):</span></p><p></p><p><img   alt="13.Service Catalog Item Variable 3_choices.png" class="image-13 jive-image" src="d363f44edb5cd704ed6af3231f9619d5.iix" style="width: 620px; height: 216px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 14.0pt; font-family: 'Arial','sans-serif';"><strong>Unit Test</strong></span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Now we are ready to do our testing.   First we will test it with the values we have entered. Then we will remove the Active choice from the State field and note that this effectively deactivates that part of the workflow (no choice — no way to run the code — simple).</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">1. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">At the top upper-right of the Item form click on the Try It button.   This will display our new Catalog Item form.</span></p><p></p><p><img   alt="14.try it.png" class="image-14 jive-image" src="6d1b248adb945f048c8ef4621f961952.iix" style="width: auto; height: auto; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">2. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click on the State field.   You will see our three new choices displayed.   Note that the shopping cart has been reduced to just the Order Now button.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">3. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Choose Active from the State field, and click the Order Now button (Req #5, 6).   After a moment the Order Status form will be displayed.   Note that the Order Now button is the only thing displayed in the Shopping Cart <span style="font-family: Arial, sans-serif; font-size: 16px;">(Req #8).</span></span></p><p></p><p><img   alt="15.Form - Run-Time.png" class="image-15 jive-image" src="37ac2375dbd81fc03eb27a9e0f961920.iix" style="width: 620px; height: 134px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">4. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click on the RITM number.   This will display the Requested Item Form.</span></p><p></p><p><img   alt="16.result.png" class="image-16 jive-image" src="1a001582db5897049c9ffb651f96192e.iix" style="line-height: 23.3333px; width: 620px; height: 201px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">5. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">From the Requested Item Form scroll down to related links.</span></p><p></p><p><img   alt="17.requested item 1.png" class="image-17 jive-image" src="dee03c4adbd85f048c8ef4621f96196b.iix" style="display: block; margin-left: auto; margin-right: auto; width: 620px; height: 338px;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">6. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click on the Show Workflow link.   This will display the current workflow.</span></p><p></p><p><img   alt="18.related links.png" class="image-18 jive-image" src="665654cadb189fc068c1fb651f961927.iix" style="width: auto; height: auto; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">7. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">The workflow should show that the Active path was executed.</span></p><p></p><p><img   alt="25.active workflow context.png" class="image-23 jive-image" src="b2d39806db949fc03eb27a9e0f9619b0.iix" style="width: 620px; height: 380px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">8. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Navigate to System Logs -&gt; System Log -&gt; All. The System Log list view will be displayed.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">9. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Search for all messages beginning with ---&gt;. Observe that there is an entry for Active (Req #7).</span></p><p></p><p style="margin-bottom: 0.0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>NOTE</strong>:   It is always a good idea to test all available cases.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';"><img   class="image-24 jive-image" src="0652bb79db58df04e9737a9e0f96194a.iix" style="display: block; margin-left: auto; margin-right: auto; width: 620px; height: 103px;"/></span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">10. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Navigate to Service Catalog -&gt; Catalog Definitions -&gt; Maintain Items.   The Catalog Items list view will be displayed.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">11. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Open the Workflow Control Via Variable Input Catalog Item</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">12. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Scroll to the bottom of the form and click on the Related List Variables tab.   You will see your one variable there.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">13. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click on the Select Box variable.   The Variable form will be displayed.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">14. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Scroll to the bottom of the form to see the three choices (Req #4).</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">15. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Open the Active choice, and delete it.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">16. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">You should now only have two choices listed (New, Closed).</span></p><p></p><p><img   alt="21.remaining choices.png" class="image-20 jive-image" src="1bf5bf39db505fc03eb27a9e0f9619d2.iix" style="width: 620px; height: 145px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">17. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Navigate to Service Catalog -&gt; Catalogs.   The catalogs home page will be displayed.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">18. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click on Service Catalog.   The Service Catalog home page will be displayed.</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">19. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click on Can We Help You?   The "Can We Help You?"   page will be displayed. (Req #2)</span></p><p></p><p><img   alt="26.can we help you.png" class="image-21 jive-image" src="1d8c9d4edb58d304b322f4621f9619b0.iix" style="width: auto; height: auto; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">20. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Scroll down through the various items and find Workflow Control Via Variable Input (Req #3).   Click on this item.   This will open our Item form.</span></p><p></p><p><img   alt="22.choice disabled.png" class="image-22 jive-image" src="1727b006db5cdfc068c1fb651f96190e.iix" style="width: 620px; height: 102px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">21. </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Click on the State field and note that the Active value is now missing; effectively deactivating the Active portion of the workflow.   (Req #3, 9)</span></p><p></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">The point of all of this was to show that by removing a value from the State list we can effectively control what is executed in our workflow.</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">Note that I included requirements traceability in my listing of the Design, Development, and Unit Testing stages.   The process and the traceability are both best practices to ensure that I met the original requirements.</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">That concludes the first pattern example.   In my next article I will show how you can use System Properties to control your workflows (pattern 2).</span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="background: white;"><span style="color: #666666; font-weight: inherit; font-family: 'Arial','sans-serif'; font-style: inherit;">Steven Bell</span></p><p style="font-weight: inherit; font-style: inherit; font-family: inherit;"><span style="color: #800080; font-size: 12pt; font-style: inherit; font-family: arial, helvetica, sans-serif; font-weight: inherit;"><strong>If you find this article helps you, don't forget to log in and "like" it!   I would also like to encourage you to become a member of our blog!</strong></span></p><p style="margin-bottom: .0001pt; background: white;"><span style="color: purple; font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong><a _jive_internal="true" data-containerid="-1" data-containertype="-1" data-objectid="86661" data-objecttype="111" href="/servlet/JiveServlet/downloadImage/38-4985-86661/CS_logo.jpg"><img  alt="CS_logo.jpg" class="image-18 jive-image" height="60" src="49975d86db90d7041dcaf3231f961982.iix" width="151"/></a></strong></span><span style="color: purple; font-size: 12pt; font-family: arial, helvetica, sans-serif;"><strong><a _jive_internal="true" data-containerid="2061" data-containertype="14" data-objectid="2273" data-objecttype="102" href="/community?id=community_article&sys_id=330d6ea5dbd0dbc01dcaf3231f961965"><img  alt="MVP-logo.jpeg" class="image-17 jive-image" height="48" src="a4077086dbdcd704ed6af3231f961917.iix" width="135"/></a></strong></span></p><p><span style="color: #eb7a3d;">Please Share, Like, Comment this blog if you've found it helpful or insightful.</span></p><p></p><hr/><p><span style="color: #eb7a3d;"><span style="color: #303030;">for Click for <a title="" _jive_internal="true" href="/community?id=community_forum&sys_id=a6299a2ddbd897c068c1fb651f961926">More Expert Blogs </a>and also Find <a title="" _jive_internal="true" class="jivecontainerTT-hover-container jive-link-community-small" data-containerid="2059" data-containertype="14" data-objectid="2037" data-objecttype="14" href="/community?id=community_forum&sys_id=d6295a2ddbd897c068c1fb651f9619f1">Expert Events</a>!</span><br/></span></p><hr/>