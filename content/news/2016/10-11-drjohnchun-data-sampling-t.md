---
title: "Data Sampling Techniques Part  GRC"
date: 2016-10-10T23:31:01.000Z
authors: ["drjohnchun"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=bfddaae9dbd0dbc01dcaf3231f961947"
---
<p><a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=7d4e26addbd0dbc01dcaf3231f961983">Last time</a>, we saw how statistical sampling techniques can be used for data certification, using a fictitious CMDB as an example. We also saw how sample size is calculated and how results are interpreted. A practical use case was introduced for conducting a "quick" CMDB assessment where a small sample of only 383 CI records gave an insight to a CMDB with 100,000 CIs. This time, let's take a look at how statistical sampling may be used in ServiceNow.</p><p></p><p><strong>GOVERNANCE, RISK, AND COMPLIANCE (GRC)</strong></p><p></p><p>The GRC application in ServiceNow (available as a plugin) is used to manage an organization's objectives and various regulatory requirements, if applicable. Among the tools it provides, <strong>Control Test Definition</strong> (or <strong>Indicator</strong> in Helsinki) has an ability to specify a sample size for controls testing; when a control test is executed, a random sample is generated for review. Let's take a look at how this actually works in ServiceNow and discuss limitations and workarounds.</p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="232_8_954_85"><p>NOTE: The GRC application has gone thorough a major redesign with the Helsinki release, so there are quite a few differences from the previous releases in terminology and how the application is organized. The sampling feature being described here, however, works similarly across Helsinki and previous releases.</p></pre><p>In pre-Helsinki releases, you can get to <strong>Control Test Definitions</strong> by navigating to</p><p><strong><a title="ki.servicenow.com/index.php?title=Control_Test_Definitions" href="http://wiki.servicenow.com/index.php?title=Control_Test_Definitions">IT GRC &gt; Administration &gt; Control Test Definitions</a></strong> or</p><p><strong><a title="ocs.servicenow.com/bundle/geneva-it-business-management/page/product/it_governance_risk_and_compliance/task/t_DefiBasicCondControlTestDef.html" href="https://docs.servicenow.com/bundle/geneva-it-business-management/page/product/it_governance_risk_and_compliance/task/t_DefiBasicCondControlTestDef.html">GRC &gt; Administration &gt; Control Test Definitions</a></strong> (requires "grc_test_definition_admin" role).</p><p></p><p>In Helsinki, navigate to</p><p><strong><a title="ocs.servicenow.com/bundle/helsinki-it-business-management/page/product/grc-indicators/task/t_CreateAnIndicator2.html" href="https://docs.servicenow.com/bundle/helsinki-it-business-management/page/product/grc-indicators/task/t_CreateAnIndicator2.html">Policy and Compliance &gt; Indicators &gt; Indicators</a></strong> (requires "<span style="color: #343d47; text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: SourceSansPro, 'Helvetica Neue', Arial; font-size: 13px; font-style: normal; font-weight: normal; word-spacing: 0px; float: none; display: inline !important; white-space: normal; orphans: 2; widows: 2; background-color: #ffffff; font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px;">sn_compliance.user</span>" role).</p><p></p><p>Based on the "quick" CMDB assessment use case from Part 3, I created a new definition shown below in the Geneva release:</p><p></p><p><strong>Name</strong>: CI attributes are correct</p><p><strong>Control</strong>: Assign ownership of the configuration item to the appropriate owner and set to proper status.</p><p><strong>Collect supporting data</strong>: checked</p><p><strong>Condition type</strong>: Basic</p><p><strong>Data purpose</strong>: Support test execution</p><p><strong>Table</strong>: Configuration Item [cmdb_ci]</p><p><strong>Fields</strong>: Owned by, Status</p><p><strong>Sample size</strong>: 383 (manually entered)</p><p></p><p><img   class="image-13 jive-image" src="0483c502db141b04ed6af3231f961942.iix" style="max-height: 900px; max-width: 1200px; border: 1px solid #ccc;"/></p><p></p><p><strong>Condition type</strong> must be set to "<strong>Basic</strong>" and <strong>Data purpose</strong> set to "<strong>Support test execution</strong>" to use sampling so the <strong>Sample size</strong> field becomes visible. In this simple example, we're reviewing the entire CMDB, so set <strong>Table</strong> to "<strong>Configuration Item [cmdb_ci]</strong>" but don't set <strong>Control test condition </strong>(filter) to anything. Since we're reviewing only the CI ownership and status, set <strong>Fields</strong> to "<strong>Owned by</strong>" and "<strong>Status</strong>" (in real cases, there may be more fields being reviewed). Finally, set <strong>Sample size</strong> to 383, which is what we used in Part 3 for the CMDB with 100,000 CIs (this is a manual entry field, so any value can be entered; setting it to 0 returns all records).</p><p></p><p>When <strong>Execute Now</strong> is clicked, a new <strong>Control Test Instance</strong> is created in the <strong>Related List</strong> section at the bottom of the form (reload the form to see it). The newly created <strong>Control Test</strong> contains the sample of records to be reviewed; any discrepancies can trigger <strong>Remediation Tasks</strong>.</p><p></p><p><strong>TESTING FOR APPLICATIONS OR OTHER CI TYPES</strong></p><p></p><p>If testing for applications only (or any other CI types), create a new <strong>Control Test Definition</strong> (or <strong>Indicator</strong>) and set <strong>Table</strong> to "<strong>Application</strong>" and adjust the <strong>Sample size</strong> based on the Application population size. The population size can be further reduced by using <strong>Control test condition</strong> (filter).</p><p></p><p><img   class="image-11 jive-image" src="ec95ed4edb50d7049c9ffb651f9619f7.iix" style="max-height: 900px; max-width: 1200px; border: 1px solid #ccc;"/></p><p></p><p><strong>LIMITATIONS AND WORKAROUNDS</strong></p><p></p><p>When using <strong>Control Test Definition</strong>, population size is determined by the result set returned from <strong>Table</strong> and <strong>Control test condition</strong>. Unfortunately, <strong>Control Test Definition</strong> doesn't provide population size or an automatic way to calculate sample size. Also, population size tends to fluctuate over time since the CMDB can be dynamic. Therefore, for each test, population size has to be determined by using a list view for the CMDB outside of <strong>Control Test Definition</strong>, with the same <strong>Table</strong> and <strong>Control test condition</strong> to filter and return the same result set. Then the population size can be used to calculate sample size.</p><p></p><p>If this becomes cumbersome, an over-estimated sample size can be used that doesn't need to be revised for every test. As we have seen, sample size changes little when population size changes dramatically; in Part 3, the sample size barely changed from 370 to 383 when the population size changed from 10,000 to 100,000 (tenfold). If the population size is in tens of thousands today and it's not expected to exceed 100,000, then a fixed sample size of 383 can be used for all future testing. In effect, this over-estimated sample size will result in a slightly smaller margin of error, below 5%; in practice, this may be insignificant and won't alter the conclusions.</p><p></p><p>An automatic sample-size calculator may be an enhancement we can hope for in a future release.</p><p></p><p>Next time, we'll look at other related features from ServiceNow.</p><p></p><p><em>Please feel free to connect, follow, post feedback / questions / comments, share, like, bookmark, endorse.</em></p><p>John Chun, <span style="font-size: 8pt;">PhD PMP</span> <a href="http://linkedin.com/in/DrJohnChun"><img alt="see John's LinkedIn profile" class="image-2 jive-image" src="http://megaicons.net/static/img/icons_sizes/182/456/16/linkedin-icon.png" style="height: auto; vertical-align: -13px;" title="see John's LinkedIn profile"/></a></p><p><a href="http://snowaid.com/"><img alt="visit snowaid" class="image-1 jive-image" src="http://snowaid.com/images/signature.png" style="height: auto; margin-top: -9px;" title="visit snowaid"/></a></p>