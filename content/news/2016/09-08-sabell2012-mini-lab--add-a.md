---
title: "MiniLab Add a Slush Bucket Control to a Dialog Box"
date: 2016-09-07T16:36:53.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=5ecca265dbd0dbc01dcaf3231f961932"
---
<p dir="ltr"><span style="font-size: 10.6667px; font-family: 'Times New Roman'; color: #666666; font-weight: bold;">NOTE</span><span style="font-size: 10.6667px; font-family: Arial; color: #666666;">: </span><span style="font-size: 10.6667px; font-family: 'Times New Roman'; color: #666666;">MY POSTINGS REFLECT MY OWN VIEWS AND DO NOT NECESSARILY REPRESENT THE VIEWS OF MY EMPLOYER, ACCENTURE. </span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Times New Roman'; color: #666666;">DIFFICULTY LEVEL:   </span><span style="font-family: 'Times New Roman'; color: #ff0000; font-weight: bold;">ADVANCED</span></span></p><p dir="ltr"><span style="font-family: 'Times New Roman'; color: #666666; font-size: 12pt;">Assumes very good knowledge and/or familiarity of scripting, and user interfaces in ServiceNow.</span></p><p dir="ltr"><span style="font-family: Arial; color: #666666;">____________________________________________________________________________</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">The other day I was working on a gnarly UI problem with <a title="lisse" __default_attr="51045" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="lisse" data-renderedposition="138_411.7421875_52_17" href="/community?id=community_user_profile&user=85239e65db1c1fc09c9ffb651f961950">lisse</a> (Calisse Voltz), and we found that we needed to add a Slush Bucket control to a GlideDialog form.   We went looking in the community, and on the web for information on how to best accomplish this task, and what did we find?   Nuttin - technical term meaning null.   Well, a GlideDialog executes a UI Page, and there are a few UI Page examples in the Out-Of-The-Box (OOB) ServiceNow platform, and one of them should contain a Slush Bucket, right?   Well, one did!   With that we were then able to figure it out.   I thought I would share.</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">So, what is needed?</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000; font-weight: bold;">Design:</span></p><p></p><ol><li><span dir="ltr" style="font-size: 12pt;">Create a simple UI Page that contains a Slush Bucket control.</span></li><li><span dir="ltr" style="font-size: 12pt;">Create a Client Script on that UI Page that populates the Slush Bucket.</span></li><li><span dir="ltr" style="font-size: 12pt;">Create a Ajax Script Include to provide the data for the Slush Bucket - for demo purposes.</span></li><li><span dir="ltr" style="font-size: 12pt;">Create a UI Script that pulls the picked data from the Slush Bucket and allows us to use it.</span></li><li><span dir="ltr" style="font-size: 12pt;">Create a UI Action to fire the UI Page as a GlideDialog - for demo purposes.</span></li></ol><p><span><span><br/><br/></span></span></p><p dir="ltr"><span style="font-size: 18.6667px; font-family: Arial; color: #000000; font-weight: bold;">Lab 1.1: Create the Ajax Script Include</span></p><p></p><p><span style="font-size: 12pt;">This will be the driver that fills our Slush Bucket with test data.   Of course this would change should you want to really do something special with the example, but I put this here to give you an idea of how it can be done.</span></p><p></p><p><span style="font-size: 12pt;">1. Navigate to System Definitions -&gt; Script Includes.   The Script Includes list view will be displayed.</span></p><p><span style="font-size: 12pt;">2. Click on the New button to create a new Script Include.   The new Script Include form will be displayed.</span></p><p><span style="font-size: 12pt;">3. Fill out the form with the following:</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">a. <strong>Name</strong>: GetIncidentsAjax</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">b. <strong>Client callable</strong>: checked</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">c. <strong>Active</strong>: checked</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">d. <strong>Accessible from</strong>:   All application scopes</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">e. <strong>Description</strong>: <span style="font-size: 16px;">Driver to fill GlideDialog Slush Bucket with test data</span></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">f. <strong>Script</strong>:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14731710702479702 jive_text_macro" data-renderedposition="875.78125_8_1102_384" jivemacro_uid="_14731710702479702"><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">var GetIncidentsAjax = Class.create();</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">GetIncidentsAjax.prototype = Object.extendsObject(AbstractAjaxProcessor, {</span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">getIncidentList : function() {</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">var incidentList = [];</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;"> </span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">var incidentRecords = new GlideRecord('incident');</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">incidentRecords.setLimit(10);</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">incidentRecords.orderByDesc('number');</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">incidentRecords.query();</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;"> </span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">while (incidentRecords.next()) {</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">var incident = {};</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">incident.number = incidentRecords.getValue('number');</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">incident.sys_id = incidentRecords.getValue('sys_id');</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">incidentList.push(incident);</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">}</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;"> </span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">return new JSON().encode(incidentList);</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;"> </span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">},</span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">       type: 'GetIncidentsAjax'</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">});</span></p></pre><p dir="ltr"></p><p dir="ltr" style="padding-left: 30px;"><span style="font-size: 12pt; font-family: Arial; color: #000000;">g. Submit to save your work</span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 18.6667px; font-family: Arial; color: #000000; font-weight: bold;"><img   class="image-1 jive-image" src="34358d8edb149f048c8ef4621f96190e.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p dir="ltr"></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 18.6667px; font-family: Arial; color: #000000; font-weight: bold;">Lab 1.2: Create the UI Page and Client Script</span></p><p></p><p><span style="font-size: 12pt;">Next we want to create the actual UI Page that will act as our GlideDialog.   This will contain the Slush Bucket control, a couple of buttons (Cancel, Submit), and our Client Script to fill the Slush Bucket on load of the form.   You will note, in the example below, that the Slush Bucket is a single inclusion line, and contains only a name.   I am also using some of the fancier button definitions I have found in the OOB code.   For those of you who didn't know: If you use gs.getMessage you can localize the example.   You need to do a requires tag to link in the UI Script library, and make it available to the page.   Read the comments in the code as I explain a lot of what's happening there.</span></p><p></p><p></p><p><span style="font-size: 12pt;"><strong>NOTE</strong>: Yeah, using Jelly as that is still the default when creating a new UI Page in Helsinki.   I will let <a title="b-rad" __default_attr="2204" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="b-rad" data-renderedposition="2255.78125_718.8799438476562_59_18" href="/community?id=community_user_profile&user=90e1da21dbd81fc09c9ffb651f961977">b-rad</a> (Brad Tilton) set this up in Angular, or may do it myself later.</span></p><p></p><p><span style="font-size: 12pt;">1. Navigate to System UI -&gt; UI Scripts.   The UI Scripts list view will be displayed.</span></p><p><span style="font-size: 12pt;">2. Click on the New button to create a new UI Script.   The new UI Script form will be displayed.</span></p><p><span style="font-size: 12pt;">3. Fill out the form with the following:</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">a. <strong>Name</strong>: SlushBucketDialog</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">b. <strong>Category</strong>: General</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">c. <strong>Description</strong>: UI Page for GlideDialog Slush Bucket example</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">d. <strong>Direct</strong>: unchecked</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">e. </span><span style="color: #485563; font-size: 12pt; line-height: 1.5; font-family: Arial;"><strong>HTML</strong>:</span></p><p dir="ltr" style="margin-bottom: 7pt;"></p><pre __default_attr="xml" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14731731275618330 jive_text_macro" data-renderedposition="2545.109375_8_1102_649" jivemacro_uid="_14731731275618330"><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;form id="bucketStuff"&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;g:requires name="SlushBucketProcessor.jsdbx"/&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;div id="page"&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;table width="100%"&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;tr&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;td&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;g:ui_slushbucket name="slushIncidents" /&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;/td&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;/tr&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;tr&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;td style="text-align:center" class="pull-center"&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;button type="cancel" class="btn btn-default action_contex" id="cancel_dialog" name="cancel_dialog" &gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">${gs.getMessage('Cancel')}</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;/button&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">$[SP]</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;button type="submit" class="btn btn-primary action_contex" id="submit_dialog" name="submit_dialog"&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">${gs.getMessage('Submit')}</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;/button&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;/td&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;/tr&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;/table&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;/div&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;/form&gt;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">&lt;/j:jelly&gt;</span></p></pre><p dir="ltr" style="margin-bottom: 7pt;"></p><p dir="ltr" style="margin-bottom: 7pt; padding-left: 30px;"><span style="color: #485563; font-weight: bold; font-size: 12pt; font-family: Arial;">f. Client Script:</span></p><p dir="ltr" style="margin-bottom: 7pt; padding-left: 30px;"></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_1473173127541551 jive_text_macro" data-renderedposition="3297.625_8_1102_881" jivemacro_uid="_1473173127541551"><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">// JQuery function to load up our processor UI Script and initialize it with our UI Page info</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">// this will make all of the functionality of the UI Script available.</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">$j(function () {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">try {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">window.slushBucketProcessor = new SlushBucketProcessor(GlideDialogWindow.get());</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">}</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">catch(err){</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">alert(err);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">}</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">});</span></p><p></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">// Called when the form loads</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">addLoadEvent(function() {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">// clear the slush bucket</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">slushIncidents.clear();</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">// show loading dialog until we get a response from our ajax call to retrieve a list of incidents</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">showLoadingDialog();</span></p><p></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">// load the slushbucket with test data</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">var incidentAjax = new GlideAjax('GetIncidentsAjax');</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">incidentAjax.addParam('sysparm_name', 'getIncidentList');</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">incidentAjax.getXML(incidentResults);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">function incidentResults(response){</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">       hideLoadingDialog();</span></p><p></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">var incidentList = JSON.parse(response.responseXML.documentElement.getAttribute("answer"));</span></p><p></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">// Fill the Slush Bucket control with the test data</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">// Note that the value is the sys_id, and the "label" is the number</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">for (var i=0; i &lt; incidentList.length; i++) {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">slushIncidents.addLeftChoice(incidentList[i].sys_id, incidentList[i].number);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">}</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="color: #980000; font-family: 'Courier New';">   </span><span style="color: #980000; font-family: 'Courier New';">}</span></p><p><span style="color: #980000; font-family: 'Courier New';">});</span></p><p dir="ltr" style="margin-bottom: 7pt; padding-left: 30px;"></p></pre><p dir="ltr"></p><p dir="ltr"></p><p dir="ltr" style="padding-left: 30px;"><span style="color: #000000; font-size: 16px; font-family: Arial;">g. Submit to save your work</span></p><p dir="ltr"></p><p dir="ltr"><span style="color: #000000; font-weight: bold; font-size: 16px; font-family: Arial;"><img   class="image-2 jive-image" src="cbf124cadbdc1f048c8ef4621f9619f3.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p dir="ltr"></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 18.6667px; font-family: Arial; color: #000000; font-weight: bold;">Lab 1.3: Create the UI Script Processor</span></p><p></p><p><span style="font-size: 12pt;">We need to create a processor script to add functionality to our UI Page.   When called from the UI Page this script will be merged into the page functionality.   BTW, this is a good practice to keep your UI Page Client Scripts "thin", and allow for possible re-use of code.   UI Scripts are the Client-Side library containers.   If you keep it generic enough you can create some nice libraries for later use in other projects.   Don't forget to read my comments in the code.</span></p><p></p><p><span style="font-size: 12pt;">1. Navigate to System UI -&gt; UI Scripts.   The UI Scripts list view will be displayed.</span></p><p><span style="font-size: 12pt;">2. Click on the New button to create a new UI Script.   This will display the new UI Script form.</span></p><p><span style="font-size: 12pt;">3. Fill in the form with the following:</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">a. <strong>Name</strong>: SlushBucketProcessor</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">b. <strong>Global</strong>: unchecked</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">c. <strong>Active</strong>: checked</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">d. <strong>Description</strong>: UI Page that will act as the GlideDialog.   This will contain the Slush Bucket control, a couple of buttons (Cancel, Submit), and our Client Script to fill the Slush Bucket on load of the form.</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">e. <strong>Script</strong>:</span></p><p style="padding-left: 30px;"></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14731734176299535" data-renderedposition="5492.125_8_1102_1577" jivemacro_uid="_14731734176299535"><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">var SlushBucketProcessor = function(dialogWindow) {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">var $btnCancelDialog = null;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">var $frmSubmitDialog = null;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">//Initialize the window</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">_init();</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">function _init() {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">_initForm();</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">_initEventHandlers();</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">}</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">function _initEventHandlers() {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">// cancel button event</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">$btnCancelDialog.click(function(event) {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">submitCancel(event);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">});</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">// form submit event</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">$frmSubmitDialog.submit(function(event) {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">onFormSubmit(event, this);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">});</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">}</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">// set up the form submit, and the cancel action</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">// JQuery to pull in the form objects by id</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">function _initForm() {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">$btnCancelDialog = $j("#cancel_dialog");</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">$frmSubmitDialog = $j("#bucketStuff");</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">}</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">function submitCancel(event) {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">event.preventDefault();</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">// tear down the dialog</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">dialogWindow.destroy();</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">return false;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">}</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">function onFormSubmit(event, form) {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">event.preventDefault();</span></p><p></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">var slushIncidents = [];</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">// extract the results from the slush bucket control</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">var slushIncidents_right = form.slushIncidents_right;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">// how many did we end up with?</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">alert(slushIncidents_right.length);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">// do something with the results.   The name is the innerHTML, the sys_id is the value</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">for (var i=0; i &lt; slushIncidents_right.length; i++) {</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">slushIncidents.push(slushIncidents_right[i].innerHTML + '-' + slushIncidents_right[i].value);</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">}</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">// display our array</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">alert(JSON.stringify(slushIncidents));</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">// tear down the dialog</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">dialogWindow.destroy();</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">return true;</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">}</span></p><p dir="ltr" style="margin-bottom: 7pt;"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">};</span></p></pre><p></p><p dir="ltr"></p><p dir="ltr" style="padding-left: 30px;"><span style="color: #000000; font-family: Arial; font-size: 16px;">f. Submit to save your work</span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 18.6667px; font-family: Arial; color: #000000; font-weight: bold;"><img   class="image-3 jive-image" src="707048c6db94db048c8ef4621f96190c.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p dir="ltr"></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 18.6667px; font-family: Arial; color: #000000; font-weight: bold;">Lab 1.4: Create the UI Action to Fire the Dialog</span></p><p></p><p><span style="font-size: 12pt;">Finally we need to create some sort of action to actually test our new GlideDialog UI Page with Slush Bucket!   I chose to create a UI Action attached to the Incident form.   It really doesn't do anything with the form, but gives the impression it does!</span></p><p></p><p><span style="font-size: 12pt;"><strong>NOTE</strong>: I use another good OOB technique here by using a class to fire off the GlideDialog.   This allows me to use the "this" construct, and other functionality that is available to a class that wouldn't be available to normal function.</span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>a. Name</strong>: Dialog Slushbucket</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>b. Table</strong>: Incident [incident]</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>c. Order</strong>: 100</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>d. Action name</strong>: dialog_slushbucket</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>e. Active</strong>: checked</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>f. Show insert</strong>: checked</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>g. Show update</strong>: checked</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>h. Client</strong>: checked</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>i. Form button</strong>: checked:</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">Everthing else unchecked</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>j. Comments</strong>: Form button to test the functionality of the Slush Bucket GlideDialog UI Page</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>k. Onclick</strong>: (new slushBucketHandler(g_form)).showDialog();</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>l. Script</strong>:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14731740187734293" data-renderedposition="8454.46875_8_1102_144" jivemacro_uid="_14731740187734293"><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">var slushBucketHandler = Class.create({</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">showDialog: function() {</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">// fire off the dialog using our UI Script name</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">this.dialog = new GlideDialogWindow("SlushBucketDialog");</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">this.dialog.setTitle('Slushbucket Dialog');</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">this.dialog.setWidth(400);</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">this.dialog.render(); // Open the dialog box</span></p><p dir="ltr"><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">   </span><span style="font-size: 12px; font-family: 'Courier New'; color: #980000;">}</span></p><p><span style="color: #980000; font-size: 12px; font-family: 'Courier New';">});</span></p></pre><p><span><span><br/><br/></span></span></p><p style="padding-left: 30px;"><span style="color: #000000; font-size: 16px; font-family: Arial;">m. Submit to save your work</span></p><p></p><p><span style="color: #000000; font-size: 16px; font-family: Arial;"><img   class="jive-image image-4" src="4ae4edc2db18d7041dcaf3231f96190a.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p></p><p dir="ltr"><span style="font-size: 18.6667px; font-family: Arial; color: #000000; font-weight: bold;">Lab 1.5: Testing the GlideDialog</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;">We have arrived!   All the bits are done.   Now let's test our dialog page!</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;">1. Navigate to Incident -&gt; All.   The Incident list view will be displayed.</span></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;">2. Open up any incident.   Note that the Dialog Slushbucket button appears on the form.</span></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;"><img   class="image-5 jive-image" src="7d3001cedbd497041dcaf3231f96193f.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;">3. Click the button.   The dialog should be displayed, and the slush bucket control will populate.   It may take a moment, and you might actually see the LoadingDialog box appear briefly.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;"><img   class="image-6 jive-image" src="f86e1c06db1057049c9ffb651f961925.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;">4. Pick as many incident numbers as you want, and transfer them to the right side of the control.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;"><img   class="image-7 jive-image" src="609ffb7ddb18d3041dcaf3231f961977.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;">5. Click the Submit button.   1) an alert will appear showing how many incident numbers you had selected.   2) a second alert will appear showing a compressed view of the array of your incident number-sys_id combos.   Click on the ok button to close each respectively.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;"><img   class="image-9 jive-image" src="dc2eb48edb509f048c8ef4621f961973.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;"><img   class="jive-image image-8" src="87062dcadb105b04ed6af3231f961906.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;">6. Click ok, on the last alert box, and the dialog should disappear.</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;">And you are done!   You might want to test out the cancel button to check that functionality as well (unit test everything).</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;">Some extra reading:</span></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;"><a href="https://learn.jquery.com/using-jquery-core/avoid-conflicts-other-libraries/" title="https://learn.jquery.com/using-jquery-core/avoid-conflicts-other-libraries/">https://learn.jquery.com/using-jquery-core/avoid-conflicts-other-libraries/</a> </span></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;"><a href="http://wiki.servicenow.com/index.php?title=UI_Pages" title="http://wiki.servicenow.com/index.php?title=UI_Pages">UI Pages - ServiceNow Wiki</a> </span></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;"><a href="http://wiki.servicenow.com/index.php?title=UI_Scripts" title="http://wiki.servicenow.com/index.php?title=UI_Scripts">UI Scripts - ServiceNow Wiki</a> </span></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;"><a href="http://wiki.servicenow.com/index.php?title=Displaying_a_Custom_Dialog#gsc.tab=0" title="http://wiki.servicenow.com/index.php?title=Displaying_a_Custom_Dialog#gsc.tab=0">Displaying a Custom Dialog - ServiceNow Wiki</a> </span></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;"><a href="http://wiki.servicenow.com/index.php?title=Slushbucket#gsc.tab=0" title="http://wiki.servicenow.com/index.php?title=Slushbucket#gsc.tab=0">Slushbucket - ServiceNow Wiki</a> </span></p><p><span style="font-size: 12pt; font-family: Arial; color: #000000;"><a href="http://wiki.servicenow.com/index.php?title=GlideAjax#gsc.tab=0" title="http://wiki.servicenow.com/index.php?title=GlideAjax#gsc.tab=0">GlideAjax - ServiceNow Wiki</a> </span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">Steven Bell</span></p><p dir="ltr"><span style="font-family: Arial; color: #666666;"><img class="jive-image" height="39" src="https://lh6.googleusercontent.com/-ZMZI2fjrqNHXR9XRRjEr_7025H9v22ADMnTKnF2vueBkz7_n1T3LlULoClhKT7fEsgdFDIM6Ybdi_oWcCRx6nYdLOYn03vJe9tnXa9-jTq2Uab8HosAGmiAH6XsCgF5o2UTNNAL" style="border-style: none;" width="208"/></span></p><p dir="ltr"><span style="font-family: Arial; color: #666666;"><img class="jive-image" height="36" src="https://lh5.googleusercontent.com/WGsHxkLgXLKbnWJtNvheSZMZppQzGBNRckQLRfXJlej68ISa3us05_JQZxtpC9tIn0jW1SpicHzeVtfkQcE6c-zMywfOeFixaLtRq8Zf3yCDF4Qljvqf60UEgjYNFoltCdYYF8bV" style="border-style: none;" width="102"/></span><span style="font-family: Arial; color: #666666;"><img class="jive-image" height="36" src="https://lh5.googleusercontent.com/UFoSWye20-m0UEEGhCZ1N7eG050lj6ZMoNplzWmK7oy3L1oarTiGtytf6dYpBk-7SG-o4Zz5kUzf40Q81JBwsXhu5khyHd8iJIq0Q8GpCr9KZUxzEXn5ZR4Dh_aILsFvtHxXrIcq" style="border-style: none;" width="102"/></span><span style="font-family: Arial; color: #666666;"><img class="jive-image" height="36" src="https://lh3.googleusercontent.com/rRLIHAdB8J56qqH-cHrgcUtdWAQU28nZJNSERA1OtdCMNxg3hmR9X7zQ3uOjgQSQQjFRMhq3OiugjViptdD0zN49255Dcr9mHlzxwo9tLWV1dF0f_iATHj6u22p9UQTzbtpFl4mO" style="border-style: none;" width="102"/></span></p><p dir="ltr"></p><p dir="ltr"><span style="font-family: Arial; color: #666666; font-weight: bold;">For a list of all of my articles:   </span><a _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/23/community-code-snippets-articles-list-to-date"><span style="font-family: Arial; color: #266fc8; font-weight: bold;">Community Code Snippets: Articles List to Date</span></a></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #eb7a3d;">Please Share, Like, Bookmark, Mark Helpful, or Comment this blog if you've found it helpful or insightful.</span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #eb7a3d;">Also, if you are not already, I would like to encourage you to become a member of our blog!</span></p><p><span><br/><br/></span></p>