---
title: "Styling your Service Catalog form in Geneva"
date: 2016-07-01T22:55:23.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=b67ca2e1dbd0dbc01dcaf3231f9619c2"
---
<p>You may initially perceive this blog as being a guide on doing weird and wonderful things with the Service Catalog, which is not the case. To clear the air, let's start by having a quick look at this Service Catalog Form...</p><p><img   alt="catalog form.jpg" class="image-7 jive-image" src="80256586db105b04ed6af3231f96197f.iix" style="width: 620px; height: 279px; display: block; margin-left: auto; margin-right: auto;"/></p><p style="text-align: center;"><span style="font-size: 8pt;"><em>Service Catalog Form</em></span></p><p style="text-align: center;"></p><p>Of course it's a Record Producer, but it does look really dull... right? There are (or were) quirks in the behaviour of the Service Catalog which would allow ServiceNow Administrators/Developers to modify the look and feel of the form, just to snazz it up or achieve some requirement. One of the common things are placing URLs in the Question or More Information text...</p><p><img   alt="url catalog.jpg" class="image-8 jive-image" src="630f948edbdc9704ed6af3231f9619c3.iix" style="height: auto; display: block; margin-left: auto; margin-right: auto;"/></p><p style="text-align: center;"><span style="font-size: 8pt;"><em>How did that get in there?</em></span></p><p></p><p>Or even those Variable Labels used to group a bunch of choices. You may think that things sound cool and want to know how they are done, <strong>but</strong> there are caveats involved when trying these things from Geneva onwards. One example is, if you get invalid HTML in there, the form may not load at all and you see a blank page. So let's look at these "quirks".</p><p></p><h1>Those styling "quirks" in the Service Catalog form</h1><ol><li>HTML in the Question of a Catalog Variable</li><li>Variable Label to Group Choices</li></ol><p></p><h2>Using HTML in the Question of a Catalog Variable</h2><p>The first quirk in catalog styling is using HTML in the Question of a Service Catalog Variable. For many, this has been seen as a useful way to convey additional information or highlight something important on the Service Catalog form. For others, particularly developers, this sends shivers down our spines. We can cry foul when someone suggests to put in some funky HTML in the Question, but, alas, they will do it anyway. <span __jive_emoticon_name="cry" __jive_macro_name="emoticon" class="jive_emote jive_macro" data-renderedposition="916.4000244140625_353.7833251953125_16_16" src="/8.0.4.21bdc7e/images/emoticons/cry.png"></span></p><p></p><p>So what is wrong with this? Let's have a look at a Variable where some HTML was applied to a Question</p><p><img   alt="Variable with HTML_2.png" class="image-4 jive-image" src="4824f482db1cdfc068c1fb651f9619e8.iix" style="height: auto;"/></p><p><span style="font-size: 8pt;"><em>Oooh, red text</em></span></p><p></p><p>Let's look at what the value of the Question text actually looks like.</p><pre __default_attr="php" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14678146227623676 jive_text_macro" data-renderedposition="1121.6500244140625_8_1192_16" jivemacro_uid="_14678146227623676"><p>&lt;font size="2" color="red"&gt;Impact&lt;/font&gt;</p></pre><p></p><p>Simple isn't it? Imagine what would happen if you entered the HTML incorrectly. Like this for example:</p><pre __default_attr="php" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14678146450229257 jive_text_macro" data-renderedposition="1179.6500244140625_8_1192_16" jivemacro_uid="_14678146450229257"><p>&lt;font size=2 color='red'&gt;Impact&lt;font&gt;</p></pre><p></p><p>While I may be forced to apologise to our fellow Web Developers out there at gunpoint, this would actually cause a serious issue where the form does not load and the user is only presented with a simple line of text:</p><p><span style="font-family: 'times new roman', times;">Open quote is expected for attribute "size" associated with element type "font".</span></p><p></p><p>And, yes, this came from a real issue. So, since Geneva Patch 7 this has changed. "Yay!" I hear the developers say in unison. "Why?" begs the administrators. The reason for this is security. The reason for this pretty much that it never honoured the <em>glide.ui.escape_text</em> property correctly when it was set to <em>true</em>, leaving the <a title="i.service-now.com/kb_view.do?sysparm_article=KB0562895" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0562895">Instance open to XSS attacks</a>. By the way, this property is documented as part of the <a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/security/reference/r_HighSecuritySettingsProperties.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/security/reference/r_HighSecuritySettingsProperties.html">High Security Settings documentation</a>, so this is not new.</p><p></p><p>For those who really want to have some HTML in the Help text of a Variable, an <a title="ocs.servicenow.com/bundle/istanbul-it-service-management/page/product/service-catalog-management/task/t_CreateAVariableForACatalogItem.html" href="https://docs.servicenow.com/bundle/istanbul-it-service-management/page/product/service-catalog-management/task/t_CreateAVariableForACatalogItem.html">Instruction</a> field was introduced in the Istanbul release.</p><p></p><h2>Using a Variable Label to Group Choices</h2><p>Using a Variable Label to group choices is a simple style trick where a Variable of type Label is place at the top of a block of CheckBoxes. Here's a screenshot of what it would look like</p><p><img   alt="Variable Label.png" class="image-5 jive-image" src="b9a3d4cadb141f048c8ef4621f9619df.iix" style="height: auto;"/></p><p>It's highlighted well and does look nice. Ok... so, there's no caveat here, but the facelifts that occurred in Fuji and Geneva have changed things up considerably. As a result this Variable Label ability has been lost. Have a look here:</p><p><img   alt="Variable Label geneva.png" class="image-6 jive-image" src="3f673ff9dbdc9b048c8ef4621f961939.iix" style="height: auto;"/></p><p><span style="font-size: 8pt;"><em>Geneva, meh.</em></span></p><p></p><p>It really does look boring and doesn't really play the role of being a nice clear header. Why? Well first there's the <a title="" _jive_internal="true" href="/community/service-management/service-catalog/blog/2016/01/13/checkout-the-ui16-updates-to-service-catalog">facelift</a> we encountered in Fuji which improves on the categories and variable configuration, then there's the <a title="ocs.servicenow.com/bundle/geneva-release-notes/page/release-notes/it_service_management/r_ServiceCatalogRN.html" href="https://docs.servicenow.com/bundle/geneva-release-notes/page/release-notes/it_service_management/r_ServiceCatalogRN.html">facelift</a> in Geneva. The Geneva changes<span style="line-height: 1.5;"> made the Service Catalog form more in line with the look and feel of a form for a table (e.g. Incident). </span></p><p></p><p><span style="line-height: 1.5;">This did result in some </span><a title="" _jive_internal="true" href="/community/service-management/service-catalog/blog/2016/05/04/geneva-alignment-issues-for-variable-sets-in-the-service-catalog" style="line-height: 1.5;">wonky blank white space</a><span style="line-height: 1.5;"> and wrapping issues, so we put together an alternative to remedy this "quirk." The rationale was to follow the </span><a title="tyleguide.service-now.com/" href="https://styleguide.service-now.com/" style="line-height: 1.5;">ServiceNow Design Principles</a><span style="line-height: 1.5;"> used throughout the user interface. Of course, this also made us lose the ability of using the Variable Label as a nicely styled header. Unfortunately there is no functionality in the platform to address this without having to revert to DOM hacks.</span></p><p><img   alt="varibale+alignment+geneva+catalog.jpg" class="image-1 jive-image" src="eb0a518edbd8d344e9737a9e0f961954.iix" style="width: 620px; height: 382px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><h2>Using UI Macro Variables for styling</h2><p>While we have lost the benefit of playing around with HTML and Variable Labels, there is something that you can do to achieve similar requirements without having to revert to Javascript hacks. That is to use the Variables of <a title="ocs.servicenow.com/bundle/helsinki-it-service-management/page/product/service-catalog-management/reference/r_VariableTypes.html" href="https://docs.servicenow.com/bundle/helsinki-it-service-management/page/product/service-catalog-management/reference/r_VariableTypes.html">type UI Macro</a>. While it will not help with having HTML in the Questions, but UI Macro Variables can be used to add content next to (or above/below) a variable for the user (like a URL).</p><p></p><p>Before I sign off, I would like to also remind you of the <a title="ocs.servicenow.com/bundle/geneva-it-service-management/page/product/service_catalog_management/concept/c_ConfigureCartLayout.html" href="https://docs.servicenow.com/bundle/geneva-it-service-management/page/product/service_catalog_management/concept/c_ConfigureCartLayout.html">Cart Layouts</a> functionality which was introduced in Fuji. With this functionality you can modify the layout of the various screens in the request/ordering process of the Service Catalog, removing the need of having to modify the base UI Macros.</p>