---
title: "Automated Test Framework Part  Building Blocks"
date: 2016-12-16T00:26:38.000Z
authors: ["drjohnchun"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=942de2e5dbd0dbc01dcaf3231f961987"
---
<p><a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=fd9c2ee1dbd0dbc01dcaf3231f9619d7">Last time</a>, we ran a demo test called "<strong>Basic UI Test</strong>" and created a Service Catalog Task record. We also saw that, by design, the record was permanently deleted after the test was completed, with the <a title="ocs.servicenow.com/bundle/istanbul-release-notes/page/release-notes/servicenow-platform/automated-test-framework-rn.html" href="https://docs.servicenow.com/bundle/istanbul-release-notes/page/release-notes/servicenow-platform/automated-test-framework-rn.html">Automated Test Framework (ATF)</a> "automatically taking care of rolling back changes after testing". Before going further with more tests, I'd like to take a deeper look at the various building blocks of ATF both on the surface and behind the scenes; this will give us the lay of the land and help us what to look for later as we create and run more tests.</p><p></p><p><img __jive_macro_name="toc" class="jive_macro_toc jive_macro" data-renderedposition="113_8_61_72" src="/8.0.4.21bdc7e/images/tiny_mce3/plugins/jiveemoticons/images/spacer.gif"/></p><h3>APPLICATION MODULES</h3><p></p><p>As noted in <a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=00ecaa65dbd0dbc01dcaf3231f961970">Part 1</a>, the Navigator provides the following modules for the <strong>atf_test_admin</strong> role under the <strong>Automated Test Framework</strong> application menu:</p><p></p><p><img   alt="pastedImage_11.png" class="image-1 jive-image" src="ef5c9c4edb9c17049c9ffb651f961934.iix" style="height: auto;"/></p><p></p><p>Below is a quick rundown of what you get for each module:</p><p></p><h4>Tests</h4><p></p><p>This module shows list of Tests. Tests include both UI and server tests.</p><p><img   class="image-2 jive-image" src="87e15c0edbd417049c9ffb651f96198d.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><h4>Suites</h4><p></p><p>This module shows list of Test Suites. Test Suites are made up of one or more <strong>Tests</strong> and/or <strong>Test Suites</strong>.</p><p><img   class="image-3 jive-image" src="48dfe37ddb9c1704ed6af3231f961952.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><h4>Test Results</h4><p></p><p>This module shows list of Test Results. There may be multiple <strong>Test Results</strong> for a <strong>Test</strong>.</p><p><img   class="jive-image image-4" src="865c9106db5c1b04ed6af3231f96198e.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><h4>Suite Results</h4><p></p><p>This module shows list of Test Suite Results. There may be multiple <strong>Test Suite Results</strong> for a <strong>Test Suite</strong>.</p><p><img   class="image-5 jive-image" src="b23b388adbdcdfc03eb27a9e0f9619d1.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><h4>Run &gt; Client Test Runner</h4><p></p><p>This module opens Clint Test Runner window. This window, labeled as <strong>UI Test Runner</strong>, may also be opened from the <strong>Run Test</strong> dialog box. Without this window opened, UI tests won't run.</p><p><img   class="image-6 jive-image" src="d6a6d802dbd817049c9ffb651f9619d7.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><h4>Run &gt; Test Run Queue</h4><p></p><p>This module shows list of Tests that are Waiting or Running. When running a <strong>Test Suite</strong>, this lists all <strong>Tests</strong> that are part of the <strong>Test Suite</strong> and its child <strong>Test Suites</strong>, if any. This list doesn't show the execution order, limiting its usefulness. NOTE: <strong>Tests</strong> can't be scheduled to run at a later time.</p><p><img   class="jive-image image-8" src="e76fbf71db185fc03eb27a9e0f9619a4.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><p>Occasionally, when I click on this module while <strong>Tests</strong> are running, I get the message "<span class="security-message">Security constraints prevent access to requested page" as shown in the screenshot below:</span></p><p><img   class="image-16 jive-image" src="db7e1d0edb5cd344e9737a9e0f961976.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><h4>Run &gt; Suite Run Queue</h4><p></p><p>This module shows list of Test Suites that have Started or are Running. As in <strong>Test Run Queue</strong>, this list doesn't show the execution order. NOTE: <strong>Test Suites</strong> can't be scheduled to run at a later time</p><h4><img   class="image-9 jive-image" src="9fd6a1c6db501744e9737a9e0f961944.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></h4><p></p><h4>Administration &gt; Properties</h4><p></p><p>This module shows property settings. As noted in <a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=00ecaa65dbd0dbc01dcaf3231f961970">Part 1</a>, these settings are unchecked by default and the first checkbox must be checked to be able to run tests.</p><p><img   class="jive-image image-10" src="a401c9cedb10130468c1fb651f9619d6.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><h4>Administration &gt; Step Configurations</h4><p></p><p>This module shows list of Test Step Configurations. These are used to build <strong>Test Steps</strong>. ATF comes with several predefined <strong>Test Step Configs</strong> and new ones can also be created. <strong>Test Steps</strong> can only be created from an existing <strong>Test Step Config</strong>.</p><p><img   class="image-11 jive-image" src="4e8fdc8adb5c1f048c8ef4621f96192e.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><h4>Administration &gt; Step Environments</h4><p></p><p>This module shows list of Test Step Environments. These are used in <strong>Test Step Configurations</strong> and there are two predefined environments: <strong>UI</strong> and <strong>Server</strong>. NOTE: this doesn't allow selecting a server instance, for example QA, DEV, etc.</p><p><img   class="image-12 jive-image" src="293d3739db185704ed6af3231f96193f.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><h4>Administration &gt; Test Templates</h4><p></p><p>This module shows list of Test Templates. These are used to build <strong>Test Steps</strong> in a <strong>Test</strong>. One <strong>Test Template</strong> comes with the demo data. A <strong>Test Template</strong> contains a list of <strong>Test Step Configurations</strong> in a <strong>Glide List</strong>.</p><p><img   class="image-13 jive-image" src="ebf3a18edbdc13043eb27a9e0f96198b.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><h4>Administration &gt; Step Configuration Categories</h4><p></p><p>This module shows list of Test Step Configuration Categories. These are used in the <strong>Add Test Step</strong> dialog box to filter <strong>Test Step Configurations</strong> when building <strong>Test Steps</strong>. There are two predefined categories: <strong>Form</strong> and <strong>Server</strong>.</p><p><img   class="jive-image image-14" src="a3be3842db10130468c1fb651f961957.iix" style="border: 1px solid #ccc; max-width: 1200px; max-height: 900px;"/></p><p></p><h3>TEST HIERARCHY</h3><p></p><p>Using <strong>Test Suites</strong>, multiple <strong>Tests</strong> can be bundled. A <strong>Test Suite</strong> may contain <strong>Tests</strong> and/or other <strong>Test Suites</strong>. A <strong>Test</strong> may belong to more than one <strong>Test Suite</strong>, as shown in the below hierarchy, whereas a <strong>Test Suite</strong> may belong to only one parent <strong>Test Suite</strong>:</p><p></p><p><img   class="jive-image image-18" src="8479fff5db145fc068c1fb651f961950.iix" style="max-width: 1200px; max-height: 900px;"/></p><p></p><p>When <strong>Test Suite A</strong> is executed, here's what happens (within the same level in the hierarchy diagram, assume <strong>Tests</strong> on the left have lower <strong>Execution Order</strong>, so executed first):</p><p></p><ol><li><strong>Test 1</strong> runs and finishes</li><li><strong>Test 2</strong> runs and finishes</li><li><strong>Test Suite B</strong> starts</li><li><strong>Test 3</strong> runs and finishes</li><li><strong>Test 2</strong> doesn't run again, since it already ran in <strong>Test Suite A</strong></li><li><strong>Test Suite B</strong> finishes</li><li><strong>Test Suite A</strong> finishes</li></ol><p></p><p>The test sequence is shown in the <strong>Run Test Suite</strong> dialog box while the <strong>Test Suite</strong> is running. When a <strong>Test Suite</strong> has both <strong>Tests</strong> and <strong>Test Suites</strong>, like <strong>Test Suite A</strong> above, the <strong>Tests</strong> are always executed first before <strong>Test Suites</strong>.</p><p></p><p>While ATF allows a <strong>Test</strong> to be used in multiple <strong>Test Suites</strong>, care must be exercised when there are dependencies. In the above example, <strong>Test 2</strong> was used twice, first under <strong>Test Suite A</strong> and second time under <strong>Test Suite B</strong>. We noticed that <strong>Test 2</strong> didn't run again under <strong>Test Suite B</strong> because it already ran under <strong>Test Suite A</strong>. If <strong>Test 2</strong> had dependency on <strong>Test 3</strong> in <strong>Test Suite B</strong> (e.g., using an output value from <strong>Test 3</strong>), it may not run correctly.</p><p></p><h3>TABLE RELATIONSHIPS</h3><p></p><p>I used <a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=8d2e266ddbd0dbc01dcaf3231f9619ef">GQL Pad</a> to inspect the database and put together the below ERD (Entity Relationship Diagram) showing the various tables used by ATF and their relationships. This, in conjunction with the module descriptions and test hierarchy above, provides an insight into the inner connections in ATF. For clarity, instead of showing all fields, only the reference fields are shown here to highlight the various relationships. We'll reference this later when we discuss how test records are connected and investigate any issues.</p><p></p><p><img   class="image-17 jive-image" src="7c9a748adb9cdfc068c1fb651f961955.iix" style="max-width: 960px; max-height: 720px;"/></p><p></p><p>I noticed that not all tables had data after loading the demo data; we'll see how and if they're being used as we run more tests later. The <strong>Test Suite Test [sys_atf_test_suite_test]</strong> table is a many-to-many (m2m) join table that connects between <strong>Test Suites</strong> and <strong>Tests</strong>, as shown earlier in <a title="" _jive_internal="true" href="/community?id=community_blog&sys_id=942de2e5dbd0dbc01dcaf3231f961987">Test Hierarchy</a>. <strong>Test Template [sys_atf_test_template]</strong> has a <strong>Glide List</strong> for <strong>Test Step Configs</strong> and is not explicitly related to any tables.</p><p></p><p>Next time, we'll resume running more <strong>Tests</strong> as well as creating new ones.</p><p></p><p><em>Please feel free to connect, follow, post feedback / questions / comments, share, like, bookmark, endorse.</em></p><table><tbody><tr><td style="width: 172px;">John Chun, <span style="font-size: 8pt;">PhD PMP</span> <a href="http://linkedin.com/in/DrJohnChun"><img alt="see John's LinkedIn profile" class="image-2 jive-image" src="http://megaicons.net/static/img/icons_sizes/182/456/16/linkedin-icon.png" style="height: auto; vertical-align: -13px;" title="see John's LinkedIn profile"/></a><p><a href="http://snowaid.com/"><img alt="visit snowaid" class="image-1 jive-image" src="http://snowaid.com/images/signature.png" style="height: auto; margin-top: -9px;" title="visit snowaid"/></a></p></td><td><a _jive_internal="true" href="/people/drjohnchun/content"><img alt="ServiceNow Advocate" class="image-3 jive-image" src="http://snowaid.com/images/sn_advocate_135x48.png" style="margin-top: -3px;"/></a></td></tr></tbody></table><p><span style="font-size: 10pt;"><a title="" _jive_internal="true" href="/community?id=community_forum&sys_id=76299a2ddbd897c068c1fb651f96196a">Winner of November 2016 Members' Choice Award</a></span></p>