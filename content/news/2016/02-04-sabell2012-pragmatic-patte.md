---
title: "Pragmatic Patterns Workflows  Using Data to Adjust the Flow"
date: 2016-02-03T20:19:10.000Z
authors: ["sabell2012"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=330d6ea5dbd0dbc01dcaf3231f96199a"
---
<p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Since workflows execute on the server there are a couple of questions that often arise from my clients:</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><ol style="list-style-type: decimal;"><li><span style="font-family: arial, helvetica, sans-serif;"><span style="font-size: 12pt;">How do I control the features I want the workflow to execute?</span></span></li><li><span style="font-family: arial, helvetica, sans-serif;"><span style="font-size: 12pt;">How do I do this without having to modify the workflow?</span></span></li><li><span style="font-family: arial, helvetica, sans-serif;"><span style="font-size: 12pt;">Or better: From a ServiceNow Admin: How do I give the user control of the workflow without giving them Admin rights?</span></span></li></ol><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">These workflow requirements arise so often that I have created patterns to describe them.</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"><span style="font-size: 12pt;">What are </span><a _jive_internal="true" href="/en.wikipedia.org/wiki/Software_design_pattern" target="_blank"><span style="font-size: 12pt; color: #266fc8;">patterns</span></a><span style="font-size: 12pt;">?   These are software development descriptions that quantify often repeated designs, and are a </span><a _jive_internal="true" href="/en.wikipedia.org/wiki/Software_engineering" target="_blank"><span style="font-size: 12pt; color: #266fc8;">software engineering</span></a><span style="font-size: 12pt;"> best practice.</span></span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"><strong style="font-size: 14pt;">The Patterns</strong></span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p><strong style="font-size: 12pt; font-family: arial, helvetica, sans-serif; line-height: 1.5;">1. Workflow Control Via Variable Input</strong></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">This pattern describes control via a Service Catalog variable or variables.   The User Interface (UI) would consist of choices presented to the user in a Service Catalog Request, or UI Page.   These choices would represent variable values that configure how the workflow will react. </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">The choices could be:</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><ul style="list-style-type: disc;"><li><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Added at a later time to activate portions of the workflow.</span></li><li><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Removed at a later time to de-activate portions of the workflow.</span></li></ul><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">The down-side to this pattern is that the Application Owner must request addition or removal of variable values from the ServiceNow Admin team.   However, how often would the App Owner actually want to turn things on or off?   Not often I should imagine.</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Here is a visual diagram of the pattern:</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; line-height: 1.5;"><img  class="image-1 jive-image" src="49e038cedbd49304b322f4621f9619dc.iix" style="width: 620px; height: 328px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif; line-height: 1.5;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Now to demonstrate how this works consider the following diagram:</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"><img  class="image-2 jive-image" src="50d1dc8edb105344e9737a9e0f961982.iix" style="width: 620px; height: 304px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Let us suppose that a State field in a Service Catalog form had several values.   Two of these values: Active and New would be used to trigger special behavior in a workflow. </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">If we remove the Active value from the State field choice list we will be effectively deactivating the section of the workflow that would be normally available.   No code was changed, and if the Application Owner ever wanted to reactivate that feature then they would simply request re-adding it to the dropdown.   On or off.   Simple.</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">So that is the first of the two patterns.   I almost never use this myself, but I present it here as a form of "building-block" for the next pattern.</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"><strong> </strong></span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"><strong> </strong></span></p><p><strong style="font-size: 12pt; font-family: arial, helvetica, sans-serif; line-height: 1.5;">2. Workflow Control Via Property Input</strong></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">This pattern provides control through a configuration property.   This property could be administrator accessible only, but more likely it would be available to the Application Owner through a Module and a Properties Page (user interface). This would allow for security to be easily implemented.   The Application Owner could then make features available/unavailable</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Here is a visual diagram of the pattern:</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"><img  class="image-3 jive-image" src="78317f35db9c1fc03eb27a9e0f961901.iix" style="width: 620px; height: 336px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Because of the ability to easily create property UI this provides a slick way to integrate this method into the SeviceNow application.   You could create an "Admin" module for the Application Owner that would be visible only to them.</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Another nice feature is that the properties are not limited to "on/off". They can also be string or number values.</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">The following diagram describes a possible use-case:</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"><img  class="jive-image image-4" src="fe7d4d4adb14d344e9737a9e0f961910.iix" style="width: 620px; height: 331px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-bottom: .0001pt;"></p><p><span style="font-size: 12pt;">As a ServiceNow Administrator I prefer this pattern.   Since it puts control into the Application Owner's hands.   I don't have to maintain that portion of it through requests.   One less thing on my massive to-do list to schedule into my busy day! <span __jive_emoticon_name="happy" __jive_macro_name="emoticon" class="jive_macro_emoticon jive_emote jive_macro" data-renderedposition="2744.705078125_501.3194580078125_16_16" src="/8.0.1.35b65d4/images/emoticons/happy.png"></span></span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p><strong style="font-size: 12pt; font-family: arial, helvetica, sans-serif; line-height: 1.5;">3. Workflow Control Via Variable Examination</strong></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">The final pattern, I want to show, provides control through a set of coded rules that examine the inbound variables and trigger flags according to what is found. </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"><img  class="image-5 jive-image" src="1c1ba84edbd09304b322f4621f96196e.iix" style="width: 620px; height: 336px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">With this pattern the control would be in the rules.   This could be a check for a value or combination of values which would then set a Workflow Scratchpad variable that in-turn would be used in determining the flow.</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">The following diagram presents a possible use-case:</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"><img  class="image-6 jive-image" src="99dfc44edb501f048c8ef4621f9619c9.iix" style="width: 620px; height: 336px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">To make this work you would have to use my enhanced <a title="" _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/18/mini-lab-workflows--playing-with-the-if-activity">If Activity</a>, but you get the idea.   The "rules" are in the code, and develop true/false values based on the inbound variable combinations.   This is a bit of a twist on the first pattern, and can be combined with the second to provide some flexibility.</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">Obviously you can mix and match all three patterns, but I wanted to show them in their simplest form.   Patterns provide a reusable and thoughtful approach to architecting a solution to fit your needs.   Remember: reusability and maintainability should be primary best practices!</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">In my next couple of articles I will be giving working examples of these patterns.</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; color: #666666; font-family: arial, helvetica, sans-serif;">Steven Bell</span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-family: arial, helvetica, sans-serif;"><strong style="color: purple; font-size: 12.0pt;">If you find this article helps you, don't forget to log in and "like" it!</strong></span></p><p style="margin-bottom: .0001pt;"><span style="font-family: arial, helvetica, sans-serif;"> </span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-family: arial, helvetica, sans-serif;"><strong style="color: purple; font-size: 12.0pt;">Also, if you are not already, I would like to encourage you to become a member of our blog!</strong></span></p><p><span style="font-family: arial, helvetica, sans-serif;"> </span></p>