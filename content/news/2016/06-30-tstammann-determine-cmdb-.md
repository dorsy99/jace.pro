---
title: "Determine CMDB Health with the CMDB Dashboard"
date: 2016-06-29T08:26:38.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=f4dc6665dbd0dbc01dcaf3231f961951"
---
<p style="text-align: justify;">Over the years that I have been at ServiceNow customers have often asked me how to determine the current health state of their CMDB.   They want to know if CI's of a particular class (such as cmdb_ci_server) are populated with the correct attributes.   They have expressed a desire to know if CI's meet a certain configuration standard so that CI's meet compliance rules.   Another question that has come up in the past is "How do I know what CI's are out of date or stale?"</p><p></p><p style="text-align: justify;">With the Helsinki release a new CMDB dashboard was released to address these types of questions.   The new CMDB dashboard provides an overall health score which is derived from three major metrics - correctness, compliance and completeness, each further consisting of sub-metrics. Each metric is associated with a scorecard that determines the contribution of the metric to the aggregated health at the overall CMDB level, class, and CI level.</p><p></p><p style="text-align: justify;">In the dashboard below we see the Overall health score for the entire CMDB.   The Overall score is determined by a weighted average of the 3 C's — Completeness, Compliance &amp; Correctness.   When we look at each of the 3 C's we see a score that indicates how close each metric is to achieving 100%.   Conversely, when viewing each sub-metric this is read as what percentage value the sub-metric is from achieving 100%.   So for Completeness we are only 1% from populating all of our Recommended and Required fields; whereas, for Compliance we are in the 'red' in that we are 99% from being compliant.</p><p></p><p><img   alt="Overall CMDB Dashboard.png" class="image-1 jive-image" height="405" src="eeb69182db9813043eb27a9e0f961983.iix" style="height: 405px; width: 736.364px;" width="736"/></p><p></p><p style="text-align: justify;">To derive the most business value from this dashboard it should not be constrained to showing the overall score for only the entire CMDB, thus we have provided the ability to dive into any CI class so that customers can focus on the criteria that determine health at each CI class level .</p><p></p><p style="text-align: justify;">Here we see the same dashboard focused on cmdb_ci_server.   So we can very quickly understand that while we are 98% Complete from an overall CMDB standpoint, we have some work to do to close the gap for CI's in our Server class as we are only 74% Complete.</p><p style="text-align: justify;"></p><p style="text-align: justify;"><img   alt="Overall Server Class Dashboard.png" class="image-2 jive-image" height="402" src="d0a4f002db9c5f048c8ef4621f961942.iix" style="width: 733px; height: 401.968px;" width="733"/></p><p></p><p style="text-align: justify;">So what are the three major metrics that determine Overall health score?</p><p></p><p style="text-align: justify;"><strong>Completeness</strong></p><p style="text-align: justify;">Completeness is a measurement that aggregates two sub-metrics that determine how well a CMDB is populated.</p><p></p><p style="text-align: justify;"><span style="text-decoration: underline;">Required </span></p><ul style="list-style-type: disc;"><li>Required fields are mandatory.   This measurement calculates the percentage of CI's that are not populated. Missing fields are tagged as incomplete indicating that information is missing for a particular CI.</li></ul><p></p><p style="text-align: justify;"><span style="text-decoration: underline;">Recommended</span></p><ul style="list-style-type: disc;"><li>Recommend fields are self-explanatory — they are recommended, but not required.   Again, this is a measurement of   the percentage of CI's that are not populated.</li></ul><p></p><p><img   alt="Completeness Server.png" class="image-3 jive-image" src="ddbfc84edb105304b322f4621f961930.iix" style="height: auto;"/></p><p></p><p style="text-align: justify;"><strong>Compliance</strong></p><p style="text-align: justify;">Compliance enables administrators to certify CMDB data for correctness and fix any discrepancies found in the data.   This is accomplished by defining Audit rules.</p><p></p><p style="text-align: justify;"><span style="text-decoration: underline;">Audit</span></p><ul style="list-style-type: disc;"><li>The Audit metric compares actual values of specified fields, against expected values defined in a template or in a script. There are several different types of audits within the audit module — Desired State, Architectural Compliance and Scripted Audits.   The CMDB dashboard uses the Desired State audit capability. Defining audits is a two-step process.<ul style="list-style-type: circle;"><li>Define the audit frequency and associate an audit template with the audit frequency.</li><li>Define an audit template which determines the specified fields to compare.</li></ul></li><li>NOTE:   The Desired State plug is activated by default.</li></ul><p><img   alt="Compliance Server.png" class="image-4 jive-image" height="292" src="a19de3bddbd81fc03eb27a9e0f96196b.iix" style="width: 421px; height: 291.738px;" width="421"/></p><p></p><p style="text-align: justify;"><strong>Correctness</strong></p><p style="text-align: justify;">Correctness is derived from the aggregation of three sub-metrics.</p><p style="text-align: justify;"></p><p style="text-align: justify;"><span style="text-decoration: underline;">Duplicate</span></p><p>Measures the percentage of duplicate CI's in the CMDB using identification rules. Only independent CI's are evaluated for duplication. In a set of duplicate CI's, the count of duplicate CI's is the total number of CI's in the set, minus one. The detailed graphs for a duplicate set of CIs display all the CIs in the set.</p><p style="text-align: justify;"></p><p style="text-align: justify;"><span style="text-decoration: underline;">Orphan</span></p><p style="text-align: justify;">A CI can become an orphan if it was unintentionally left in the CMDB when it is no longer needed. A CI is determined to be orphan if:</p><ul><li>The CI matches the criteria in an orphan rule.</li><li>The CI doesn't have any relationship in the relationship table.</li><li>Data is missing for the CI in its respective table, or in one of its parents' tables.</li></ul><p></p><p style="text-align: justify;">To help make this a little more concrete here are a couple of examples:</p><ul style="list-style-type: disc;"><li>You have a number of MySQL DB instances that do not have an owner and have not been used in 60 days.</li><li>You have VM's with no owners.</li></ul><p></p><p style="text-align: justify;"><span style="text-decoration: underline;">Staleness</span></p><p style="text-align: justify;">A CI's staleness is determined using reconciliation and staleness rules for the CI's class, if it exists. Otherwise, there is a system staleness property that is used. A CI is determined to be stale if:</p><ul><li>The CI was not updated by the data source that was the last to update the CI, within the time frame defined in the staleness rule for the class for that specific data source.</li><li>The CI wasn't updated for the length of time specified by the CMDB health system property glide.cmdb.health.staleness.</li></ul><p>In addition, a relationship in which a stale CI is a parent or a child, is determined to be a stale relationship.</p><p><img   alt="Correctness Server.png" class="image-5 jive-image" height="298" src="1e81d902db1813043eb27a9e0f96195a.iix" style="width: 420px; height: 298.398px;" width="420"/></p><p></p><p>Thus far we have looked at the dashboard for CI's, but what about the relationships between CI's?   We need a way to visualize the health of how our CI's are related to each other.   Fortunately, the ability to view the health of relationships is only a click away at the top right of our dashboard as illustrated below.</p><p></p><p>Again we have an overall score that is derived from three metrics - Duplicate, Orphan and Stale relationships.</p><p style="text-align: justify;"></p><p style="text-align: justify;"><span style="text-decoration: underline;">Duplicate</span></p><p style="text-align: justify;">Duplicate relationships are defined as 2 relationship records that have the same parent and child.</p><p style="text-align: justify;"></p><p style="text-align: justify;"><span style="text-decoration: underline;">Orphan</span></p><p style="text-align: justify;">An Orphan relationship is one where either the parent or the child is missing.</p><p style="text-align: justify;"></p><p style="text-align: justify;"><span style="text-decoration: underline;">Stale</span></p><p style="text-align: justify;">A relationship is considered to be stale if the parent and/or child is considered to be stale.</p><p></p><p><img   alt="Relationships Server.png" class="image-6 jive-image" height="458" src="cc1ea842db58dfc03eb27a9e0f961924.iix" style="width: 738px; height: 457.964px;" width="738"/></p><p></p><p>In this blog post we introduced how the Helsinki release has made major steps forward in providing visibility into overall CMDB health as well as providing the ability to drill into any CMDB class and get a more granular look at the attributes for CI's within a particular class.   We also introduced a dashboard to visualize the relationships between the CI's within the CMDB so that we now have a complete picture of overall CMDB health.</p><p></p><p>In our next installment we will dive into how to configure the metrics that determine the health scores as well as look at scheduled jobs that are run to apply the metric rules to the CMDB to produce the CMDB Dashboard scores.</p><p></p><p>For more information check out the following video based blog on the CMDB Dashboard - <a title="" _jive_internal="true" data-containerid="2927" data-containertype="37" data-objectid="5711" data-objecttype="38" href="/community?id=community_blog&sys_id=9a9c6ee1dbd0dbc01dcaf3231f9619c4">New in Helsinki: CMDB Health Dashboard</a></p>