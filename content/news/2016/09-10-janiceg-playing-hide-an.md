---
title: "Playing hideandseek with Service Catalog task variables"
date: 2016-09-09T22:28:09.000Z
authors: ["janiceg"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=44ac2225dbd0dbc01dcaf3231f9619db"
---
<p>Sometimes you might want to<a title="i.service-now.com/kb_view.do?sysparm_article=KB0546699" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0546699"> hide a Service Catalog variable</a>, for example, based on the customer's geographic location or on the item ordered. (You might, for example, want to hide the "cpu_speed" variable if customers order an Executive Desktop.) Using a Service Catalog UI policy to hide a task variable does not work as well as one might hope: th<span style="text-align: start;">e variable is hidden in some places but not others. Hide-and-seek with task variables has been a game <span style="text-decoration: line-through;">enjoyed</span> played between task variables and users on certain patches of Eureka.</span></p><p></p><h2><span style="text-align: start;">When do Catalog task variables appear/disappear?</span></h2><div style="float: right; clear: left;"><img   alt="hide.jpg" class="image-1 jive-image" src="4cadd986db5cd344e9737a9e0f9619e6.iix" style="height: auto;"/></div><ul><li>Using the catalog client script, <span style="font-family: courier new,courier;">g_form.setDisplay</span> works on the catalog item but does not hide the variable on the task</li><li>Similarly, using a catalog UI policy works on the catalog item but it does not hide the variable on the task</li><li>Using <span style="font-family: courier new,courier;">g_form.setVisible</span> does not hide the variable on the catalog item or task</li></ul><p></p><h2><span style="text-align: start;">Workaround for disappearing catalog task variables</span></h2><p>To work around this issue, create an <span style="font-family: arial,helvetica,sans-serif;">onLoad</span> catalog client script that does both <span style="font-family: 'courier new', courier;">setVisible</span> and <span style="font-family: 'courier new', courier;">setDisplay</span>.</p><ol><li><p>Navigate to <strong>Service Catalog &gt; Catalog Client Scripts</strong>.</p></li><li><p>Click <strong>New</strong>.</p></li><li><p>Set <strong>Type</strong> to <strong>onLoad</strong>.</p></li><li><p>Set <strong>Applies to Requested Items</strong> to <strong>true</strong>.</p></li><li><p>Set Applies to Catalog Task to <strong>true</strong>.</p></li><li><p>Within the function <span style="font-family: courier new,courier;">onLoad()</span> in the script field, add the following two lines:</p><p><span style="font-family: 'courier new',courier;">g_form.setVisible('variables.macro_name', false);</span></p><p><span style="font-family: 'courier new',courier;">g_form.setDisplay('</span><em>variable_sys_id</em><span style="font-family: 'courier new',courier;">', false);</span></p><p>where <em>variable_sys_id</em> is the sys_id of the variable of type 'Macro'</p><p></p><img  alt="onload-function.png" class="image-2 jive-image" src="d747788adb989304b322f4621f9619cc.iix" style="height: auto; display: block; margin-left: auto; margin-right: auto;"/></li></ol><p></p><p>The variables should now remain hidden in all desired locations.</p><p></p><h2><span style="text-align: start;">Related information</span></h2><ul><li><p><a title="nataraj_066" __default_attr="20848" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="nataraj_066" data-renderedposition="1020.4403076171875_37.99715805053711_92_16" href="/community?id=community_user_profile&user=88019ea1db981fc09c9ffb651f96199e">nataraj_066</a>   got an answer to a <a title="" _jive_internal="true" href="/community?id=community_question&sys_id=a81e0faddb9cdbc01dcaf3231f9619a0" target="_blank">query</a> asking how to show a catalog item variable in one task and hide it on a different task</p></li><li><p>See the product documentation <a title="ocs.servicenow.com/bundle/geneva-it-service-management/page/product/service_catalog_management/task/t_AddCatalogItemVariablesToATask.html" href="https://docs.servicenow.com/bundle/geneva-it-service-management/page/product/service_catalog_management/task/t_AddCatalogItemVariablesToATask.html">Add catalog item variables to a task</a> topic</p></li><li><p>See the product documentation <a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/script/client_scripts/reference/r_AvailableHelperFunctions.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/script/client_scripts/reference/r_AvailableHelperFunctions.html" target="_blank">What are some of the available helper functions?</a> topic for a list of g_form objects you can use in your scripts to simplify certain common programming tasks such as hiding or showing fields</p></li><li>As well as the known error for hiding variables on a task in the catalog: <a href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0546699" title="https://hi.service-now.com/kb_view.do?sysparm_article=KB0546699">ServiceNow KB: Using a Service Catalog UI Policy to hide a variable of type Macro in the Service Catalog does not hide t…</a></li></ul>