---
title: "Workflows Not an issue due to data or setup You need a Timer"
date: 2016-07-14T03:36:12.000Z
authors: ["christopher.thompson"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=dcfc62a5dbd0dbc01dcaf3231f961925"
---
<p>Workflows can be very complex and complicated. Sometimes, workflows can even be a little unpredictable, even on occasion, they just don't seem to work right. In most cases when there is an issue with a workflow, it's usually two things:</p><ol><li>A data issue</li><li>The workflow is not setup right.</li></ol><p></p><p>If it does happen to be one of these two things, you can start to troubleshoot by checking the <a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/workflow_validation/concept/c_WorkflowValidation.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/workflow_validation/concept/c_WorkflowValidation.html">Workflow Validation</a> process. There is a third "nugget" that could be causing you some grief, and that is timing. Sometimes, the workflow may not be reading in the most "current" information, and thus it doesn't behave as you might expect. When this situation occurs, the best solution you will come across is to <strong>add a Timer.</strong></p><p></p><p>Now, while there are some good descriptions and definitions that describe <a title="ocs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/workflow_activities/reference/r_Timer.html" href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/workflow_activities/reference/r_Timer.html">Timer activity in workflows</a>, there doesn't seem to be much that explains exactly HOW this Timer activity works on the instance and WHY this can work as a possible workaround for these timing issues. For basic details on this Timer activity see <a __default_attr="5373" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Using Workflow Timer Activity &amp;amp; SLA Percentage Timer " data-renderedposition="218.21022033691406_7.997159004211426_1124_36" href="/community?id=community_blog&sys_id=889caae1dbd0dbc01dcaf3231f9619b5" modifiedtitle="true" title="Using Workflow Timer Activity &amp;amp; SLA Percentage Timer ">Using Workflow Timer Activity &amp; SLA Percentage Timer </a> and <a href="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/workflow_activities/concept/c_TimerActivities.html" title="https://docs.servicenow.com/bundle/geneva-servicenow-platform/page/administer/workflow_activities/concept/c_TimerActivities.html">Timer activities.</a></p><p></p><p>I will walk you through a simple timing issue scenario with a Workflow and how this type of issue can occur, and then we'll see how adding a Timer can help to address this situation and why this works. We will go about this by:</p><ol><li>Setting up an example workflow</li><li>Encountering the workflow issue</li><li>Applying the Timer to the workflow</li></ol><p></p><h1>Setting up an example workflow</h1><p>First, we need to setup a demo workflow to demonstrate a timing issue scenario. I have actually attached a ZIP file with all the necessary files that you can import to test this out with (from a Helsinki version), or you can always create this on your own.</p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="497.0312194824219_7.997159004211426_1155_62"><p>NOTE: This workflow is assuming some "default" values for fields like "state", so if on your instance you have modified these default values, then this behavior may not work as expected when using the provided files.</p></pre><p></p><p>First, there is a record called "workflow_no_timer.xml". This contains the workflow and all the activities to demonstrate the first part of this issue.</p><p></p><p>This workflow will contain the following activities in this order.</p><ol><li><span style="color: black; font-size: 10pt; font-family: Arial;">Begin</span></li><li><span style="color: black; font-size: 10pt; font-family: Arial;">Run Script</span><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         Name: Set Request to Work in Progress</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         Script:</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         --------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------</span></span></span></span></span></span></span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         var id = current.request.sys_id;</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         var req = new GlideRecord('sc_request');</span></p><p><span style="font-size: 10pt; font-family: Arial; color: black;">         req.get(id);</span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         req.state = '2';</span></p><p><span style="font-size: 10pt; font-family: Arial; color: black;">         req.update();</span></p><p><span style="font-size: 10pt; font-family: Arial; color: black;"><span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">         --------</span><span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">--------</span></span></span></span></span></span></span></p></li><li>Wait for Condition<p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         Name: Wait for State = Work In Progress</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         Condition: State…is…Work in Progress</span></p></li><li>End</li></ol><p></p><p>Second, there is a Business Rule called "Change RITM to WIP" that contains the following values.</p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         Name: Change RITM to WIP</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         Table: Request [sc_request]</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         When: after</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         Order: 100</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         Filter Condition: State….changes to….Work in Progress</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         Script:</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         ----------------------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">----------------------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">----------------------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">----------------------</span></span></span></span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         (function executeRule(current, previous /*null when async*/) {</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">                       var item = new GlideRecord('sc_req_item');</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">                       item.addQuery('request', current.sys_id);</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">                       item.query();</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">                       </span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">                       while (item.next()) {</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">                                               item.state = '2';</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">                                               item.update();</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">                       }                     </span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">         })(current, previous);</span></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt;"><span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">         ----------------------</span><span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">----------------------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">----------------------<span style="color: #000000; font-family: Arial; font-size: 13.3333330154419px;">----------------------</span></span></span></span></p><p></p><p>Finally, there are a couple of other Business Rules you can import as well, although those are just for debugging purposes and I will explain on those later.</p><p></p><p>All you need to then do, once you import these files, is to link this Workflow to a Catalog Item of your choice (in my example, I used the OOB "Apple iPad 3" Item) and then order the Item via the Service Catalog and see what happens.</p><p></p><h1>Encountering the workflow issue</h1><p>Now, based on this Workflow, this Business Rule, and how a Request and Requested Item ordering process works (See <a title="Which came first, the Request or the Requested Item?" __default_attr="5092" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Which came first, the Request or the Requested Item?" data-renderedposition="1545.9232177734375_761.2243041992188_358_16" href="/community?id=community_blog&sys_id=735c6aa1dbd0dbc01dcaf3231f9619e1">Which came first, the Request or the Requested Item?</a> for more details about this process), this is the following behavior you may expect.</p><ol><li>After ordering the Item, the Request record will go through its process to get Approved.<ol style="list-style-type: lower-alpha;"><li>In my example, it just gets "auto-approved" via the default Service Catalog Request workflow.</li></ol></li><li>Once that happens and we start running this "Test Workflow" against the Requested Item, we will reach this "Set Request to Work in Progress" Activity, which will update the parent Request record linked to this Requested Item to set the state to "2" (Work in Progress)</li><li>While that update occurs, this "Change RITM to WIP" Business Rule will get called and it will in turn update this Requested Item record to set its state to "2" (Work in Progress) as well.</li></ol><p></p><p>What we would expect now is that the workflow should then proceed to this "Wait for State = Work In Progress" activity and it should see that the State has been updated to "Work In Progress" on the Requested Item record (based on the Business Rule being ran just previously), and then we should proceed to the end of the workflow.</p><p></p><p>As you should probably guess, this is not what occurs. Everything up to step 3 does exactly what it is supposed to do; however, as you can see in this screenshot below, the workflow stalls at this "Wait for Condition" activity.</p><p><img   alt="stall wait for condition.jpg" class="image-6 jive-image" src="4df32d02db105b04ed6af3231f961928.iix" style="width: 620px; height: 427px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p>This happens even though if you go open the Requested Item record, you will see that this has been updated to "Work in Progress".</p><p><img   alt="stalled work in progress.jpg" class="image-7 jive-image" src="d10e788adb5c9344e9737a9e0f9619a2.iix" style="width: 620px; height: 184px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p>The main reason this is occurring has to do with how the workflow is pulling a reference to the record it is tied to (in this case the RITM record) and when it sees (or doesn't see) updates that are being made to this record as this workflow is running. We can see this, for example, if we add some debugging (via Business rules) which I have also included in the attachment in this article as well (see "State Before Workflow" and "State After Workflow").</p><p></p><p>For example, after Step 1 has been completed above and we are starting to run this "Test Workflow," the workflow at this time will pull a reference to the "current" record with whatever values are set on that record at that time.</p><p></p><p>By default, a Requested Item when first opened is set with the state = 1 (Open). We can see this based on this first log entry below from the "State Before Workflow" Business Rule.</p><p></p><table border="1"><tbody><tr><td><p><span style="font-size: 10pt; font-family: Arial; color: #3334ca; background: white;">11:52:11.677: Execute before update business rules on sc_req_item:RITM0010017 before engines (order &lt;1000)</span></p><p style="background: white;"><span style="font-size: 10.0pt; font-family: Arial; color: darkblue;"><span style="color: #3334ca;">11:52:11.678: Global           ==&gt; '</span><span style="color: #278efc;">State Before Workflow</span><span style="color: #3334ca;">' on sc_req_item:RITM0010017</span></span></p><p style="background: white;"><span style="font-size: 10pt; font-family: Arial; color: #3334ca;">11:52:11.678: : State Before Workflow: State is: Open</span></p><p style="background: white;"><span style="font-size: 10.0pt; font-family: Arial; color: darkblue;"><span style="color: #3334ca;">11:52:11.680: Global           &lt;== '</span><span style="color: #278efc;">State Before Workflow</span><span style="color: #3334ca;">' on sc_req_item:RITM0010017</span></span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: arial, helvetica, sans-serif; color: black;">Then, we will see the "Test Workflow" will get started (based on the "Start Workflow" Business Rule) and will reach the "Set Request to Work in Progress" activity.</span></p><p></p><p><span style="font-size: 10pt; font-family: Arial; color: #3334ca; background: white;">11:52:11.692: Global ==&gt; '</span><span style="color: #278efc; background: white; font-size: 10.0pt; font-family: Arial;">Start Workflow</span><span style="font-size: 10pt; font-family: Arial; color: #3334ca; background: white;">' on sc_req_item:RITM0010017</span></p><p><span style="font-size: 10pt; font-family: Arial; color: #3334ca; background: white;">11:52:11.747: Execute before insert business rules on wf_context:Test Workflow before engines (order &lt;1000)</span></p><p><span style="font-size: 10pt; font-family: Arial; color: #3334ca; background: white;">11:52:11.760: completed Begin(83d59cf0db24a2009b67f5131f9619d9): event=execute</span></p><p></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: arial, helvetica, sans-serif; color: black;">As we progress through to update the Request record, and then also make the update on the RITM record, we see again the "State Before Workflow" Business Rule will fire, only this time the State is now changed to "2" (Work in Progress).</span></p><p></p><p><span style="font-size: 10pt; font-family: Arial; color: #3334ca; background: white;">11:52:11.817: Execute before update business rules on sc_request:REQ0010014 after engines (order &gt;=1000)</span></p><p><span style="font-size: 10pt; font-family: Arial; color: #3334ca; background: white;">11:52:11.854: Global ==&gt; '</span><span style="color: #278efc; background: white; font-size: 10.0pt; font-family: Arial;">Change RITM to WIP</span><span style="font-size: 10pt; font-family: Arial; color: #3334ca; background: white;">' on sc_request:REQ0010014</span></p><p style="background: white;"><span style="font-size: 10.0pt; font-family: Arial; color: darkblue;"><span style="color: #3334ca;">11:52:11.860: Global ==&gt; '</span><span style="color: #278efc;">State Before Workflow</span><span style="color: #3334ca;">' on sc_req_item:RITM0010017</span></span></p><p style="background: white;"><span style="font-size: 10pt; font-family: Arial; color: #3334ca;">11:52:11.861: : State Before Workflow: State is: Work in Progress</span></p><p style="background: white;"><span style="font-size: 10.0pt; font-family: Arial; color: darkblue;"><span style="color: #3334ca;">11:52:11.865: Global &lt;== '</span><span style="color: #278efc;">State Before Workflow</span><span style="color: #3334ca;">' on sc_req_item:RITM0010017</span></span></p><p></p><p style="background: white;"><span style="color: #000000; font-size: 13.3333330154419px; font-family: arial, helvetica, sans-serif;">At this point, you may expect the Test Workflow to start again here, however, because the workflow is still running from before, nothing will happen in this particular update process.</span></p><p style="background: white;"><span style="color: #000000; font-size: 13.3333330154419px; font-family: arial, helvetica, sans-serif;">So, instead we will see our "After" Business Rule get ran before then completing this "Set Request to Work in Progress" activity.</span></p><p style="background: white;"></p><p style="background: white;"><span style="font-size: 10.0pt; font-family: Arial; color: darkblue;"><span style="color: #3334ca;">11:52:11.884: Global ==&gt; '</span><span style="color: #278efc;">State After Workflow</span><span style="color: #3334ca;">' on sc_req_item:RITM0010017</span></span></p><p style="background: white;"><span style="font-size: 10pt; font-family: Arial; color: #3334ca;">11:52:11.885: : State After Workflow: State is: Work in Progress</span></p><p style="background: white;"><span style="font-size: 10.0pt; font-family: Arial; color: darkblue;"><span style="color: #3334ca;">11:52:11.890: Global &lt;== '</span><span style="color: #278efc;">State After Workflow</span><span style="color: #3334ca;">' on sc_req_item:RITM0010017</span></span></p><p><span style="font-size: 10pt; font-family: Arial; color: #3334ca; background: white;">11:52:12.263: completed Set Request to Work in Progress(b198d834db24a2009b67f5131f9619fc): event=execute</span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">Next, we we proceed to the "</span><span style="font-size: 10pt; font-family: Arial; color: black;">Wait for State = Work In Progress" activity which then gets "completed", however it doesn't proceed to the "End" activity.</span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="color: #3334ca; font-size: 13.3333330154419px; font-family: Arial;">11:52:12.314: completed Wait for State = Work In Progress(83d59cf0db24a2009b67f5131f9619da): event=execute</span></p><p style="margin-bottom: .0001pt; background: white;"></p><p style="margin-bottom: .0001pt; background: white;"><span style="font-size: 10pt; font-family: Arial; color: black;">Instead, we see that this ends the entire process as per the "Start Workflow" activity, and then when we run our "State After Workflow" Business Rule here, because this correlates to the state of the record prior to running this Business Rule, we will see that this shows the state still being at "Open".</span></p><p></p><p><span style="font-size: 10pt; font-family: Arial; color: #3334ca; background: white;">11:52:12.402: Global &lt;== '</span><span style="color: #278efc; background: white; font-size: 10.0pt; font-family: Arial;">Start Workflow</span><span style="font-size: 10pt; font-family: Arial; color: #3334ca; background: white;">' on sc_req_item:RITM0010017</span></p><p style="background: white;"><span style="font-size: 10.0pt; font-family: Arial; color: darkblue;"><span style="color: #3334ca;">11:52:12.402: Global           ==&gt; '</span><span style="color: #278efc;">State After Workflow</span><span style="color: #3334ca;">' on sc_req_item:RITM0010017</span></span></p><p style="background: white;"><span style="font-size: 10pt; font-family: Arial; color: #3334ca;">11:52:12.402: : State After Workflow: State is: Open</span></p><p style="background: white;"><span style="font-size: 10.0pt; font-family: Arial; color: darkblue;"><span style="color: #3334ca;">11:52:12.404: Global           &lt;==</span> '<span style="color: #278efc;">State After Workflow</span><span style="color: #3334ca;">' on sc_req_item:RITM0010017</span></span></p></td></tr></tbody></table><p>At this point, you may think that the "Wait for Condition" activity should have queried the current version of the RITM record that had its State value updated to "Work in Progress", however instead, it was actually still referencing the version that it originally pulled prior to when workflow was started, which still had State as "Open".</p><p></p><p>While I'm not exactly sure why this was setup this way, my assumption is that to avoid having to make multiple queries to the current GlideRecord during the execution of a workflow process, it was decided to pull a reference to the "current' record at the beginning of starting this process, and then only reference the values from this referenced copy throughout the update of the workflow, even if there are Business Rules or other scripts in the background that are trying to update this record simultaneously.</p><p></p><p>I will add that if you have an activity like a "Set Values" activity that does make an update to the current record during an update process, when you proceed to the next activity, this will get reflected if you are trying to query for this value. This is likely because there is a process from the "Set Values" activity to make sure this value gets saved and referenced prior to running the next activity.</p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="3739.28955078125_7.997159004211426_1155_62"><p>In this example, the updated State value from running this "Change RITM to WIP" Business Rule will end up saving and sticking to this record, hence why you still see the State updated to "Work in Progress" on the RITM record itself, even though the workflow didn't see it that way at the particular moment we were referencing it.</p></pre><p>So, overall, I hope this helps to explain and understand this potential issue, as this may be a scenario you may run into when trying to correlate updates with different records during a workflow process.</p><p></p><p></p><h1>Applying the Timer to the workflow</h1><p>Being that this is a very trivial workflow, it's obvious that there are different ways to be able to fix this particular issue (for example, the workflow should probably just update the State to "Work in Progress" directly via a Set Values activity in the workflow).</p><p></p><p>For arguments sake (and because in a real-life scenario, your workflows may be much more complex and intricate to where a simple fix like this may not be applicable), let's assume we have to keep this process in place.</p><p></p><p>My only other suggestion to help address this would be to add a Timer in between the "Run Script" and "Wait for Condition" activities, like such.</p><p><img   alt="add timer workflow.jpg" class="image-8 jive-image" src="8fff5cc6db10d704ed6af3231f9619f9.iix" style="width: 620px; height: 367px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p>This Timer can be set to as little as 1 second, but that doesn't necessarily mean that it will always be ran in 1 second, and I will explain on that shortly.</p><p></p><p>Now, what we will end up seeing when running through this test with this Timer in place is that the steps and process will pretty much be the same as when we ran this previously, however now with the Timer in place, if you go and check the workflow once all the activities have been ran, you will see here that the workflow has proceeded past this Wait for Condition activity as expected.</p><p><img   alt="wait for timer condition.jpg" class="image-9 jive-image" src="1de0c8c2dbd85704ed6af3231f961980.iix" style="width: 620px; height: 358px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p>So, how exactly did adding this Timer activity help to address this issue? Well, the first thing to understand is what exactly does this Timer activity do?</p><p></p><p>Once this Timer activity is called in the Workflow, this actually creates a Scheduled job in the sys_trigger table that will have a name like "WFTimerxxxxxxxx".</p><p>You can see this if you were to increase the Timer to a value like "1 minute," then while this Workflow and Timer are running, go to the sys_trigger table and search for this "WFTimer" record.</p><p><img   alt="wftimer record.jpg" class="image-10 jive-image" src="70552d86db1053043eb27a9e0f96198b.iix" style="width: 620px; height: 67px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p>The characters that are after the "WFTimer" in the name actually reference the wf_executing_activity record that created this timer in your workflow.</p><p></p><p>Now, when I mentioned earlier about that even though you set this for 1 second, it may actually take longer than that for this to actually be ran, this is because as with most jobs in the sys_trigger table, it is dependent on when the "events process" Scheduled job is ran to check to run this "WFTimer" job, and also if you have potentially have a backlog of other jobs that are taking a long time to run, it may get queued up as well.</p><p></p><pre __default_attr="info" __jive_macro_name="alert" alert="info" class="jive_text_macro jive_macro_alert" data-renderedposition="5328.45166015625_7.997159004211426_1155_62"><p>In <span style="text-decoration: underline;"><a title="Diagnosing and remedying stuck event processes" __default_attr="4109" __jive_macro_name="blogpost" class="jive_macro jive_macro_blogpost" data-orig-content="Diagnosing and remedying stuck event processes" data-renderedposition="5341.1787109375_56.19685745239258_331_16" href="/community?id=community_blog&sys_id=f0dc6665dbd0dbc01dcaf3231f961955">Diagnosing and remedying stuck event processes</a></span> it explains diagnosing Event Processing issues if you ever run into this situation of events not processing in a timely manner on your instance.</p></pre><p></p><p>Once this Timer Scheduled job is ran from the sys_trigger table, it will then call an update to complete the "Timer" activity in the workflow and proceed to the next activity. Meanwhile, from the Workflow perspective, as mentioned before, when we start the workflow, we pull in the "current" version of the RITM record to reference as we run through this workflow.</p><p></p><p>Before, this was the version we referenced throughout this example ordering process, even as we reached the "Wait for Condition" activity. Now, with having this Timer in place, this actually stops the process of the Workflow at this Timer activity, which then allows the Requested Item record to get its State value updated to "Work in Progress" after running the "Set Request to Work in Progress" activity.</p><p></p><p>Once the Timer is complete and we start back up the Workflow, since this is now considered as a "new" update, the Workflow at this time will now grab the "current" version of the RITM record at this moment, and in this reference, it will see the State as "Work in Progress".</p><p></p><p>When we then reach the "Wait for Condition" activity, we now see that the State is set to this value and we will then proceed to the End as expected.</p><p>----------------------------------------------------------------</p><p></p><p>Overall, using this "Timer" workaround should only be considered as a last resort if there is no other option to implement your current setup. In the rare cases where you may need this type of behavior to occur, this is an option that is available and can be useful.</p>