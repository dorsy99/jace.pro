---
title: "Community Code Snippets Some Observations on parseInt and parseFloat"
date: 2016-07-14T17:55:32.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=6a9caee1dbd0dbc01dcaf3231f961941"
---
<p dir="ltr"><span style="font-family: 'Times New Roman'; color: #666666; font-weight: bold;">NOTE</span><span style="font-family: Arial; color: #666666;">: </span><span style="font-family: 'Times New Roman'; color: #666666;">MY POSTINGS REFLECT MY OWN VIEWS AND DO NOT NECESSARILY REPRESENT THE VIEWS OF MY EMPLOYER, ACCENTURE.</span></p><p dir="ltr"></p><p dir="ltr"><span style="font-family: 'Times New Roman'; color: #666666;">DIFFICULTY LEVEL:   </span><span style="font-family: 'Times New Roman'; color: #bf9000; font-weight: bold;">INTERMEDIATE</span></p><p dir="ltr"><span style="font-family: 'Times New Roman'; color: #666666;">Assumes a rudimentary knowledge and/or familiarity of scripting in ServiceNow.</span></p><p dir="ltr"><span style="font-family: Arial; color: #666666;">____________________________________________________________________________</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Something I see as a common Scripting error is the use of adding a couple of integers and the values getting implicitly converted to a string.   For example:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14684542105074633 jive_text_macro" data-renderedposition="179_8_1192_64" jivemacro_uid="_14684542105074633"><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">var integerOne = "15";   // string</span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">var integerTwo = 30;   // number</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">gs.print(integerOne + integerTwo);</span></p></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Will produce:</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #ff0000; font-weight: bold;">1530</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Nice, huh?   Welcome to JavaScript.   :-p</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">JavaScript is a loosely "typed" computer language (i.e. there is no way to explicitly specify a variable as an Integer, Decimal, and so on).   The language has to make a judgement call on what to do with the values during run-time.   If it runs into a situation like that demonstrated above, it takes the lowest common denominator (string) and converts everything to that.   THEN since the plus ("+") symbol is overloaded in functionality to mean "Add" (if two numbers) or "Concatenate" (if two strings) the language happily concatenates the two values together.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">This can lead you to times where you say things like:</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #000000;">"I HATE JAVASCRIPT!"</span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #000000;">"JavaScript Stinks!"</span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #000000;">"I Wish JavaScript Were a Real Language!"</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">So, let's explore this topic a little (implicit conversion, not the "I hate…" part).</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">JavaScript provides us with ways to force the language to view the variable values as they were intended.   This can be tedious, but if you must have proper handling of values it is the only way.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">The two ways I will present here are:</span></p><p></p><p dir="ltr" style="padding-left: 30px;"><span style="font-size: 12pt;"><span style="font-family: Arial; color: #000000;">   </span><span style="font-family: Arial; color: #000000;">parseInt</span></span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-size: 12pt;"><span style="font-family: Arial; color: #000000;">   </span><span style="font-family: Arial; color: #000000;">parseFloat</span></span></p><p><span style="font-size: 12pt;"><br/><br/></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000; font-weight: bold;">parseInt</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">The first of these I want to describe is parseInt.   This allows you to force a string integer value to be an actual integer value.   In the following example integerValue is an actual integer.</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14684542035795040" data-renderedposition="1023_8_1192_32" jivemacro_uid="_14684542035795040"><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">var integerCheck = "15";</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">var integerValue = parseInt(integerCheck); // convert to actual integer</span></p></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">However you can mess this up by trying to then add it to a string integer.   If you do that it converts it to a string and concatenates it to the other string value.</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14684541957326293 jive_text_macro" data-renderedposition="1121_8_1192_96" jivemacro_uid="_14684541957326293"><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">var integerCheck = "15";</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">var integerValue = parseInt(integerCheck); // convert to actual integer</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">integerValue = integerValue + integerCheck;   // casts back to a string!</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">gs.print(integerValue); // 1515</span></p></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Doing a typeof will verify that it is string:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14684541905401852" data-renderedposition="1283_8_1192_16" jivemacro_uid="_14684541905401852"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">gs.print(typeof integerValue); // string</span></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Nice, huh?   But before you get to cussing… this will fix it:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14684541860517243 jive_text_macro" data-renderedposition="1365_8_1192_32" jivemacro_uid="_14684541860517243"><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">integerValue = parseInt(integerValue) + parseInt(integerCheck);</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">gs.print(integerValue); // 30</span></p></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Doing a typeof will verify that it is truely a number:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="_jivemacro_uid_14684541798373544 jive_macro_code jive_text_macro" data-renderedposition="1463_8_1192_16" jivemacro_uid="_14684541798373544"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">gs.print(typeof integerValue); // number</span></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Here is another example of careful conversion:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14684541730513155 jive_text_macro" data-renderedposition="1545_8_1192_64" jivemacro_uid="_14684541730513155"><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">integerValue = 15; // re-cast it to an integer</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">integerValue = integerValue + parseInt(integerCheck);   // works correctly</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">gs.print(integerValue); // 30</span></p></pre><p><span style="font-size: 12pt;"><br/><br/></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">So that covers integers pretty well.   What about decimal numbers?</span></p><p><span style="font-size: 12pt;"><br/><br/></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000; font-weight: bold;">parseFloat</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Starting out with a string representation of a decimal we can convert it to an actual decimal by doing a parseFloat.   Example:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14684541669939030 jive_text_macro" data-renderedposition="1819_8_1192_80" jivemacro_uid="_14684541669939030"><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">var decimalCheck = "20.5";</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">var decimalValue = parseFloat(decimalCheck); // convert to actual decimal</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">gs.print(decimalValue); // 20.5</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">gs.print(typeof decimalValue); // number</span></p></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">We can see it works exactly the same as parseInt.   Now, notice what happens if we don't convert all of the values:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14684541611174517 jive_text_macro" data-renderedposition="1965_8_1192_48" jivemacro_uid="_14684541611174517"><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">decimalValue = decimalValue + decimalCheck; // casts back to a string!</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">gs.print(decimalValue); // 20.520.5</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">gs.print(typeof decimalValue); // string</span></p></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Yup!   Same crummy behavior.   We get a useless string-i-fied value.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">However with decimal strings; if you convert everything to to a decimal number you will notice an error creeping into the result.   This is because of the way JavaScript handles the conversions under-the-hood.   It does not do the greatest job with this sort of stuff.   Because of this I tend to stay far away from parseFloat.</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14684541553714559 jive_text_macro" data-renderedposition="2148_8_1192_32" jivemacro_uid="_14684541553714559"><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">decimalValue = parseFloat(decimalValue) + parseFloat(decimalCheck); // now it works correctly</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">gs.print(decimalValue); // 41.019999999999996</span></p></pre><p><span style="font-size: 12pt;"><br/><br/></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000; font-weight: bold;">parseBool</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">First, let me make it clear, there is no such thing in the JavaScript language as parseBool!   That doesn't keep me from wishing I had the functionality from time-to-time though.   So here you go.   An example of the one I use.</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_1468454149725748 jive_text_macro" data-renderedposition="2342_8_1192_48" jivemacro_uid="_1468454149725748"><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">function parseBool(value) {</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">       return (/^(true|1|yes|on)$/i).test(value);</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">}</span></p></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Some testing:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="_jivemacro_uid_14684541398985818 jive_macro_code jive_text_macro" data-renderedposition="2456_8_1192_224" jivemacro_uid="_14684541398985818"><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">var boolCheck = 'false';</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">// various tests for parseBool</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">var boolValue = parseBool('YES');   // true</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">//var boolValue = parseBool('no');   // false</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">//var boolValue = parseBool('on');   // true</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">//var boolValue = parseBool(boolCheck);   // false</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">//var boolValue = parseBool('true');   // true</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">//var boolValue = parseBool('false');   // false</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">if (parseBool(boolCheck) === true) {</span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: Arial; color: #0000ff;">   </span><span style="font-family: Arial; color: #0000ff;">gs.print('parseBool worked');</span></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #0000ff;">}</span></p></pre><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">You can play with it.   </span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">Anyway, there you go, now you know a bit about the JavaScript parseInt, and parseFloat and why you might need them while Scripting.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: Arial; color: #000000;">I want to highly recommend taking the </span><a _jive_internal="true" href="/www.servicenow.com/services/training-and-certification/scripting-in-servicenow-training.html"><span style="font-family: Arial; color: #1155cc; text-decoration: underline;">ServiceNow Scripting</span></a><span style="font-family: Arial; color: #000000;"> training class should you get the opportunity.   </span></span></p><p dir="ltr"></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #000000;">Steven Bell</span></p><p></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #000000;"><a _jive_internal="true" href="/lh4.googleusercontent.com/eZtmYidOgxWPvdM4OTgO-LZvH8Sr7r5MGCyEG7cecdsNxz4EE3u486EcFyAaNaeRQHSgcUajyQb3w5edtAkg5WIYeKAJlrUjfO0glzI9AIWDoPtKz6plvkpLyJFCxXWqxOt-yyYN" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank"><img alt="accenture logo small.jpg" class="jive-image" height="65" src="https://lh4.googleusercontent.com/eZtmYidOgxWPvdM4OTgO-LZvH8Sr7r5MGCyEG7cecdsNxz4EE3u486EcFyAaNaeRQHSgcUajyQb3w5edtAkg5WIYeKAJlrUjfO0glzI9AIWDoPtKz6plvkpLyJFCxXWqxOt-yyYN" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="243"/></a></span><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #000000;"><a _jive_internal="true" href="/lh5.googleusercontent.com/yfIiLmOSmiLJa5fvC1IMoyagAf-Afh2nagyOq9H_7Lwuc04We7HOK1oqoit-lzFCmj0w0NGCxvWBLjQR2rwL7FtRd45V0FQ9VAOVsVlkKNbXXP-F5XLYblwXKxY0V7k4f3UkIN8i" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank"><img class="jive-image" height="48" src="https://lh5.googleusercontent.com/yfIiLmOSmiLJa5fvC1IMoyagAf-Afh2nagyOq9H_7Lwuc04We7HOK1oqoit-lzFCmj0w0NGCxvWBLjQR2rwL7FtRd45V0FQ9VAOVsVlkKNbXXP-F5XLYblwXKxY0V7k4f3UkIN8i" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="135"/></a></span><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #000000;"><a _jive_internal="true" href="/lh3.googleusercontent.com/-vcVKTADxWBUg4JH7l-VRDfdGAGMIUUnEz4x4BMFA7io5wGBvjySnxZX5UvxqOyURFVSFVjZrsBVpmInR9bQ5w3GlyRx3celd9WKwEcmhzF5b-dwfu71AoIkk55y-RMX023m3PXm" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank"><img class="jive-image" height="48" src="https://lh3.googleusercontent.com/-vcVKTADxWBUg4JH7l-VRDfdGAGMIUUnEz4x4BMFA7io5wGBvjySnxZX5UvxqOyURFVSFVjZrsBVpmInR9bQ5w3GlyRx3celd9WKwEcmhzF5b-dwfu71AoIkk55y-RMX023m3PXm" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="135"/></a></span></p><p></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: bold; font-style: inherit; font-family: Arial;">For a list of all of my articles:   </span><a _jive_internal="true" data-containerid="1027" data-containertype="37" data-objectid="4821" data-objecttype="38" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/23/community-code-snippets-articles-list-to-date" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><span style="font-weight: bold; font-style: inherit; font-family: Arial;">Community Code Snippets: Articles List to Date</span></a></p><p></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #eb7a3d;">Please Share, Like, Bookmark, Mark Helpful, or Comment this blog if you've found it helpful or insightful.</span></p><p></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: Arial; color: #eb7a3d;">Also, if you are not already, I would like to encourage you to become a member of our blog!</span></p>