---
title: "Community Code Snippets  Finding  a Record in an Object Array"
date: 2016-08-31T06:19:29.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=872da6e5dbd0dbc01dcaf3231f9619ef"
---
<p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Times New Roman'; color: #666666; font-weight: bold;">NOTE</span><span style="font-family: Arial; color: #666666;">: </span><span style="font-family: 'Times New Roman'; color: #666666;">MY POSTINGS REFLECT MY OWN VIEWS AND DO NOT NECESSARILY REPRESENT THE VIEWS OF MY EMPLOYER, ACCENTURE. </span></span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Times New Roman'; color: #666666;">DIFFICULTY LEVEL:   <span style="color: #b78743;"><strong>INTERMEDIATE</strong> </span>to </span><span style="font-family: 'Times New Roman'; color: #ff0000; font-weight: bold;">ADVANCED</span></span></p><p dir="ltr"><span style="font-family: 'Times New Roman'; color: #666666; font-size: 12pt;">Assumes good knowledge and/or familiarity of scripting in ServiceNow.</span></p><p dir="ltr"><span style="font-family: Arial; color: #666666; font-size: 12pt;">____________________________________________________________________________</span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">In this article I will present a couple of different methods I use to locate a record in a complex object array.</span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">This is the third of three articles I wanted to write concerning object arrays.   My previous two were:</span></p><p></p><p dir="ltr" style="padding-left: 30px;"><span style="font-size: 12pt;"><a _jive_internal="true" href="/community/service-automation-platform/scripting/blog/2016/08/19/community-code-snippets-three-methods-to-sort-an-object-array"><span style="font-family: Arial; color: #266fc8; font-weight: bold;">Community Code Snippets - Three Methods to Sort an Object Array</span></a></span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-size: 12pt;"><a _jive_internal="true" href="/community/service-automation-platform/scripting/blog/2016/08/18/community-code-snippets-removing-duplicates-from-an-object-array"><span style="font-family: Arial; color: #266fc8; font-weight: bold;">Community Code Snippets - Removing Duplicates From an Object Array</span></a></span></p><p></p><p dir="ltr"><span style="color: #000000; font-size: 12pt; font-family: Arial;">I would do both before playing with the code in this example.</span></p><p dir="ltr"></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">You will need to do the following Mini-Labs in order to use underscore.js and the JavaScriptExtensions code in the following example:</span></p><p></p><p dir="ltr" style="padding-left: 30px;"><span style="font-size: 12pt;"><a _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/11/05/mini-lab-adding-underscorejs-into-servicenow"><span style="font-family: Arial; color: #266fc8; font-weight: bold; text-decoration: underline;">Mini-Lab: Adding Underscore.js Into ServiceNow</span></a></span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong><a title="" _jive_internal="true" href="/community/service-automation-platform/scripting/blog/2016/08/30/mini-lab-extending-the-javascript-array-object-with-findindex" style="font-size: 15px; font-family: arial, sans-serif; color: #266fc8;">Mini-Lab: Extending the JavaScript Array Object with findIndex</a></strong></span></p><p dir="ltr"><span style="font-family: Arial; color: #1155cc; text-decoration: underline; font-size: 12pt;"><a title="" _jive_internal="true" href="/community/service-automation-platform/scripting/blog/2016/08/28/mini-lab-extending-the-javascript-array-object-with-findindex"></a></span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">So, now that we have the base libraries, let me present the examples!</span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">I have attached the Fix Script I used for this article.   It contains the getIncidentList(...) code, but does not include the underscore.js or Array.polyfill.findIndex code.   You will need to do the labs to bring that functionality in.</span></p><p style="padding-left: 30px;"></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">// Set up for all of the following examples.   Get 10 records from the Incident table</span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">var incidentList = getIncidentList(10);</span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">var incidentID = '0c43b55ac6112275019abd2b247baf31';</span></p><p></p><p><span style="font-size: 14pt;"><strong>EXAMPLE 1:</strong></span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">This is my preferred method.   It does not require a library, and works with existing out-of-the-box ServiceNow JavaScript libraries.</span></p><p></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">var incident = incidentList.filter(function(element) { return element.sys_id === incidentID; })[0];</span></p><p style="padding-left: 30px;"></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">gs.print('---&gt; sys_id1: ' + incident.sys_id + ' - ' + incident.name);</span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">This gives the following result:</span></p><p></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #3a0699; font-size: 12pt;">*** Script: ---&gt; sys_id1: 0c43b55ac6112275019abd2b247baf31 - EFOWEB</span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">However, you don't get the actual index location back; if you care about it that is.</span></p><p></p><p></p><p><span style="font-size: 14pt;"><strong>EXAMPLE 2:</strong></span></p><p><span style="font-size: 14pt;"><strong> </strong></span></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">So, let me demonstrate a way of doing the same thing with the underscore.js library.   Here you can see that there is a way of retrieving the location of the record based on the ID.   </span></p><p></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">gs.include('underscorejs.min');</span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">var index = _.chain(incidentList).pluck("sys_id").indexOf(incidentID).value();</span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">var incident2 = incidentList[index];</span></p><p style="padding-left: 30px;"></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">gs.print('---&gt; sys_id2: ' + incident2.sys_id + ' - ' + incident2.name);</span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">Produces the exact same results:</span></p><p></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #3a0699; font-size: 12pt;">*** Script: ---&gt; index2: 5</span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #3a0699; font-size: 12pt;">*** Script: ---&gt; sys_id2: 0c43b55ac6112275019abd2b247baf31 - EFOWEB</span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">The only problem I have with this example is in maintenance.   I have to comment it a bit so that it explains what exactly is happening.</span></p><p></p><p></p><p><span style="font-size: 14pt;"><strong>EXAMPLE 3:</strong></span></p><p><span style="font-size: 14pt;"><strong> </strong></span></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">So finally, if you implement the new ECMA6 polyfill for Array.findIndex you get the same functionality as the underscore.js example, but it is easier to implement (and future-proof; as when ServiceNow finally implements the ECMA6 functionality).   </span></p><p></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">gs.include('JavaScriptExtensions'); </span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">var index = incidentList.findIndex(function(element) { return element.sys_id == incidentID; });</span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">var incident3 = incidentList[index];</span></p><p style="padding-left: 30px;"></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">gs.print('---&gt; sys_id3: ' + incident3.sys_id + ' - ' + incident3.name);</span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">Produces the exact same results:</span></p><p style="padding-left: 30px;"></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #3a0699; font-size: 12pt;">*** Script: ---&gt; index3: 5</span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #3a0699; font-size: 12pt;">*** Script: ---&gt; sys_id3: 0c43b55ac6112275019abd2b247baf31 - EFOWEB</span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">Again, this example would require some commenting just to make it clear to a maintenance coder what is going on.</span></p><p></p><p></p><p><span style="font-size: 14pt;"><strong>OTHER FUTURE EXAMPLES:</strong></span></p><p><span style="font-size: 14pt;"><strong> </strong></span></p><p><span style="font-family: Arial; color: #000000; font-size: 12pt;">The following are examples that will work when ECMA6 is implemented in ServiceNow:</span></p><p></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">// ecma 6 --- doesn't work yet ... sniff!</span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">var incident4 = incidentList.map(x =&gt; x.says_id).indexOf(incidentID);</span></p><p style="padding-left: 30px;"></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">// ecma 6 --- nor this!   makes me want to weep...</span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">var incident5 = incidentList.findIndex(x =&gt; x.sys_id === incidentID);</span></p><p style="padding-left: 30px;"></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">// ecma 6 --- or even this! gad!</span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">var index = incidentList.reduce((i, item, index) =&gt; item.sys_id === incidentID ? index : i, -1);</span></p><p dir="ltr" style="padding-left: 30px;"><span style="font-family: Arial; color: #e23d39; font-size: 12pt;">var incident7 = incidentList[index];</span></p><p><br/><span style="font-size: 12pt;">So you can see that there are a several ways to retrieve a record from an object array.   Explore this a bit, and you might find other ways (yes, there are more).<span style="font-family: Arial; color: #000000;"> </span></span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;">Some "light" additional reading:</span></p><p></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;"><a title="" _jive_internal="true" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter</a></span></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;"><a title="" _jive_internal="true" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach</a></span></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;"><a title="" _jive_internal="true" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find</a></span></p><p dir="ltr"><span style="font-family: Arial; color: #000000; font-size: 12pt;"><a title="" _jive_internal="true" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex</a></span></p><p><br/><span style="font-family: Arial; color: #000000; font-size: 12pt;">Steven Bell</span></p><p dir="ltr"></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-family: Arial;"><a _jive_internal="true" href="https://lh4.googleusercontent.com/HKjJ2SUTNVdCxOTdceU6inlqndvy5r1xgxXRAs6Ajp23hyTz6rpde1-iJtpz69U2_eAXe0MW6pOQVB0l1Y2PFVewX4Rf8WHPNHO0P48XpJUj2bVItL2A6-_qcLHax09QnKw6M0tW" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank"><img alt="accenture logo small.jpg" class="jive-image" height="87" src="https://lh4.googleusercontent.com/HKjJ2SUTNVdCxOTdceU6inlqndvy5r1xgxXRAs6Ajp23hyTz6rpde1-iJtpz69U2_eAXe0MW6pOQVB0l1Y2PFVewX4Rf8WHPNHO0P48XpJUj2bVItL2A6-_qcLHax09QnKw6M0tW" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="324"/></a></span></p><p dir="ltr" style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-family: Arial;"><a _jive_internal="true" href="https://lh6.googleusercontent.com/xNpcpgiavaZsFdpPfTCeeIiojd7FqVft8uzbfTILDEtlgnRES6PH3aeWNXSPpnv5AF0V114bKKAkWPuI6jH3O2xaG-zFqWYwnyRCt-81ybjTqNLhmqPugre5WldGfc_pcta-FHMa" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank"><img class="jive-image" height="64" src="https://lh6.googleusercontent.com/xNpcpgiavaZsFdpPfTCeeIiojd7FqVft8uzbfTILDEtlgnRES6PH3aeWNXSPpnv5AF0V114bKKAkWPuI6jH3O2xaG-zFqWYwnyRCt-81ybjTqNLhmqPugre5WldGfc_pcta-FHMa" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="180"/></a></span><span style="font-weight: inherit; font-style: inherit; font-family: Arial;"><a _jive_internal="true" href="https://lh5.googleusercontent.com/L3QNGvKQd6gXD41-_HDuwuN0pza2FetYOlV1mAsSxhZZ_JiVJopoBHtl7G8zEAd50WG7gM7GQh0XbJdSQIydjfIfs_RfP0MHbXFyvPMSved4rHnuihwq7EBcOndtiWqh0R_RV7x4" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank"><img class="jive-image" height="64" src="https://lh5.googleusercontent.com/L3QNGvKQd6gXD41-_HDuwuN0pza2FetYOlV1mAsSxhZZ_JiVJopoBHtl7G8zEAd50WG7gM7GQh0XbJdSQIydjfIfs_RfP0MHbXFyvPMSved4rHnuihwq7EBcOndtiWqh0R_RV7x4" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="180"/></a></span><span style="font-weight: inherit; font-style: inherit; font-family: Arial;"><a _jive_internal="true" href="https://lh4.googleusercontent.com/Yn7iuwBcHbZRsaHqvrM31RShgo7gPcx_ceZZfvkqHec4WxMAfjUmNpM3U3J69jzVLx3TE7z4aYb1Gj8PrReer_XcUAZwNwDd5z3vjnCu3vp7xoWYG-0m7-SDrNPFJvM-l-dsPy7K" rel="nofollow" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;" target="_blank"><img class="jive-image" height="72" src="https://lh4.googleusercontent.com/Yn7iuwBcHbZRsaHqvrM31RShgo7gPcx_ceZZfvkqHec4WxMAfjUmNpM3U3J69jzVLx3TE7z4aYb1Gj8PrReer_XcUAZwNwDd5z3vjnCu3vp7xoWYG-0m7-SDrNPFJvM-l-dsPy7K" style="margin: 10px 10px 10px 0; border: 0px none; font-weight: inherit; font-style: inherit; font-family: inherit;" width="223"/></a></span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: Arial; color: #666666; font-weight: bold;">For a list of all of my articles:   </span><a _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/23/community-code-snippets-articles-list-to-date"><span style="font-family: Arial; color: #266fc8; font-weight: bold;">Community Code Snippets: Articles List to Date</span></a></span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #eb7a3d;">Please Share, Like, Bookmark, Mark Helpful, or Comment this blog if you've found it helpful or insightful.</span></p><p dir="ltr"></p><p><span style="color: #eb7a3d; font-size: 12pt; font-family: Arial;">Also, if you are not already, I would like to encourage you to become a member of our blog!</span></p>