---
title: "MiniLab Workflows  Add Users to Groups  Service CatalogWorkflow"
date: 2016-07-03T03:27:16.000Z
authors: ["sabell2012"]
link: "https://community.servicenow.com/community?id=community_blog&sys_id=3a5da629dbd0dbc01dcaf3231f9619da"
---
<p dir="ltr"><span style="font-family: 'Times New Roman'; color: #666666; font-weight: bold;">NOTE</span><span style="font-family: Arial; color: #666666;">: </span><span style="font-family: 'Times New Roman'; color: #666666;">MY POSTINGS REFLECT MY OWN VIEWS AND DO NOT NECESSARILY REPRESENT THE VIEWS OF MY EMPLOYER, ACCENTURE. </span></p><p></p><p dir="ltr"><span style="font-family: 'Times New Roman'; color: #666666;">DIFFICULTY LEVEL:   </span><span style="font-family: 'Times New Roman'; color: #bf9000; font-weight: bold;">INTERMEDIATE </span><span style="font-family: 'Times New Roman'; color: #666666;">to </span><span style="font-family: 'Times New Roman'; color: #ff0000; font-weight: bold;">ADVANCED</span></p><p dir="ltr"><span style="font-family: 'Times New Roman'; color: #666666;">Assumes knowledge and/or familiarity of several different areas in ServiceNow.</span></p><p dir="ltr"><span style="font-family: Arial; color: #666666;">____________________________________________________________________________</span></p><p></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: Arial; color: #000000;">Recently two of our developers (<a title="adam.keller" __default_attr="26431" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="adam.keller" data-renderedposition="130.20834350585938_235.76390075683594_101_18" href="/community?id=community_user_profile&user=58de46eddbd41fc09c9ffb651f96199c">adam.keller</a></span><span style="font-family: Arial;">, <a title="travisbell" __default_attr="76813" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="travisbell" data-renderedposition="130.20834350585938_345.763916015625_81_18" href="/community?id=community_user_profile&user=4ef1d2a1dbd81fc09c9ffb651f9619c6">travisbell</a></span><span style="font-family: Arial;"></span><span style="font-family: Arial; color: #000000;">) came to me and asked if it were possible using Service Catalog and Workflows to do the following:</span></span></p><p></p><ol><li><span style="font-size: 12pt;">Add multiple Users to a Group with a dynamic request for Approval</span></li><li><span style="font-size: 12pt;">Add a single User to multiple Groups with a dynamic request for Approval</span></li><li><span style="font-size: 12pt;">Each Group Approval Request/Response must not hold up the other Group Approvals.</span></li><li><span style="font-size: 12pt;">The Group Manager would be the approver for each group.</span></li></ol><p></p><p><span style="color: #000000; font-size: 12pt; font-family: Arial; line-height: 1.5;">I thought the answer would be an easy one.   Boy, was I wrong!</span></p><p></p><p><span style="color: #000000; font-size: 12pt; font-family: Arial; line-height: 1.5;">What I attempted:</span></p><p></p><ol><li><span style="font-size: 12pt;">My first thought was to simply use the Approval - Users Activity, and feed it a dynamic group for approval.   However, even though it would normally work for requesting group approvals it would not work to fulfill the third and fourth requirements.</span></li><li><span style="font-size: 12pt;">I next tried to construct a workflow loop using the Approval - Users Activity.   Essentially take all of the users and present them as a whole to each group for approval.   This worked fine, but that pesky third requirement got in the way again.</span></li><li><span style="font-size: 12pt;">Next I decided to try kicking off multiple workflows from a calling workflow.   This almost worked.   It behaved VERY strangely.   For example, with two groups to be approved one would wait for approval like it was supposed to, but the other one would auto-approve!   Probably a timing issue.   I will have to dig deeper on this and see if I can find out why.</span></li><li><span style="font-size: 12pt;">I then decided to try the same thing with Events.   So created a custom event, complete with Script Action to be called from the workflow.   Essentially this is the same as just calling a workflow.   Sure enough same behavior as my second scenario!   First one waited for approval, the second group auto-approved!   Yeah, gotta be timing...</span></li><li><span dir="ltr" style="font-size: 12pt;">The parallel RITM approach just HAD to be the solution here, but how to do that?   I broached the subject with <a __default_attr="2204" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="b-rad" data-renderedposition="634.826416015625_811.3194580078125_57_18" href="/community?id=community_user_profile&user=90e1da21dbd81fc09c9ffb651f961977" modifiedtitle="true" title="b-rad">b-rad</a> (Brad Tilton), and he pointed me to a response to a similar problem stated on the Community.   <a title="duffyb" __default_attr="5036" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="duffyb" data-renderedposition="658.1597290039062_440.1215515136719_63_18" href="/community?id=community_user_profile&user=ccde06eddbd41fc09c9ffb651f961961">duffyb</a> (Barbara Duffy) (response <a _jive_internal="true" href="/community?id=community_question&sys_id=b2a58feddbd8dbc01dcaf3231f96192e"><span style="color: #1155cc; text-decoration: underline;">link</span></a>) had run into how to properly create a RITM in code.   He said he had used her solution, and it had worked for him.   The RITM would then call it's requisite workflow and the approvals would work correctly.   Tried it, and it failed! This time the groups and users values were not making it from the calling workflow to the new RITMs!   It was creating the RITMs fine, but the values weren't showing up.</span></li><li><span style="font-size: 12pt;">In the wind-down at a meeting, Brad and I were discussing the issue, and <a title="mamann" __default_attr="2845" __jive_macro_name="user" class="jive_macro jive_macro_user" data-orig-content="mamann" data-renderedposition="730.9548950195312_557.9861450195312_81_18" href="/community?id=community_user_profile&user=14625269dbd81fc09c9ffb651f9619eb">mamann</a> (Mark Amann) who was present said he would like to know more as it sounded familiar.   Sure enough Mark had also solved something very similar to this.   Same kind of thing where a RITM was being created in code, but the variables passed into the workflow did not populate.   He had the final bits of the puzzle:   You have to throw a timer in the RITM workflow to wait until the passed-in variables actually arrive!   Actually arrive?   Looks like there is a timing thing going on after all!   Sure enough when I put that last bit of magic into the code it worked!</span></li></ol><p><span style="font-size: 12pt;"><br/><span style="color: #000000; font-family: Arial;">Who says networking doesn't get results?!   :-)</span></span></p><p><span style="font-size: 12pt;"><br/><span style="color: #000000; font-family: Arial;">So I decided to share.   It is obvious that this problem is recurring, and not too many people were aware of the solution.   I certainly wasn't!</span><br/></span></p><p></p><p><span style="font-size: 12pt;"><br/><span style="color: #000000; font-weight: bold; font-family: Arial;">Prerequisites</span><br/></span></p><p></p><ol><li><span style="font-size: 12pt;">Some knowledge of creating Workflows with the Workflow Editor</span></li><li><span style="font-size: 12pt;">Some knowledge of creating Service Catalog Items</span></li><li><span style="font-size: 12pt;">Some knowledge of creating and scripting Workflow activities</span></li></ol><p><span style="font-size: 12pt;"><br/><br/></span></p><p dir="ltr"><span style="font-size: 18.6667px; font-family: Arial; color: #000000; font-weight: bold;">Lab 1.1: Create the Add Users to Groups Workflow</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">1. Navigate to Workflows -&gt; Workflow Editor.   The Workflow Editor will be displayed.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">2. Click on the "+" button to create a new workflow.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt;"><span style="font-family: Arial; color: #000000;">a. </span><span style="font-family: Arial; color: #000000; font-weight: bold;">Name</span><span style="font-family: Arial; color: #000000;">: Add Users to Groups</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt;"><span style="font-family: Arial; color: #000000;">b. </span><span style="font-family: Arial; color: #000000; font-weight: bold;">Table</span><span style="font-family: Arial; color: #000000;">: Catalog Item [sc_cat_item]</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt;"><span style="font-family: Arial; color: #000000;">c. </span><span style="font-family: Arial; color: #000000; font-weight: bold;">If condition matches</span><span style="font-family: Arial; color: #000000;">:   Run the workflow</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #000000;">d. Click on the Submit button to create the workflow.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: Arial; color: #000000;">3. Navigate in the workflow to Core -&gt; Utilities and place a Run Script Activity between the Begin and End activities.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt;"><span style="font-family: Arial; color: #000000;">a. </span><span style="font-family: Arial; color: #000000; font-weight: bold;">Name</span><span style="font-family: Arial; color: #000000;">: Initilialize</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt;"><span style="font-family: Arial; color: #000000;">b. </span><span style="font-family: Arial; color: #000000; font-weight: bold;">Script</span><span style="font-family: Arial; color: #000000;">: </span></span></p><p><span style="font-size: 12pt;"><br/><br/></span></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14674147906239160 jive_text_macro" data-renderedposition="1517.15283203125_7.986111640930176_1191_1182" jivemacro_uid="_14674147906239160"><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">// interestingly because of the timing issues I had to use</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">// a hardcoded context value with my identifier</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">var identifier = 'Add Users To Groups.' + activity.name;</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">var message = '---&gt;\n';</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">// From the initial RITM</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">var groups = current.variables.groups + '';</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">var users = current.variables.users + '';</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">var groupList = [];</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">// if we have more than one they will be comma delimited</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">if (groups.indexOf(',') &gt; -1) {</span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">groupList = groups.split(',');</span></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">}</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">else {</span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">groupList.push(groups);   // only one group</span></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">}</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">// just a few debug messages - remove these when going to QA</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">message += 'groups: ' + groups + '\n';</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">message += 'groupList: ' + groupList.length + '\n';</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">message += 'users: ' + users + '\n';</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">message += 'current.request: ' + current.request;</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">// get the sys_id of the RITM to create. In this case we</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">// want to create a new RITM for each group that we want </span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">// to request access from</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">var requestItemTemplate = new GlideRecord('sc_cat_item');</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">requestItemTemplate.get('name', 'Add Users to Group');</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">var ritmTemplateID = requestItemTemplate.sys_id + '';</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">// loop through and create a new RITM for each group, </span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">// attached to the parent RITM</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">for (var i=0; i &lt; groupList.length; i++) {</span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">var group = groupList[i] + '';</span></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">   </span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// undocumented feature - no API definition unfortunately</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// appears to do the following:</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// - Create new RITM based on template</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// - Copy all variables from the template to the new RITM</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// - Associate the new RITM to the current RITM</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// - Trigger the workflow (state = 2)</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">var requestHelper = new GlideappCalculationHelper();</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">requestHelper.addItemToExistingRequest(current.request + '', ritmTemplateID + '', 1);</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// Not sure of the function or necessity of this, but it is </span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// always present with the 2-3 examples I found</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">requestHelper.rebalanceRequest(current.request + '');</span></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">   </span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// Find our new RITM (it will be the most recent right?)</span></span></p><p dir="ltr" style="text-indent: 36pt;"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">var reqItem = new GlideRecord('sc_req_item');</span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">reqItem.addQuery('request', current.request + '');</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">reqItem.addQuery('cat_item', ritmTemplateID + '');</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">reqItem.orderByDesc('number');</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">reqItem.setLimit(1);</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">reqItem.query();</span></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">   </span></p><p dir="ltr" style="text-indent: 36pt;"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">message += '---&gt; TOTAL: ' + reqItem.getRowCount() + '\n';</span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// Now set the variable values of our new RITM to the targeted</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// group for approval, and the users we want added. Even after</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// this update is done it takes a bit for the new RITM workflow</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">// to wake up to these new values</span></span></p><p dir="ltr" style="text-indent: 36pt;"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">if (reqItem.next()) {</span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">message += '---&gt; Updating: ' + reqItem.sys_id + '\n';</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">reqItem.variables.group = group + '';</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">reqItem.variables.users = users + '';</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">reqItem.parent = current.sys_id + '';</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">reqItem.update();</span></span></p><p dir="ltr"><span style="font-size: 12pt;"><span style="font-family: 'Courier New'; color: #000000;">   </span><span style="font-family: 'Courier New'; color: #000000;">}</span></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">}</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">// debug - write out all of our results to the system log</span></p><p dir="ltr"><span style="font-size: 12pt; font-family: 'Courier New'; color: #000000;">gs.log(message, identifier);</span></p><p dir="ltr"></p></pre><p></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: Arial; color: #000000;">c. Click the Submit button to save your activity.</span></p><p></p><p dir="ltr"><span style="font-size: 14.6667px; font-family: Arial; color: #000000;"><img class="jive-image" height="417" src="https://lh5.googleusercontent.com/2F4c-edKYdllRjmhYKh7xf5x-pceiBEj3SvScxELE_2kChlcoFkO9GtwwOIaWn_ewavVkMCYZ955X15R_QKZg4HzLU8Z5ia3gk-DeHlBK3zTkBFCUBhZehI7hESn7yRmfTDFtpEx" style="border-style: none;" width="593"/></span></p><p><span><span><br/><br/></span></span></p><p dir="ltr"><span style="font-size: 18.6667px; font-family: Arial; color: #000000; font-weight: bold;">Lab 1.2: Create the Add Users to Group Workflow</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">1. From the Workflow Editor click on the "+" button to create a new workflow.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">a. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Add Users to Group</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">b. </span><span style="color: #000000; font-weight: bold;">Table</span><span style="color: #000000;">: Catalog Item [sc_cat_item]</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">c. </span><span style="color: #000000; font-weight: bold;">If condition matches</span><span style="color: #000000;">:   Run the workflow</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">d. Click on the Submit button to create the workflow.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">2. Navigate in the Workflow Editor to Core -&gt; Timers and place a Timer Activity after the Begin.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">a. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Wait for Vars</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">b. </span><span style="color: #000000; font-weight: bold;">Timer based on</span><span style="color: #000000;">: A user specified duration.</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">c. </span><span style="color: #000000; font-weight: bold;">Duration</span><span style="color: #000000;">: 15 seconds.</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">d. Click on the Submit button to create the Timer.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">3. Navigate to Core -&gt; Conditions and place an If Activity after the Timer Activity.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">a. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Are Vars Filled In?</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">b. </span><span style="color: #000000; font-weight: bold;">Advanced</span><span style="color: #000000;">: Checked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">c. </span><span style="color: #000000; font-weight: bold;">Script</span><span style="color: #000000;">: </span></span></p><p></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_146741481889528 jive_text_macro" data-renderedposition="3778.26416015625_7.986111640930176_1191_124" jivemacro_uid="_146741481889528"><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">answer = ifScript();</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">function ifScript() {</span></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">   </span><span style="color: #000000;">if (JSUtil.notNil(current.variables.group) &amp;&amp; JSUtil.notNil(current.variables.users)) {</span></span></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">   </span><span style="color: #000000;">   </span><span style="color: #000000;">return 'yes';</span></span></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">   </span><span style="color: #000000;">}</span></span></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">   </span><span style="color: #000000;">return 'no';</span></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">}</span></p></pre><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">d. Click on the Submit button to create the If Activity.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">4. Navigate to Core -&gt; Utilities and place a Run Script Activity between the Begin and End activities.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">a. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Initilialize</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">b. </span><span style="color: #000000; font-weight: bold;">Script</span><span style="color: #000000;">: </span></span></p><p></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code jive_text_macro _jivemacro_uid_14674951861788208" data-renderedposition="4096.0419921875_7.986111640930176_1191_933" jivemacro_uid="_14674951861788208" modifiedtitle="true"><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">var identifier = context.name + '.' + activity.name; </span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">var users = current.variables.users + '';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">var group = current.variables.group + '';</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">var messages = '---&gt;\n';</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">// debug - edit out for production</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">messages += '---&gt; current.variables.users: ' + current.variables.users + '-' + identifier + '\n';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">messages += '---&gt; current.variables.group: ' + current.variables.group + '-' + identifier + '\n';</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">var userList = [];</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">if (users.indexOf(',') &gt; -1) {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   userList = users.split(',');</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">}</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">else {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   userList.push(users + ''); // only one user found</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">}</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">// retrieve the list of user names</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">var userRecords = new GlideRecord('sys_user');</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">userRecords.addQuery('sys_id','IN',userList);</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">userRecords.query();</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">var userNames = [];</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">while(userRecords.next()) {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   userNames.push(userRecords.name + '');</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">}</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">// retrieve all the users already present in the group</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">var groupMembers = new GlideRecord('sys_user_grmember');</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">groupMembers.addQuery('group', group);</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">groupMembers.query();</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">// remove already existing members from the list</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">while(groupMembers.next()) {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   var member = groupMembers.user + '';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   if (userList.indexOf(member) &gt; -1) {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   messages += '---&gt; Member removed: ' + member + '\n';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   userList.splice(userList.indexOf(member),1); // remove the already existing member</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   }</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">}</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">// retrieve group manager, and group name</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">var groupInfo = new GlideRecord('sys_user_group');</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">if (groupInfo.get('sys_id', group)) {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   workflow.scratchpad.manager = groupInfo.manager + '';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   workflow.scratchpad.groupName = groupInfo.name + '';</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   messages += '---&gt; workflow.scratchpad.groupName: ' + workflow.scratchpad.groupName + '-' + identifier + '\n';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   messages += '---&gt; workflow.scratchpad.manager: ' + workflow.scratchpad.manager + '-' + identifier + '\n';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">}</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">workflow.scratchpad.userNames = userNames;</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">workflow.scratchpad.group = group;</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">workflow.scratchpad.users = userList;</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">workflow.scratchpad.messages = messages;</span></p></pre><p></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">c. Click the Submit button to save your activity.</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><br/><br/></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">5. Navigate to Core -&gt; Conditions and place an If Activity after the Initialize Run Script Activity.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">a. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Any users to process?</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">b. </span><span style="color: #000000; font-weight: bold;">Advanced</span><span style="color: #000000;">: Checked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">c. </span><span style="color: #000000; font-weight: bold;">Script</span><span style="color: #000000;">:</span></span></p><p></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14674148476334490 jive_text_macro" data-renderedposition="5292.70849609375_7.986111640930176_1191_124" jivemacro_uid="_14674148476334490"><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">answer = ifScript();</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">function ifScript() {</span></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">   </span><span style="color: #000000;">if (workflow.scratchpad.users.length &gt; 0) {</span></span></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">   </span><span style="color: #000000;">   </span><span style="color: #000000;">return 'yes';</span></span></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">   </span><span style="color: #000000;">}</span></span></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">   </span><span style="color: #000000;">return 'no';</span></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">}</span></p></pre><p></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">d. Click the Submit button to save your activity.</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><br/><br/></span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">6. Place another If Activity after the Any Users to Process If Activity.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">a. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Is Manager Present?</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">b. </span><span style="color: #000000; font-weight: bold;">Advanced</span><span style="color: #000000;">: Checked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">c. </span><span style="color: #000000; font-weight: bold;">Script</span><span style="color: #000000;">:</span></span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14674954878492005 jive_text_macro" data-renderedposition="5660.486328125_7.986111640930176_1191_124" jivemacro_uid="_14674954878492005"><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">answer = ifScript();</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">function ifScript() {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   if (JSUtil.notNil(workflow.scratchpad.manager)) {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   return 'yes';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   }</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   return 'no';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">}</span></p></pre><p></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">7. Navigate to Core -&gt; Approvals and place an Approval - User Activity after the If Activity.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span style="color: #000000;">   </span><span style="color: #000000;">So here is our dynamic approval.   Simple, huh?   :-)   Remember requirement #4.   We only want to request approval from the group manager.</span></span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span style="color: #000000;">a. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Get Group Manager Approval</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span style="color: #000000;">b. </span><span style="color: #000000; font-weight: bold;">Advanced</span><span style="color: #000000;">: Checked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;"><span style="color: #000000;">c. </span><span style="color: #000000; font-weight: bold;">Script</span><span style="color: #000000;">:</span></span></p><p></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="_jivemacro_uid_14674953449848890 jive_macro_code jive_text_macro" data-renderedposition="6021.59765625_7.986111640930176_1191_78" jivemacro_uid="_14674953449848890"><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">var identifier = context.name + '.' + activity.name;</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">workflow.scratchpad.messages += '---&gt; approval group: ' + workflow.scratchpad.group + '-' + identifier + '\n';</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">answer = [];</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">answer.push(workflow.scratchpad.manager);</span></p></pre><p></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">d. Click the Submit button to save your activity.</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><br/><br/></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">8. Navigate to Core -&gt; Utilities and pull out five Run Script Activities.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">a. First activity:</span></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">i. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Log Users Already Exist</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">ii. </span><span style="color: #000000; font-weight: bold;">Script</span><span style="color: #000000;">:</span></span></p><p></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14674960978619203 jive_text_macro" data-renderedposition="6382.70849609375_7.986111640930176_1191_16" jivemacro_uid="_14674960978619203"><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">workflow.scratchpad.messages += '---&gt; Group (' + workflow.scratchpad.groupName + '): All users already exist in the group, or no users to process!   Process ending.\n'; </span></p></pre><p></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">iii. Click the Submit button to save your activity.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">b. Second activity:</span></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">i. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Log Manager Not Present</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">ii. </span><span style="color: #000000; font-weight: bold;">Script</span><span style="color: #000000;">:</span></span></p><p></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14674961352348112 jive_text_macro" data-renderedposition="6611.59765625_7.986111640930176_1191_16" jivemacro_uid="_14674961352348112"><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">workflow.scratchpad.messages += '---&gt; Group (' + workflow.scratchpad.groupName + '): The Group Manager was not found. The manager must be present! Process ending.\n';</span></p></pre><p></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">iii. Click the Submit button to save your activity.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">c. Third activity:</span></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">i. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Log Request Rejected</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">ii. </span><span style="color: #000000; font-weight: bold;">Script</span><span style="color: #000000;">:</span></span></p><p></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="_jivemacro_uid_14674961779015411 jive_macro_code jive_text_macro" data-renderedposition="6840.486328125_7.986111640930176_1191_31" jivemacro_uid="_14674961779015411"><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">workflow.scratchpad.messages += 'Users ('+ workflow.scratchpad.userNames +') rejected for group ---&gt; ' </span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   + workflow.scratchpad.groupName + '\n';</span></p></pre><p></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">iii. Click the Submit button to save your activity.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">d. Fourth activity:</span></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">i. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Add Users to Group</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">ii. </span><span style="color: #000000; font-weight: bold;">Script</span><span style="color: #000000;">:</span></span></p><p></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14674962380719427 jive_text_macro" data-renderedposition="7084.9306640625_7.986111640930176_1191_233" jivemacro_uid="_14674962380719427"><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt; line-height: 12pt;">addUsersToGroup(workflow.scratchpad.users, workflow.scratchpad.group);</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">function addUsersToGroup(userIDList, groupID) {</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   for (var i=0; i &lt; userIDList.length; i++) {</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   workflow.scratchpad.messages += '\tUser (' + userIDList[i] + ') added to group: ' </span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   + workflow.scratchpad.group + '\n';</span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   var groupMember = new GlideRecord("sys_user_grmember");</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   groupMember.initialize();</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   groupMember.user = userIDList[i] + '';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   groupMember.group = groupID + '';</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   groupMember.insert();</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">   }</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">}</span></p></pre><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">iii. Click the Submit button to save your activity.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">e. Fifth activity:</span></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">i. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Log Messages</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">ii. </span><span style="color: #000000; font-weight: bold;">Script</span><span style="color: #000000;">:</span></span></p><p></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="jive_macro_code _jivemacro_uid_14674962922805911 jive_text_macro" data-renderedposition="7531.59765625_7.986111640930176_1191_47" jivemacro_uid="_14674962922805911"><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">var identifier = context.name + '.' + activity.name; </span></p><p></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;">gs.log(workflow.scratchpad.messages, identifier);</span></p></pre><p></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">iii. Click the Submit button to save your activity.</span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><br/>9. Navigate to Core -&gt; Approvals and pull out an Approval Action Activity.<br/></span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">a. <strong>Name</strong>: Auto-Reject</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif;">b. <strong>Action</strong>: Mark task rejected.</span></p><p></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">10. Wire everything up to look like the following diagram:</span></p><p></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><img   class="image-1 jive-image" src="55ac73fddb945fc068c1fb651f961907.iix" style="width: 620px; height: 400px; display: block; margin-left: auto; margin-right: auto;"/></span></p><p></p><p style="padding-left: 30px;"><span style="font-size: 12pt;"><strong>NOTE</strong>:   The combination of the If and Timer activities make the workflow wait until the If condition is met.   In this case the variables are filled in.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">11. Publish your workflow.   In Helsinki I found that sometimes my new changes were not picked up by Service Catalog unless I did this!   So if you find that modifications you made do not seem to appear during testing then this is the solution.</span></p><p><span><span><br/><br/></span></span></p><p dir="ltr"><span style="font-size: 18.6667px; font-family: Arial; color: #000000; font-weight: bold;">Lab 1.3: Create the Service Catalog Interface</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">1. Navigate to   Service Catalog -&gt; Maintain Categories and create a new Category.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">a. </span><span style="color: #000000; font-weight: bold;">Title</span><span style="color: #000000;">: User and Group Exercises</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">b. </span><span style="color: #000000; font-weight: bold;">Catalog</span><span style="color: #000000;">: Service Catalog</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">c. Right-click on the header and save your new category.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">2. Add a new Catalog Item</span></p><p dir="ltr"></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">                   <strong>NOTE</strong>: If you do not see some of the following fields on your form you may have to add them to your form.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">a. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Add Users to Groups</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">b. </span><span style="color: #000000; font-weight: bold;">Workflow</span><span style="color: #000000;">: <span style="color: #e23d39;"><strong>Add Users To Groups</strong></span></span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">c. </span><span style="color: #000000; font-weight: bold;">Short description</span><span style="color: #000000;">: Add a user to several groups</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">d. </span><span style="color: #000000; font-weight: bold;">Use cart layout</span><span style="color: #000000;">: unchecked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">e. </span><span style="color: #000000; font-weight: bold;">Omit price in cart</span><span style="color: #000000;">: checked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">f. </span><span style="color: #000000; font-weight: bold;">No quantity</span><span style="color: #000000;">: checked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">g.</span><span style="color: #000000; font-weight: bold;"> No proceed to checkout</span><span style="color: #000000;">: checked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">h. </span><span style="color: #000000; font-weight: bold;">No cart</span><span style="color: #000000;">: checked.</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">i. Right-click on the header and save your new catalog item.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">3. Add two variables to the new Catalog Item</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">a. Variable one</span></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">i. </span><span style="color: #000000; font-weight: bold;">Type</span><span style="color: #000000;">: List Collector</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">ii. </span><span style="color: #000000; font-weight: bold;">Question</span><span style="color: #000000;">: User(s)</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">iii. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: users</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">iv. </span><span style="color: #000000; font-weight: bold;">Mandatory</span><span style="color: #000000;">: true</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">v.</span><span style="color: #000000; font-weight: bold;"> List table</span><span style="color: #000000;">: User [sys_user]</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">vi. </span><span style="color: #000000; font-weight: bold;">Reference Qualifier</span><span style="color: #000000;">: active=true</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">vii. </span><span style="color: #000000; font-weight: bold;">Order</span><span style="color: #000000;">: 100</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">viii. Click on the Submit button to save your variable.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">b. Variable two</span></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">i. </span><span style="color: #000000; font-weight: bold;">Type</span><span style="color: #000000;">: List Collector</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">ii. </span><span style="color: #000000; font-weight: bold;">Question</span><span style="color: #000000;">: Group(s)</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">iii. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: groups</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">iv. </span><span style="color: #000000; font-weight: bold;">Mandatory</span><span style="color: #000000;">: true</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">v. </span><span style="color: #000000; font-weight: bold;">List Table</span><span style="color: #000000;">: Group [sys_user_group]</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">vi. </span><span style="color: #000000; font-weight: bold;">Reference Qualifier</span><span style="color: #000000;">: active=true</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">vii. </span><span style="color: #000000; font-weight: bold;">Order</span><span style="color: #000000;">: 200</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">viii. Click on the Submit button to save your variable.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">Your Catalog Item should look something like this:</span></p><p></p><p dir="ltr"><span style="font-size: 14.6667px; font-family: Arial; color: #000000;"><img class="jive-image" height="369" src="https://lh6.googleusercontent.com/nvUDPCbtc4wNCx-SCbVM9c-5V3CfMXYwO-7cyDlXFU9F-mQV-q2Quo1TUasXEPOV6kktrxwNwtVRaxmh1DAcppITEY_HRirvT8pC-DIuebqwhaBVkaXHkhI4Vqbo_r5OMWCwVfx8" style="border-style: none;" width="624"/></span></p><p></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; color: #000000; font-size: 12pt;">4. Add another new Catalog Item</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">a. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: Add Users to Group</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">b. </span><span style="color: #000000; font-weight: bold;">Workflow</span><span style="color: #000000;">: <span style="color: #e23d39;"><strong>Add Users To Group</strong></span></span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">c. </span><span style="color: #000000; font-weight: bold;">Short description</span><span style="color: #000000;">: Add users to group</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">d. </span><span style="color: #000000; font-weight: bold;">Use cart layout</span><span style="color: #000000;">: unchecked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">e. </span><span style="color: #000000; font-weight: bold;">Omit price in cart</span><span style="color: #000000;">: checked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">f. </span><span style="color: #000000; font-weight: bold;">No quantity</span><span style="color: #000000;">: checked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">g.</span><span style="color: #000000; font-weight: bold;"> No proceed to checkout</span><span style="color: #000000;">: checked</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">h. </span><span style="color: #000000; font-weight: bold;">No cart</span><span style="color: #000000;">: checked.</span></span></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; color: #000000; font-size: 12pt;">i. Right-click on the header and save your new catalog item.</span></p><p></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; color: #000000; font-size: 12pt;">5. Add two variables to the new Catalog Item</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; color: #000000; font-size: 12pt;">a. Variable one</span></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">i. </span><span style="color: #000000; font-weight: bold;">Type</span><span style="color: #000000;">: Reference</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">ii. </span><span style="color: #000000; font-weight: bold;">Question</span><span style="color: #000000;">: Group</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">iii. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: group</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">iv. </span><span style="color: #000000; font-weight: bold;">Mandatory</span><span style="color: #000000;">: true</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">v.</span><span style="color: #000000; font-weight: bold;"> List table</span><span style="color: #000000;">: <span style="color: #000000; font-family: arial, helvetica, sans-serif;">Group [sys_user_group]</span></span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">vi. </span><span style="color: #000000; font-weight: bold;">Reference Qualifier</span><span style="color: #000000;">: Simple</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">vii. </span><span style="color: #000000; font-weight: bold;">Order</span><span style="color: #000000;">: 100</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; color: #000000; font-size: 12pt;">viii. Click on the Submit button to save your variable.</span></p><p></p><p dir="ltr" style="margin-left: 36pt;"><span style="font-family: arial, helvetica, sans-serif; color: #000000; font-size: 12pt;">b. Variable two</span></p><p></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">i. </span><span style="color: #000000; font-weight: bold;">Type</span><span style="color: #000000;">: List Collector</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">ii. </span><span style="color: #000000; font-weight: bold;">Question</span><span style="color: #000000;">: Users to add to group</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">iii. </span><span style="color: #000000; font-weight: bold;">Name</span><span style="color: #000000;">: users</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">iv. </span><span style="color: #000000; font-weight: bold;">Mandatory</span><span style="color: #000000;">: true</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">v. </span><span style="color: #000000; font-weight: bold;">List Table</span><span style="color: #000000;">: <span style="color: #000000; font-family: arial, helvetica, sans-serif;">User [sys_user]</span></span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">vi. </span><span style="color: #000000; font-weight: bold;">Reference Qualifier</span><span style="color: #000000;">: active=true</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">vii. </span><span style="color: #000000; font-weight: bold;">Order</span><span style="color: #000000;">: 200</span></span></p><p dir="ltr" style="margin-left: 72pt;"><span style="font-family: arial, helvetica, sans-serif; color: #000000; font-size: 12pt;">viii. Click on the Submit button to save your variable.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">Your Catalog Item should look something like this:</span></p><p></p><p><span style="font-size: 12pt;"><img   class="jive-image image-4" src="c62a98c2db5c17041dcaf3231f96196c.iix" style="max-width: 1200px; max-height: 900px;"/></span></p><p></p><p dir="ltr"><span style="font-size: 18.6667px; font-family: Arial; color: #000000; font-weight: bold;">Lab 1.4: Testing</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">1. First we need to activate our new Category.   Navigate to Self-Service -&gt; Service Catalog.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">2. Click on the "+" button in the upper right corner to open the Sections form.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">3. Add User and Group Exercises someplace on the form.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">4. Click the "x" button to close the Sections form.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">5. Now we can test our new Catalog Item.   Click on the User and Group Exercises link.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">6. Click on the <span style="color: #e23d39;"><strong>Add Users to Groups</strong></span> link.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">Your Service Catalog Item form should look a bit like this:</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;"><img class="jive-image" height="496" src="https://lh6.googleusercontent.com/mBFj-stYjq_uFzKodnnGjR491H1iseba1TjfWeZyTOCAFrRXq2GL6KHTxtRXnbvd7DmS6eU3SExe6xYlE8LhK6eq5UFpBSdi6BCa_Q2XZrxQg2Ox2A3gFP8QQBViY1YWlBT6UP0o" style="border-style: none;" width="624"/></span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">7. Pick your favorite group, and a couple of users to add, and click the Order Now button.   The Order Status form will be displayed.   </span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000; font-weight: bold;"><img class="jive-image" height="308" src="https://lh5.googleusercontent.com/Ro5QiD-KznDYOuKB5ipQxFuxSe3oMj0Sqaaxj6FPQ22LZYJRABIGYs1zyjSA6KC4p9GbaBE_nZZojhLnAsmlUIKrJDB7trxnqHQXYflZ5VC18k7GYzKRSK0-LX-GnczTu_7ArdNA" style="border-style: none;" width="624"/></span></p><p><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><br/><br/></span></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">8. Click on the first request number created (in my case REQ0010081).   The Request form will be displayed.   </span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">9. Scroll to the bottom of the request form and note that there are three RITMs.   The first RITM is the main workflow (kicked off by this request), and the other two were generated by that workflow.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">10. In the related list order the RITMs by Number ascending and click on the first (lowest numbered) record.   For me it would be RITM0010099.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">11. Scroll to the Related Links and click on the Show Workflow link.   This will display the workflow context diagram.   It should look something like this:</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;"><img class="jive-image" height="411" src="https://lh6.googleusercontent.com/9scVwI6C7ULZhkBZSdGtXQ9x-JLRR8eNkygbP0heLlEx7xygWfUUAjUGG89nJNyUpFQjdCLzCl0UX9j_9d4dCj6qSIxxquH8zmSJxJ9aEcj5y7jr0QY4y3S2IOtbCAv5hRRAcyqj" style="border-style: none;" width="506"/></span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">12. Close this browser tab, and return to the Request Item tab.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">13. Back arrow on your browser to get back to the Request form, scroll to the related links, and pick the second RITM record.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">14. Scroll to the bottom of the RITM form.   You should see one or more approvers (depending on how many were already present in your group).</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;"><img class="jive-image" height="251" src="https://lh4.googleusercontent.com/-unFc3Kz49zev4PZwB_2RP2gih4x-2acRoXSiZqDPa0WhWtO8ZO5kuwVP1QNqXO-UF4Kl85mRUEpdw-H3w8VtDd4tZ8YrI_24yP_jZSqjC-iMH4KI74rGjgVx9VOU9F5QOveTDm7" style="border-style: none;" width="624"/></span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">15. In related links for the RITM click on the Show Workflow link.   It should look something like this:</span></p><p></p><p dir="ltr"><img   class="image-2 jive-image" src="c531a98adb94d7041dcaf3231f961914.iix" style="width: 620px; height: 405px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000; font-weight: bold;">NOTE</span><span style="color: #000000;">: By definition if there is no one already present in the group it will auto-approve.   So you may want to add at least one user to your group before you run this test.</span></span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">16. Close this browser tab, and return to the Request Item tab.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">17. From the Approvers tab, go ahead and approve one of the approvers.   You should see a couple of roles added messages appear at the top of the form.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;"><img class="jive-image" height="67" src="https://lh6.googleusercontent.com/8MGkR_ltNuwrGXWmSmlKLsUc2GNIuVX790Z8TK6cBA_NdzKny63KZwIN0KCwnCPtstu79vnAoiaZ12yXZksNSWwIjRYU_JqWG5o_AYYJ58el53cnIvt3Cq8w4d8us_NrE7oxPMEg" style="border-style: none;" width="624"/></span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">18. Back arrow on your browser to get back to the Request form, scroll to the related links, and pick the second RITM record.   Look at the workflow (it should be the same as the other).   Approve this RITM as well.</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">19. Now look at that RITMs workflow again.   You will observe the completion of the flow.</span></p><p></p><p dir="ltr"><img   class="image-3 jive-image" src="66cbbc0edb1c9344e9737a9e0f961946.iix" style="width: 620px; height: 402px; display: block; margin-left: auto; margin-right: auto;"/></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">20. Finally navigate to User Administration -&gt; Groups, and open your group.   You should see all the newly added users in the Group Members tab.</span></p><p></p><p><span style="font-size: 12pt;">Obviously, other tests you will want to perform are:</span></p><p style="padding-left: 30px;"></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">1. Do all users exist in the group?</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">2. Is the manager field filled in on the group?</span></p><p style="padding-left: 30px;"><span style="font-size: 12pt;">3. Manager rejects the request</span></p><p></p><p dir="ltr"><span style="font-size: 12pt; font-family: arial, helvetica, sans-serif; color: #000000;">And you are done!</span></p><p></p><p><span style="font-size: 12pt;">You will probably want to go the extra step of notifying the requestor of the results of each request, and you could also set up the status for the user to track where their request currently is.   Just a couple of cleanup items.   :-)</span></p><p></p><p dir="ltr"><span style="font-family: arial, helvetica, sans-serif; font-size: 12pt;"><span style="color: #000000;">I want to highly recommend taking the </span><a href="http://www.servicenow.com/services/training-and-certification/scripting-in-servicenow-training.html"><span style="color: #1155cc; text-decoration: underline;">ServiceNow Scripting</span></a><span style="color: #000000;"> training class should you get the opportunity.   The class has an entire module covering Workflow Scripting!</span></span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;">Steven Bell</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #000000;"><img alt="accenture logo small.jpg" class="jive-image" height="65" src="https://lh6.googleusercontent.com/WAT2g2Hx2FqFFhiLkxtK93cZQl0LD2votb_Zzo9Lnrp0wuQNtqHKiJAsc6pE1JPJg0UC7xwGXBGJ3fJ9e8dvEUVaUb-1SBYvBZaj71r3U7Wa-6BZmpxVVLq5a8sJMF2mHjICiccM" style="border-style: none;" width="243"/></span><span style="font-size: 16px; font-family: Arial; color: #000000;"><img class="jive-image" height="48" src="https://lh5.googleusercontent.com/-10BEf-SUojMWUSybCkoPg-xQFReNUNw4jkhpuZQHSUjsLPOiZO6W_Bxi0Y0PQPJ1VQO_CEFhAbbNXGM_Uv7twSMEnl79f6NCZO7dcYnNXwgMYkK-wMzH96Lbw4zu_quf857TT-t" style="border-style: none;" width="135"/></span><span style="font-size: 16px; font-family: Arial; color: #000000;"><img class="jive-image" height="48" src="https://lh4.googleusercontent.com/6BaCXiYUAx38akAu6Am0EVdJN726WayUSFi-FShdcIhtyk_BRN4xDdn7KwdYK80Qp6wC02fcFFaZDdVWdLpNiawKeP7mh96cNNgOHZetu2aQVvZEjJwOeAQGP4WzUh9Y_9TbR5TI" style="border-style: none;" width="135"/></span></p><p></p><p dir="ltr"><span style="font-family: Arial; font-weight: bold;">For a list of all of my articles:   </span><a _jive_internal="true" href="/groups/servicenow-user-group-us-tx-north-texas/blog/2015/10/23/community-code-snippets-articles-list-to-date"><span style="font-family: Arial; color: #266fc8; font-weight: bold;">Community Code Snippets: Articles List to Date</span></a></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #eb7a3d;">Please Share, Like, Bookmark, Mark Helpful, or Comment this blog if you've found it helpful or insightful.</span></p><p></p><p dir="ltr"><span style="font-size: 16px; font-family: Arial; color: #eb7a3d;">Also, if you are not already, I would like to encourage you to become a member of our blog!</span></p>